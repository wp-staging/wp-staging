=== WP STAGING - Backup Duplicator & Migration  ===

Author URL: https://wordpress.org/plugins/wp-staging
Plugin URL: https://wordpress.org/plugins/wp-staging
Contributors: ReneHermi, WP-Staging
Donate link: https://wp-staging.com/#pricing
License: GPLv2 or later
License URI: http://www.gnu.org/licenses/gpl-2.0.html
Tags: backup, database backup, staging, duplication, clone
Requires at least: 3.6+
Tested up to: 5.8
Stable tag: 2.8.8
Requires PHP: 5.5

A backup & duplicator plugin - clone, move, duplicate & migrate websites to staging, backup, and development sites for authorized users only.

== Description ==

<h3>WP STAGING for WordPress Cloning & Migration</h3>
This duplicator, staging, and backup plugin can create an exact copy of your entire website in seconds.* Great for staging, backup, or development purposes.
(Cloning and Backup time depends on the size of your website)<br /><br />
This clone plugin creates a clone of your website into a subfolder or subdomain (Pro) of your main WordPress installation. The clone includes an entire copy of your database.
 <br /> <br />
<strong>Note: </strong> For pushing & migrating plugins and theme files to production site, check out the pro edition [https://wp-staging.com/](https://wp-staging.com/ "WP STAGING PRO")
<br /><br />
All the time-consumptive database and file cloning operations are done in the background. The plugin even automatically does an entire search & replacement of all serialized links and paths.
 <br /><br />
This staging and backup plugin can clone your website even if it runs on a weak shared hosting server.
 <br /><br />
 <br /><br />
WP STAGING can help you to prevent your website from being broken or unavailable because of installing untested plugin updates!

[youtube https://www.youtube.com/watch?v=vkv52s36Yvg]

= Main Features =

* WP STAGING clones the whole production site into a subfolder like example.com/staging-site.
* Easy to use! Create a clone of your site by clicking one button
* No Software as a Service - No account needed! All data belong to you only and stay on your server.
* No server timeouts on huge websites or/and small hosting servers
* Very fast - Migration and clone process takes only a few seconds or minutes, depending on the website's size and server I/O power.
* Use the clone as part of your backup strategy
* Only administrators can access the clone website.
* SEO friendly: The clone website is unavailable to search engines due to a custom login prompt and the meta tag no-index.
* The admin bar on the staging website is orange colored and shows clearly when you work on the staging site.
* Extensive logging features
* Supports all popular web servers: Apache, Nginx, and Microsoft IIS
* <strong>[Premium]: </strong>Choose a separate database and select a custom directory for cloning
* <strong>[Premium]: </strong>Make the clone website available from a subdomain like dev.example.com
* <strong>[Premium]: </strong>Push & migrate entire clone site inc. all plugins, themes, and media files to the production website.
* <strong>[Premium]: </strong>Define user roles that get access to the clone site only. For instance, clients or external developers.
* <strong>[Premium]: </strong>Migration and cloning of WordPress multisites

> Note: Some features are Premium. This means you need WP STAGING | PRO to use those features. [get WP STAGING | PRO](https://wp-staging.com)!

= Additional Features WP STAGING | PRO Edition  =

* Backup entire website, even with millions of database rows extremely fast
* Migrate and transfer WordPress to another host or domain
* Cloning and migration of WordPress multisite
* Define a separate database and a custom directory for cloning
* Clone your website into a subdomain
* Specify certain user roles for accessing the staging site
* Copy all modifications from the staging site to the production website

<strong>Change your workflow of updating themes and plugins data:</strong>

1. Use WP STAGING to clone a production website for staging, testing, or backup purposes
2. Create a backup of your website
3. Customize the theme, configuration, update or install new plugins
4. Test everything on your staging site and keep a backup of the original site
5. If everything works on the staging site start the migration and copy all modifications to your production site!

<h3> Can´t I just use my local WordPress development system like xampp / lampp for testing and backup purposes? </h3>

You can test your website locally but if your local hardware and software environment is not a 100% exact clone of your production server there is NO guarantee that every aspect of your local copy is working on your production website exactly as you expect it.
There are some obvious things like differences in the config of PHP and the server you are running but even such non-obvious settings like the amount of RAM or the CPU performance can lead to unexpected results on your production website.
There are dozens of other possible cause of failure which can not be handled well when you are testing your changes on a local platform only without creating a backup staging site.

This is where WP STAGING comes into play... Site cloning, backup, and staging site creation simplified and with enterprise code quality on a new level.!


== Frequently Asked Questions ==

= Why should I use a Staging Website? =

Plugin updates and theme customizations should be tested on a staging platform first before they are done on your production website.
It's recommended to have the staging platform on the same server where the production website is located to use the same hardware and software environment for your test website and to catch all possible errors during testing.

Before you update a plugin or going to install a new one, it is highly recommended to check out the modifications on a clone of your production website.
This makes sure that any modifications work on your production website without throwing unexpected errors or preventing your site from loading. Better known as the "WordPress blank page error".

Testing a plugin update before installing it in a production environment isn´t done very often by most users because existing staging solutions are too complex and need a lot of time to create a
an up-to-date copy of your website.

You may be afraid of installing plugins updates because you follow the rule "never touch a running system" with having in mind that untested updates are increasing the risk of breaking your site.
This is one of the main reasons why WordPress installations are often outdated, not updated at all, and insecure because of this non-update behavior.

<strong> It's time to change this, so use "WP STAGING" for cloning, backup, and migration of WordPress websites</strong>

= How to install and set up? =
Install WP STAGING backup via the admin dashboard. Go to  'Plugins', click 'Add New' and search the plugins for 'WP STAGING'. Install the plugin with 'Install Now'.
After installation, go to WP STAGING > Staging Sites and create your first staging / backup site

= Is this a backup plugin? =
Even though you can use WP STAGING for backup purposes, the free version is not a usual backup plugin per the general definition. WP STAGING creates a clone of your entire website which you can immediately use for developing and testing.
You can even use it as some kind of backup in case something happens to your production site but only the WP STAGING | PRO pro version allows you to download the backup to your local computer. There are many other popular backup plugins out there but our goal is to bring the reliability and performance of a backup plugin to a new level. So instead of offering our backup feature free of charge, we think it's time to provide a full-fledged premium backup solution with enterprise code quality affordable for everyone.

[Video: How we run automated tests for WP STAGING](https://www.youtube.com/watch?v=Tf9C9Pgu7Bs)

= What is the difference between WP STAGING and other backup plugins? =

----------------------------------------------
Note: WP STAGING | PRO provides more advanced backup functionality which can be compared with the below-mentioned backup plugins. The speed and performance of WP STAGING's backup feature often exceed even the biggest and well-established backup plugins.
We are now adding more and more advanced backup features to deliver what other existing backup plugins are still missing.
----------------------------------------------

You may have heard about other popular backup plugins like All in one Migration, BackWPUp, BackupWordPress, Simple Backup, WordPress Backup to Dropbox, or similar WordPress backup plugins and now wonder about the difference between WP STAGING and those backup tools.
Other backup plugins usually create a backup of your WordPress filesystem and a database backup which you can use to restore your website in case it became corrupted or you want to go back in time to a previous state.
The backup files are compressed and can not be executed directly. WP STAGING on the other hand creates a full backup of the whole file system and the database in a working state that you can open like your original production website.

Even though WP STAGING comes with some backup capabilities its main purpose is to create a clone of your website which you can work on. It harmonies very well with all the mentioned backup plugins above and we recommend that you use it in conjunction with these backup plugins.

Note, that some free backup plugins are not able to support custom tables. (For instance the free version of Updraft plus backup plugin). In that case, your backup plugin is not able to create a backup of your staging site when it is executed on the production site.
The reason is that the tables created by WP STAGING are custom tables beginning with another table prefix.
To bypass this limitation and to be able to create a backup of your staging site, you can set up your backup plugin on the staging site and create the backup from that location. This works well with every available WordPress backup plugin.

= I want to migrate my local website to another host =
If you want to migrate your local website to an already existing production site you can use our pro version WP STAGING | PRO or a tool like WP Migrate DB which copies only the database.
WP STAGING is intended for creating a staging site with the latest data from your production site or creating a backup of it.

= What are the benefits compared to a plugin like Duplicator? =
We like the Duplicator plugin. Even if it is not as fast as WP STAGING for creating a backup it is a great tool for migrating from a development site to production one or from production site to development one and a good tool to create a backup of your WordPress website.
The downside is that before you can even create an export or backup file with Duplicator a lot of adjustments, manual interventions, and requirements are needed before you can start the backup process.
The backup plugin Duplicator also needs some skills to be able to create a backup and development/staging site, where WP STAGING does not need more than a click from you to create a backup or staging site.
Duplicator is best placed to be a tool for the first-time creation of your production site. This is something where it is very handy and powerful.

If you have created a local or web-hosted development site and you need to migrate this site the first time to your production domain then you are doing nothing wrong with using
the Duplicator plugin! If you need all your latest production data like posts, updated plugins, theme data, and styles in a testing environment or want to create a quick backup before testing out something then we recommend using WP STAGING instead!

If speed, performance, and code quality are a matter for you as well, give WP STAGING | PRO a try.

= I can not log in to the staging / backup site =
If you are using a security plugin like Wordfence, iThemes Security, All In One WP Security & Firewall, or a plugin that hides the WordPress default login URL make sure that you have installed the latest version of WP STAGING to access your cloned backup site.
If you can still not log in to your staging / backup site, you can go to WP STAGING > settings and disable there the WP STAGING extra authentication. Your admin dashboard will still be protected and not accessible to public users.


= Can I activate permalinks on the staging site? =

Permalinks are disabled on the staging / backup site after first time cloning / backup creation
[Read here](https://wp-staging.com/docs/activate-permalinks-staging-site/ "activate permalinks on staging site") how to activate permalinks on the staging site.

= Can I give you some feedback? =
This plugin has been created in thousands of hours and works even with the smallest shared web hosting package.
We also use enterprise-level approved testing coding environment to make sure that the cloning and backup process run rock-solid on your system.
If you are a developer you will probably like to hear that we use Codeception and PHPUnit for our backup software.

As there are infinite variations of possible server constellations it still can happen that something does not work for you 100%. In that case,
please open a [support request](https://wp-staging.com/support/ "support request") and describe your issue.

== Official Site ==
https://wp-staging.com

== Installation ==
2. Upload and install it via the WordPress plugin backend wp-admin > Plugins > Add New > uploads
3. Activate the plugin through the 'Plugins' menu in WordPress.

== Screenshots ==

1. Create new WordPress staging / backup site
2. Select name for staging / backup site
3. Select folders to include in staging / backup site
4. Cloning / backup processing
5. Listed staging / backup sites
5. Listed staging / backup sites
6. Open, edit & delete staging / backup sites
7. Login to staging / backup site
4. Demo of a staging / backup site

== Changelog ==

= 2.8.8 =
* New: Compatible up to WordPress 5.8.1
* Enh: Refactor the wp_login action hook to work with different parameter count than the one in WordPress Core #1223
* Enh: Sort new staging backup sites in descending order by creation time #1226
* Enh: Warn if creating a backup in PHP 32 bit version #1231
* Enh: Update the backup upload success message #1221
* Enh: Show a notice if there is a new WP STAGING free version of the backup plugin #1250
* Enh: Rename db option wpstg_existing_clones_beta to wpstg_staging_sites #1211
* Enh: Update the warning message shown when the delete process of the staging backup site fails #1257
* Enh: Allow use of REST API on staging backup sites without login #1287
* Enh: Add new EDD software licensing updater for the pro version of the WP STAGING backup plugin #1294
* Fix: New pro version does not recognize staging backup sites created with older free version #1293
* Fix: Fix a rare issue that could happen when creating a new staging backup site or restoring a backup when there is a row with primary key with value zero #1271
* Fix: Try to repair MyISAM table if it's corrupt when creating a Backup #1222
* Fix: Fix an issue on backup creation that would cause a database export to loop when encountering a table with negative integers or zeros as a primary key value #1251
* Fix: Lock specific tables while exporting a backup, to prevent a rare duplicated row issue #1245
* Fix: If the memory exhausts during a database export using the Backup feature, lower the memory usage/speed of the export and try again automatically #1230
* Fix: Prevent failure of adding database to backup from causing a loop #1231
* Fix: Fix issue when old backup clones from version 1.1.6 or lower replaces the existing clones from later version when upgrading from FREE to PRO version #1233
* Fix: Fix inconsistent Unselect All Tables button's action #1243
* Fix: Replace undefined date with proper formatted date during backups for some warning and critical messages #1244
* Fix: Split file scanning of wp-content into scanning of plugins, themes, uploads and other directories to reduce timeout issues #1247
* Fix: Rename .user.ini to .user.ini.bak after cloning to reduce fatal errors on staging backup site. Also show a notice. #1255
* Fix: Skip scanning the root directory if all other directories are unselected before starting a backup staging site #1256
* Fix: Show correct insufficient space message instead of permission error if unable to copy or create a backup site due to insufficient space #1283
* Fix: Fix showing of error when unable to count tables rows and wrap table name when fetching rows during backup #1285
* Fix: Remove custom error handler that could cause errors due to notices being thrown #1292
* Fix: Fix an error that would occur when PHP lacked permission to get the size of a directory when pushing a staging backup site to production #1295
* Dev: Set the version of Selenium containers to 3.141.59-20210713 to avoid issues with broken latest version of selenium #1234

= 2.8.7 =
* Enh: Refactor our wp_login action hook to work with custom calls to this action with different parameter count than the one in WordPress Core #1223
* Enh: Sort new staging sites in descending order by creation time #1226
* Enh: Warn if creating a backup in PHP 32 bits #1231
* Enh: Update the backups upload success message #1221
* Enh: Show a notice for outdated wp staging on free version of plugin #1250
* Enh: Refactor wpstg_existing_clones_beta in db option to wpstg_staging_sites #1211
* Enh: Update the message shown when the entire delete of the staging site fails #1257
* Fix: Fix a rare issue that could happen when creating a new staging site or restoring a backup when there is a row with primary key with value zero #1271
* Fix: Try to repair MyISAM table if it's corrupt when creating a Backup #1222
* Fix: FIx an issue on backup creation that would cause a database export to loop when encountering a table with negative integers or zeros as a primary key value #1251
* Fix: Lock specific tables while exporting a backup, to prevent a rare duplicated row issue #1245
* Fix: If the memory exhausts during a database export using the Backup feature, we now lower the memory usage/speed of the export and try again automatically #1230
* Fix: Prevent failure of adding database to backup from causing a loop #1231
* Fix: Fix issue when old clones from version 1.1.6 or lower replaces the existing clones from later version when upgrading from FREE to PRO version #1233
* Fix: Fix inconsistent Unselect All Tables button's action #1243
* Fix: Replace undefined date with proper formatted date during backups log for some warning and critical messages #1244
* Fix: Split scanning of wp-content into scanning of plugins, themes, uploads and other directories to reduce timeout issues #1247
* Fix: Rename .user.ini to .user.ini.bak after cloning into staging site reduce fatal errors on your staging site. Also show a notice about this #1255
* Fix: Skip scanning the root directory if all other directories are are unselected #1256
* Dev: fix the version of Selenium containers to 3.141.59-20210713 to avoid issues with broken latest version #1234

= 2.8.6 =
* New: Support WordPress 5.8
* New: Show notice if uploads dir is outside WP Root #1138
* Enh: Refactor our wp_login action hook to work with custom calls to this action with different parameter count than the one in WordPress Core #1223
* Enh: Also show disabled permalink message in disabled items notice on the staging site and show a page builder (DIVI, Elementor etc) not working help link in wpstg page footer #1150
* Enh: Decouple clone name and clone ID for better usage #1158
* Enh: Show issue notice if backups is created on version >= 4.0.2 #1198
* Enh: Remove deprecated hooks call #1209
* Fix: Fix staging site when site has freemius script #1112
* Fix: Prefix 'wpstg' to sweetalerts Swal to avoid conflict with its other versions #1125
* Fix: Set default values for wpstg settings on plugin activate event if wpstg settings not already set #1135
* Fix: Fix the problem when unable to access the staging site because production site have different siteurl or home url and either one of them is having www. prefix #1136
* Fix: Restore a backup with VIEWs or TABLEs if there are special MySQL SQL statements such as DEFINER #1139
* Fix: Fix issue where graphical tab triangle was inconsistent by using css based tab triangle #1148
* Fix: Reduce time to query INFORMATION_SCHEMA table on some shared hosts from ~10s to one millisecond #1154
* Fix: Check available free disk space on large disks on 32-bit PHP #1179
* Fix: Fix a bug where a PHP memory_limit of -1 (Unlimited) would be interpreted as 64MB, now it's interpreted as 512MB #1178
* Fix: Remove usages of `abstract static` methods that would violate `strict` PHP checks #1185
* Fix: Cloning a site resets the settings to the default ones #1183
* Fix: Fix Clone RESET and Clone DELETE when unable to delete file due to permission error #1196
* Fix: Fix an issue when canceling a push confirm redirects to empty page #1206
* Fix: Add missing back button and hide cancel button after clone UPDATE and clone RESET #1207
* Fix: Fix Error in JS console related to registering of main-menu in page where it was not available #1205
* Dev: Add wrapper methods for deprecated hooks functions to support WordPress < 4.6 #1209

= 2.8.5 =
* Enh: Preview of the new backup & migration feature in WP STAGING | PRO
* Enh: Replace CSS based hover with pure js hoverintent for tooltips #1106
* Enh: Cleanup logs older than 7 days automatically #1116
* Enh: Update the version to check in Outdated WP Staging Hooks notice #1118
* Enh: Schedule the uploads backup to be deleted after one week if that option was selected during push #980
* Enh: Allow copying of only that symlink whose source is a directory #979
* Enh: Show notice only to user who can manage_options if wp_options table is missing primary key #1009
* Enh: Delete Optimizer Plugin on WP Staging plugins deactivate instead of uninstall #1096
* Fix: Fixed conflict with Rank Math Seo PRO when Rank Math Seo PRO is activated network wide in multisites #1111
* Fix: Make Scan::hasFreeDiskSpace() return other info even if disk_free_space is unavailable #1093
* Fix: Replace the deprecated of calling a non-static method in daily version check hooks #1092
* Fix: Try catch all instance of directory iterators #1101
* Fix: Handle error properly for Filesystem::delete() method #974
* Fix: Remove loading wpstg scripts as ESM to allow loading them as asynchronous #1007
* Fix: Properly handle exception while cleaning themes and plugins bak and tmp directories #1017
* Fix: Delete the clone even if in any case a corrupted delete job cache file existed for delete job #1033
* Fix: No cloning/pushing logs were written to file. Now fixed. #1040
* Fix: Wrap wp_doing_ajax in a adapter and use that adapter to call it to make it usable in WP < 4.7  #1047
* Fix: Fix typo and wrap up text in i18n for src/Backend/views/clone/ajax/start.php #1051
* Fix: Fix missing clone options warning during scanning process for old clones for UPDATE and RESET #1058
* Fix: Make isExcludedDirectories condition works for relative directories path too #1054
* Fix: Set donation link to redirect to WP Staging pricing page #1080
* Dev: Add a shortcut to allow to use the DI container as a Service Locator easier under some circumstances #1039
* Dev: Add trait to allow for easier use of the `uopz` extension in tests #1053
* Dev: Replace const related tests logic with UOPZ for better readability and control #1079

= 2.8.4 =
* Feat: Compatible up to WordPress 5.7.2
* Enh: Preserve directories/tables selection and excludes rules for RESET and UPDATE process #809
* Enh: If any wpstg process is running allow to stop that process within RESET modal #942
* Fix: Fix multisite subsite capabilities on the staging site #852
* Fix: Properly resets the properties between Cloning tasks #896
* Fix: Avoid PHP warning when building version of missing asset file #929
* Fix: Make RESET modal show error message within modal on failed response instead of browser logs #942
* Fix: Replace wpstgGetCloneSettings() in mail-settings.php with CloneOption::get() #956
* Fix: Little typo changed effect to affect #963
* Fix: Made node_modules dir to be only excluded from WP Staging's Plugins #963
* Fix: Fix UPDATE and RESET for old wpstg clones which are without appended underscore db prefix #958

= 2.8.3 =
* Enh: Add Shutdownable interface to replace usages of __destruct in the code #729
* Enh: Refactor on how the plugin keeps track of a request running time #766
* Fix: Replace deprecated jQuery click method #730
* Fix: Fix overlapping of sweetalert confirmation on push with sidebar #742
* Fix: Exclude wp staging content folder during staging #741
* Fix: Add sanitizing for path to fix comparing for Windows paths #751
* Fix: _cerber_files tables are excluded and could not be copied Fix #770
* Fix: Replaced jQuery assignment with an IIFE wrapper #761
* Dev: Update php-scoper and other development dependencies #744
* Dev: Build javascript when building the distributable version of the plugin #750
* Dev: Internal helper CLI command to order the changelog notes according to type #749
* Dev: Refactor Job(s) implementation to use the Resources Trait #765
* Dev: Add internal documentation to versioning and hotfixes #780

= 2.8.2 =
* Feat: Compatible up to WP 5.7
* Feat: Check database connection in clone data edit #650
* Feat: Exclude .wp-staging-cloneable file from cloning and update #718
* Feat: Show notice if a user is using an outdated version of WP Staging Hooks plugin #716
* Feat: Add single disabled items notice with better message #717
* Feat: Add options to enable/disable staging sites cloning from UI #722
* Enh: Use included directories instead of excluded directories to increase cloning speed #671
* Enh: Stringify directories array var in $_POST to reduce $_POST size during cloning #671
* Enh: Replace relative paths exclude to absolute and wildcard paths exclude during cloning #671
* Enh: Detect snapshot tables using regex #694
* Enh: Enable disable save button in clone data edit during database connection #700
* Enh: Improve exclude filters for Push process #720
* Enh: Move Backend/public/img to assets/img #719
* Enh: Unify Single and Multisite Classes #713
* Enh: Keep other staging behavior when the staging site is cloneable #722
* Enh: Refactor search and replace jobs to use memory and time-consumption aware trait #702
* Fix: Lost password link generation in staging sites #697
* Fix: Fix cloning on multisite for PHP 5 #725
* Fix: Skip symlink scanning during directory scan #736
* Fix: Replace deprecated jQuery click method #730
* Fix: Fix overlapping of sweetalert confirmation on push with sidebar #742
* Fix: Exclude wp staging content folder during staging #741
* Fix: Add sanitizing for path to fix comparing for Windows paths #751
* Fix: Uninstall not possible if "delete all settings is activated" #756
* Dev: Internal refactoring of database backup to avoid long-lived branch #624
* Dev: Enforced changelog entries in CI #695
* Dev: Refactored webdriver tests to make them faster #656
* Dev: Refactor how the automated test workflows are generated. Add new webdriver test before release with default settings #712
* Dev: Increased default file batch limits for faster development environment and CI #706
* Dev: Renamed all code and UI references of Snapshot to Backup #715
* Dev: Add helper to manage clone settings #717
* Dev: Internal code refactoring, renaming classes for better readability #721
* Dev: Add infrastructure support for wp-cli and background processing #728
* Dev: Update php-scoper and other development dependencies #744
* Dev: Build javascript when building the distributable version of the plugin #750

= 2.8.1 =
* Feat: Show creator user name of staging site
* Enh: Show notice if sending mails are disabled
* Enh: Show message and stop execution if php version is lower than 5.5
* Enh: Abort cloning process if table already exists in external database
* Fix: Can not update database credentials in staging sites wp-config.php under rare circumstances
* Fix: During the update process if options table was not selected it didn't get skipped
* Fix: Error if WP is lower than 4.6
* Fix: Can not delete entire staging site on error
* Fix: Activating pro version does not properly disable free version

= 2.8.0 =
* Fix: Latest supported WP version is not reflected on wordpress.org plugin repo
* Enh: Show confirmation popup if user tries to send another support request within an hour

= 2.7.9 =
* New: Compatible up to WordPress 5.6
* Fix: Uninstall function can throw fatal error
* Fix: Do not write sensitive information into debug.log if debug mode is active
* Fix: Update notification shown even if there is no more recent version
* Dev: Memory exhausted during tests
* Dev: Prefix composer vendor libraries with PHP-Scoper
* Dev: Add more unit and webdriver tests to improve QA
* Enh: Change authentication to a combination of nonces and access tokens
* Enh: Improve tests performance
* Enh: Add tests for database export and restore

= 2.7.8 =
* New: Add special admin notice if plugin is not tested with latest WordPress version
* New: Compatible up to WordPress 5.5.2
* New: Allow deleting of orphaned staging site entries if staging site was deleted manually before

* Fix: Activation hook is not fired after first time installation and wpstg optimizer and cron tasks are not set up
* Fix: Staging site does not work if database password contains dollar sign in password
* Fix: Prevent fatal error when the plugin is activated, but there is no permission to create folder wp-content/uploads/wp-staging or wp-content/uploads/wp-staging/logs.

* Dev: Add new DI container implementation
* Dev: Add composer 2

= 2.7.7 =
* Fix: Fatal error on activation in pro version (Syntax error)

= 2.7.6 =
* New: Compatible up to WordPress 5.5.1
* New: Add WP_ENVIRONMENT_TYPE constant for staging site
* New: Better and wider test coverage
* New: Implementing of automated CI tests
* New: Huge code base refactor for cleaner code
* New: Updated authentication mechanism for ajax requests
* New: Show welcome video message
* New: Show message asking for admin credentials on login form
* New: Move WP STAGING menu down below the menu Plugins
* New: Selected tables are highlighted with a blue background color
* Fix: Show access denied message if a non but existing user tries to access the staging site
* Fix: Remove wp_logout() in staging site login form to prevent multiple login log entries with plugin WP Activity Log
* Fix: Wrong german translations
* Fix: Cloning fails if there is no underscore in table prefix

= 2.7.5 =
* New: Compatible up to WordPress 5.4.2
* Fix: Remove beta notice
* Fix: Error if views are cloned
* Fix: Fatal error if WordPress is older than 4.5
* Fix: Merge pro/free version
* Fix: Step switching logic does not work properly
* Fix: Fix progress bar when certains steps are skipped
* Fix: Change german translation for REPORT ISSUE

= 2.7.4 =
SKIP VERSION

= 2.7.3 =
* New: Compatible up to WordPress 5.4.1
* New: Allow filtering of staging site title
* Fix: Since WordPress WP 5.4 cloning fails if WordPress is installed in subfolder
* Fix: Loading icon not shown when disk space is checked
* Fix: Can not copy tables if prefix is capitalized & has no underscore

= 2.7.2 =
* New: Compatible up to WordPress 5.4
* Fix: Fatal error on WordPress 4.6 and older

= 2.7.1 =
* HotFix: Prefix hotfix failed

= 2.7.0 =
* HotFix: Fix fatal error in step 6 after updating to WordPress 5.4

= 2.6.9 =
* Fix: Can not login to staging site under certain circumstances
* Fix: Use user selected language setting instead global site based one
* Fix: Fatal Error: curl_version() not defined in SystemInfo.php
* New: Refactored structure for easier maintenance
* New: Core support for WP Staging snapshots
* New: Implementing of UnitTests

= 2.6.8 =
* Fix: If server is windows it will result in missing files after cloning and can lead to fatal errors of the staging site

= 2.6.7 =
* Fix: Update function adds duplicate string to internal urls like https://example.com/staging/staging/wp-content/*
* New: Support for WP 5.3.2

= 2.6.6 =
* Fix: Fatal error: Cannot redeclare wpstgpro_overwrite_nonce() and wpstg_overwrite_nonce() after activating pro version on top of this free one
* Fix: wpdb->prepare() warning after initial cloning

= 2.6.5 =
* New: Support for WordPress 5.3.1
* New: Refactoring code base and remove app folder
* New: Add french language files
* New: Add WP Staging logo to login form
* New: Set 24 hours expiration date to process lock
* New: Add link URL to staging site title
* Fix: Fatal error: Invalid serialization data for DateTime object #91
* Fix: Add missing string language location
* Fix: Function fnmatch() not available in all systems
* Fix: Warning in staging site after initial cloning in db row rewrite_rules
* Fix: Wrong staging site is selected when delete function is executed and there are more then 10 staging sites

= 2.6.4 =
* Fix: Broken image folder with duplicate leading slash after cloning

= 2.6.3 =
* New Support for WordPress 5.2.4
* New: Allow wildcards for excluding files
* New: Add hook "wpstg_clone_action_staging" to execute code on staging site after cloning
* Tweak: Improved support for custom uploads folder if user customized UPLOADS constant or upload_path in DB
* Fix: Better compatibility with Windows IIS server
* Fix: External links are broken after cloning if ABSPATH is equal to /www/
* Fix: use an alternative method for file_put_contents as it is not supported on all systems due to file permission issues
* Fix: Redundant and duplicated update comments in wp-config.php in staging site

= 2.6.2 =
* Fix: Do not show warning "Preparing Data Step3: Failed to update rewrite_rules in wpstg0_options"
* Fix: Change error "Table wpstgtmp_options does not exist" to warning
* New: Add arguments for hook wpstg_cloning_complete
* New: Setup server environment variables per process and not globally (e.g. set_time_limit)
* New: Add support for custom uploads folder if user customized UPLOADS constant or upload_path in DB

= 2.6.1 =
* New: Improve styling of login form. Thanks to Andy Kennan (Screaming Frog)
* New: Add 'password lost' button to login form
* New: Change welcome page CTA
* New: Add feedback option when plugin is disabled
* Fix: PDO instances can not be serialized or unserialized
* Fix: Can not update staging site db table if there are constraints in it

Full changelog: [https://wp-staging.com/wp-staging-changelog](https://wp-staging.com/wp-staging-changelog)

== Upgrade Notice ==
* Enh: Refactor the wp_login action hook to work with different parameter count than the one in WordPress Core #1223
* Enh: Sort new staging backup sites in descending order by creation time #1226
* Enh: Warn if creating a backup in PHP 32 bit version #1231
* Enh: Update the backup upload success message #1221
* Enh: Show a notice if there is a new WP STAGING free version of the backup plugin #1250
* Enh: Rename db option wpstg_existing_clones_beta to wpstg_staging_sites #1211
* Enh: Update the warning message shown when the delete process of the staging backup site fails #1257
* Enh: Allow use of REST API on staging backup sites without login #1287
* Enh: Add new EDD software licensing updater for the pro version of the WP STAGING backup plugin #1294
* Fix: New pro version does not recognize staging backup sites created with older free version #1293
* Fix: Fix a rare issue that could happen when creating a new staging backup site or restoring a backup when there is a row with primary key with value zero #1271
* Fix: Try to repair MyISAM table if it's corrupt when creating a Backup #1222
* Fix: Fix an issue on backup creation that would cause a database export to loop when encountering a table with negative integers or zeros as a primary key value #1251
* Fix: Lock specific tables while exporting a backup, to prevent a rare duplicated row issue #1245
* Fix: If the memory exhausts during a database export using the Backup feature, lower the memory usage/speed of the export and try again automatically #1230
* Fix: Prevent failure of adding database to backup from causing a loop #1231
* Fix: Fix issue when old backup clones from version 1.1.6 or lower replaces the existing clones from later version when upgrading from FREE to PRO version #1233
* Fix: Fix inconsistent Unselect All Tables button's action #1243
* Fix: Replace undefined date with proper formatted date during backups for some warning and critical messages #1244
* Fix: Split file scanning of wp-content into scanning of plugins, themes, uploads and other directories to reduce timeout issues #1247
* Fix: Rename .user.ini to .user.ini.bak after cloning to reduce fatal errors on staging backup site. Also show a notice. #1255
* Fix: Skip scanning the root directory if all other directories are unselected before starting a backup staging site #1256
* Fix: Show correct insufficient space message instead of permission error if unable to copy or create a backup site due to insufficient space #1283
* Fix: Fix showing of error when unable to count tables rows and wrap table name when fetching rows during backup #1285
* Fix: Remove custom error handler that could cause errors due to notices being thrown #1292
* Fix: Fix an error that would occur when PHP lacked permission to get the size of a directory when pushing a staging backup site to production #1295
* Dev: Set the version of Selenium containers to 3.141.59-20210713 to avoid issues with broken latest version of selenium #1234

* Enh: Refactor our wp_login action hook to work with custom calls to this action with different parameter count than the one in WordPress Core #1223
* Enh: Sort new staging sites in descending order by creation time #1226
* Enh: Warn if creating a backup in PHP 32 bits #1231
* Enh: Update the backups upload success message #1221
* Enh: Show a notice for outdated wp staging on free version of plugin #1250
* Enh: Refactor wpstg_existing_clones_beta in db option to wpstg_staging_sites #1211
* Enh: Update the message shown when the entire delete of the staging site fails #1257
* Fix: Fix a rare issue that could happen when creating a new staging site or restoring a backup when there is a row with primary key with value zero #1271
* Fix: Try to repair MyISAM table if it's corrupt when creating a Backup #1222
* Fix: FIx an issue on backup creation that would cause a database export to loop when encountering a table with negative integers or zeros as a primary key value #1251
* Fix: Lock specific tables while exporting a backup, to prevent a rare duplicated row issue #1245
* Fix: If the memory exhausts during a database export using the Backup feature, we now lower the memory usage/speed of the export and try again automatically #1230
* Fix: Prevent failure of adding database to backup from causing a loop #1231
* Fix: Fix issue when old clones from version 1.1.6 or lower replaces the existing clones from later version when upgrading from FREE to PRO version #1233
* Fix: Fix inconsistent Unselect All Tables button's action #1243
* Fix: Replace undefined date with proper formatted date during backups log for some warning and critical messages #1244
* Fix: Split scanning of wp-content into scanning of plugins, themes, uploads and other directories to reduce timeout issues #1247
* Fix: Rename .user.ini to .user.ini.bak after cloning into staging site reduce fatal errors on your staging site. Also show a notice about this #1255
* Fix: Skip scanning the root directory if all other directories are are unselected #1256
* Dev: fix the version of Selenium containers to 3.141.59-20210713 to avoid issues with broken latest version #1234
