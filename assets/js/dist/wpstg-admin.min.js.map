{"version":3,"file":"wpstg-admin.min.js","sources":["../src/modules/wpstg-polyfill.js","../src/modules/wpstg-hover-intent.js","../src/modules/wpstg-detect-memory-exhaust.js","../src/wpstg.js","../src/modules/wpstg-dom-utils.js","../src/modules/wpstg-sidebar-menu.js","../src/modules/wpstg-contact-us.js","../src/modules/wpstg-clone-staging.js","../src/modules/wpstg-directory-navigation.js","../src/modules/wpstg-table-selection.js","../src/modules/wpstg-exclude-filters.js","../src/modules/wpstg-modal.js","../src/modules/wpstg-reset-modal.js","../src/modules/wpstg-cloning-advance-settings.js","../src/modules/wpstg-main-menu.js","../../node_modules/regenerator-runtime/runtime.js","../src/backup/modules/wpstg-re-auth.js","../src/backup/modules/wpstg-auth-check.js","../src/modules/wpstg-process-modal.js","../src/notices/backup-plugins-notice.js","../src/wpstg-admin.js"],"sourcesContent":["/**\n * Polyfills the `Element.prototype.closest` function if not available in the browser.\n *\n * @return {Function} A function that will return the closest element, by selector, to this element.\n */\nfunction polyfillClosest() {\n  if (Element.prototype.closest) {\n    if (!Element.prototype.matches) {\n      Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n    }\n\n    Element.prototype.closest = function(s) {\n      let el = this;\n\n      do {\n        if (Element.prototype.matches.call(el, s)) return el;\n        el = el.parentElement || el.parentNode;\n      } while (el !== null && el.nodeType === 1);\n      return null;\n    };\n  }\n\n  return function(element, selector) {\n    return element instanceof Element ? element.closest(selector) : null;\n  };\n}\n\nexport const closest = polyfillClosest();\n","'use strict';\n\n/**\n * This is a namespaced port of https://github.com/tristen/hoverintent,\n * with slight modification to accept selector with dynamically added element in dom,\n * instead of just already present element.\n *\n * @param {HTMLElement} parent\n * @param {string} selector\n * @param {CallableFunction} onOver\n * @param {CallableFunction} onOut\n *\n * @return {object}\n */\nexport default function(parent, selector, onOver, onOut) {\n  let x; let y; let pX; let pY;\n  let mouseOver = false;\n  let focused = false;\n  const h = {};\n  let state = 0;\n  let timer = 0;\n\n  let options = {\n    sensitivity: 7,\n    interval: 100,\n    timeout: 0,\n    handleFocus: false,\n  };\n\n  function delay(el, e) {\n    if (timer) {\n      timer = clearTimeout(timer);\n    }\n\n    state = 0;\n    return focused ? undefined : onOut(el, e);\n  }\n\n  function tracker(e) {\n    x = e.clientX;\n    y = e.clientY;\n  }\n\n  function compare(el, e) {\n    if (timer) timer = clearTimeout(timer);\n    if ((Math.abs(pX - x) + Math.abs(pY - y)) < options.sensitivity) {\n      state = 1;\n      return focused ? undefined : onOver(el, e);\n    } else {\n      pX = x;\n      pY = y;\n      timer = setTimeout(function() {\n        compare(el, e);\n      }, options.interval);\n    }\n  }\n\n  // Public methods\n  h.options = function(opt) {\n    const focusOptionChanged = opt.handleFocus !== options.handleFocus;\n    options = Object.assign({}, options, opt);\n    if (focusOptionChanged) {\n            options.handleFocus ? addFocus() : removeFocus();\n    }\n\n    return h;\n  };\n\n  function dispatchOver(el, e) {\n    mouseOver = true;\n    if (timer) {\n      timer = clearTimeout(timer);\n    }\n\n    el.removeEventListener('mousemove', tracker, false);\n\n    if (state !== 1) {\n      pX = e.clientX;\n      pY = e.clientY;\n\n      el.addEventListener('mousemove', tracker, false);\n\n      timer = setTimeout(function() {\n        compare(el, e);\n      }, options.interval);\n    }\n\n    return this;\n  }\n\n  /**\n   * Newly added method,\n   * A wrapper around dispatchOver to support dynamically added elements to dom\n   */\n  function onMouseOver(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      dispatchOver(event.target.closest(selector), event);\n    }\n  };\n\n  function dispatchOut(el, e) {\n    mouseOver = false;\n    if (timer) {\n      timer = clearTimeout(timer);\n    }\n\n    el.removeEventListener('mousemove', tracker, false);\n\n    if (state === 1) {\n      timer = setTimeout(function() {\n        delay(el, e);\n      }, options.timeout);\n    }\n\n    return this;\n  }\n\n  /**\n   * Newly added method,\n   * A wrapper around dispatchOut to support dynamically added elements to dom\n   */\n  function onMouseOut(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      dispatchOut(event.target.closest(selector), event);\n    }\n  };\n\n  function dispatchFocus(el, e) {\n    if (!mouseOver) {\n      focused = true;\n      onOver(el, e);\n    }\n  }\n\n  /**\n   * Newly added method,\n   * A wrapper around dispatchFocus to support dynamically added elements to dom\n   */\n  function onFocus(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      dispatchFocus(event.target.closest(selector), event);\n    }\n  };\n\n  function dispatchBlur(el, e) {\n    if (!mouseOver && focused) {\n      focused = false;\n      onOut(el, e);\n    }\n  }\n\n  /**\n   * Newly added method,\n   * A wrapper around dispatchBlur to support dynamically added elements to dom\n   */\n  function onBlur(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      dispatchBlur(event.target.closest(selector), event);\n    }\n  };\n\n  /**\n   * Modified to support dynamically added element\n   */\n  function addFocus() {\n    parent.addEventListener('focus', onFocus, false);\n    parent.addEventListener('blur', onBlur, false);\n  }\n\n  /**\n   * Modified to support dynamically added element\n   */\n  function removeFocus() {\n    parent.removeEventListener('focus', onFocus, false);\n    parent.removeEventListener('blur', onBlur, false);\n  }\n\n  /**\n   * Modified to support dynamically added element\n   */\n  h.remove = function() {\n    if (!parent) {\n      return;\n    }\n\n    parent.removeEventListener('mouseover', onMouseOver, false);\n    parent.removeEventListener('mouseout', onMouseOut, false);\n    removeFocus();\n  };\n\n  /**\n   * Modified to support dynamically added element\n   */\n  if (parent) {\n    parent.addEventListener('mouseover', onMouseOver, false);\n    parent.addEventListener('mouseout', onMouseOut, false);\n  }\n\n  return h;\n};\n","/**\n * Detect memory exhaustion and show warning.\n */\nexport default class WpstgDetectMemoryExhaust {\n  constructor(\n      wpstgObject = wpstg,\n  ) {\n    this.wpstgObject = wpstgObject;\n  }\n\n  async sendRequest(requestType) {\n    try {\n      const response = await fetch(this.wpstgObject.ajaxUrl, {\n        method: 'POST',\n        credentials: 'same-origin',\n        body: new URLSearchParams({\n          action: 'wpstg--detect-memory-exhaust',\n          requestType: requestType,\n          accessToken: this.wpstgObject.accessToken,\n          nonce: this.wpstgObject.nonce,\n        }),\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n        },\n      });\n\n      const data = await response.json();\n\n      if ('undefined' !== typeof (data.status) && data.status && data.error) {\n        return data;\n      }\n\n      console.warn(data.message);\n    } catch (error) {\n      console.warn(this.wpstgObject.i18n['somethingWentWrong'], error);\n    }\n\n    return false;\n  }\n}\n","import wpstgHoverIntent from './modules/wpstg-hover-intent';\nimport WpstgDetectMemoryExhaust from './modules/wpstg-detect-memory-exhaust.js';\n\nexport default (function($) {\n  const WPStagingCommon = {\n    continueErrorHandle: true,\n    retry: {\n      currentDelay: 0,\n      count: 0,\n      max: 10,\n      retryOnErrors: [401, 403, 404, 429, 502, 503, 504],\n      performingRequest: false,\n      incrementRetry: function(incrementRatio = 1.25) {\n        WPStagingCommon.retry.performingRequest = true;\n        if (WPStagingCommon.retry.currentDelay === 0) {\n          // start with a delay of 1sec\n          WPStagingCommon.retry.currentDelay = 1000;\n          WPStagingCommon.retry.count = 1;\n        }\n\n        WPStagingCommon.retry.currentDelay += (500 * WPStagingCommon.retry.count * incrementRatio);\n        WPStagingCommon.retry.count++;\n      },\n      canRetry: function() {\n        return WPStagingCommon.retry.count < WPStagingCommon.retry.max;\n      },\n      reset: function() {\n        WPStagingCommon.retry.currentDelay = 0;\n        WPStagingCommon.retry.count = 0;\n        WPStagingCommon.retry.performingRequest = false;\n      },\n    },\n    memoryExhaustArticleLink: 'https://wp-staging.com/docs/php-fatal-error-allowed-memory-size-of-134217728-bytes-exhausted/',\n    cache: {\n      elements: [],\n      get: function(selector) {\n        // It is already cached!\n        if ($.inArray(selector, this.elements) !== -1) {\n          return this.elements[selector];\n        }\n\n        // Create cache and return\n        this.elements[selector] = $(selector);\n\n        return this.elements[selector];\n      },\n      refresh: function(selector) {\n        selector.elements[selector] = $(selector);\n      },\n    },\n    setJobId: function(jobId) {\n      localStorage.setItem('jobIdBeingProcessed', jobId);\n    },\n    getJobId: function() {\n      return localStorage.getItem('jobIdBeingProcessed');\n    },\n    async checkMemoryExhaustion(requestType) {\n      const detectMemoryExhaust = new WpstgDetectMemoryExhaust();\n      const response = await detectMemoryExhaust.sendRequest(requestType);\n\n      if (!response) {\n        return false;\n      }\n\n      return response;\n\n      response.messages = [{\n        'type': 'critical',\n        'date': result.data['time'],\n        'message': result.message + '. Read <a target=\"_blank\" href=\"' + WPStagingCommon.memoryExhaustArticleLink + '\">this article</a> for solving this issue. Please contact WP Staging support if you need further assistance.',\n      }];\n\n      WPStagingBackup.processResponse(response);\n\n      return true;\n    },\n    listenTooltip: function() {\n      wpstgHoverIntent(document, '.wpstg--tooltip', function(target, event) {\n        target.querySelector('.wpstg--tooltiptext').style.visibility = 'visible';\n      }, function(target, event) {\n        if (!event.target.closest('.wpstg--tooltiptext a')) {\n          target.querySelector('.wpstg--tooltiptext').style.visibility = 'hidden';\n        }\n      });\n    },\n    // Get the custom themed Swal Modal for WP Staging\n    // Easy to maintain now in one place now\n    getSwalModal: function(isContentCentered = false, customClasses = {}) {\n      // common style for all swal modal used in WP Staging\n      const defaultCustomClasses = {\n        confirmButton: 'wpstg--btn--confirm wpstg-blue-primary wpstg-button wpstg-link-btn wpstg-100-width',\n        cancelButton: 'wpstg--btn--cancel wpstg-blue-primary wpstg-link-btn wpstg-100-width',\n        actions: 'wpstg--modal--actions',\n        popup: isContentCentered ? 'wpstg-swal-popup wpstg-centered-modal' : 'wpstg-swal-popup',\n      };\n\n      // If an attribute exists in both default and additional attributes,\n      // The class(es) of the additional attribute will overwrite the default one.\n      const options = {\n        customClass: Object.assign(defaultCustomClasses, customClasses),\n        buttonsStyling: false,\n        reverseButtons: true,\n        showClass: {\n          popup: 'wpstg--swal2-show wpstg-swal-show',\n        },\n      };\n\n      return wpstgSwal.mixin(options);\n    },\n    showSuccessModal: function(htmlContent) {\n      this.getSwalModal().fire({\n        showConfirmButton: false,\n        showCancelButton: true,\n        cancelButtonText: 'OK',\n        icon: 'success',\n        title: 'Success!',\n        html: '<div class=\"wpstg--grey\" style=\"text-align: left; margin-top: 8px;\">' + htmlContent + '</div>',\n      });\n    },\n    showWarningModal: function(htmlContent) {\n      this.getSwalModal().fire({\n        showConfirmButton: false,\n        showCancelButton: true,\n        cancelButtonText: 'OK',\n        icon: 'warning',\n        title: '',\n        html: '<div class=\"wpstg--grey\" style=\"text-align: left; margin-top: 8px;\">' + htmlContent + '</div>',\n      });\n    },\n    showErrorModal: function(htmlContent) {\n      this.getSwalModal().fire({\n        showConfirmButton: false,\n        showCancelButton: true,\n        cancelButtonText: 'OK',\n        icon: 'error',\n        title: 'Error!',\n        html: '<div class=\"wpstg--grey\" style=\"text-align: left; margin-top: 8px;\">' + htmlContent + '</div>',\n      });\n    },\n    getSwalContainer: function() {\n      return wpstgSwal.getContainer();\n    },\n    closeSwalModal: function() {\n      wpstgSwal.close();\n    },\n    /**\n     * Treats a default response object generated by WordPress's\n     * wp_send_json_success() or wp_send_json_error() functions in\n     * PHP, parses it in JavaScript, and either throws if it's an error,\n     * or returns the data if the response is successful.\n     *\n     * @param {object} response\n     * @return {*}\n     */\n    getDataFromWordPressResponse(response) {\n      if (typeof response !== 'object') {\n        throw new Error('Unexpected response (ERR 1341)');\n      }\n\n      if (!response.hasOwnProperty('success')) {\n        throw new Error('Unexpected response (ERR 1342)');\n      }\n\n      if (!response.hasOwnProperty('data')) {\n        throw new Error('Unexpected response (ERR 1343)');\n      }\n\n      if (response.success === false) {\n        if (response.data instanceof Array && response.data.length > 0) {\n          throw new Error(response.data.shift());\n        } else {\n          throw new Error('Response was not successful');\n        }\n      } else {\n        // Successful response. Return the data.\n        return response.data;\n      }\n    },\n    isLoading: function(isLoading) {\n      if (!isLoading || isLoading === false) {\n        WPStagingCommon.cache.get('.wpstg-loader').hide();\n      } else {\n        WPStagingCommon.cache.get('.wpstg-loader').show();\n      }\n    },\n    /**\n     * Convert the given url to make it slug compatible\n     * @param {string} url\n     * @return {string}\n     */\n    slugify: function(url) {\n      return url.toString()\n          .toLowerCase()\n          .normalize('NFD')\n          .replace(/[\\u0300-\\u036f]/g, '')\n          .replace(/\\s+/g, '-')\n          .replace(/&/g, '-and-')\n          .replace(/[^a-z0-9\\-]/g, '')\n          .replace(/-+/g, '-')\n          .replace(/^-*/, '')\n          .replace(/-*$/, '')\n      ;\n    },\n    showAjaxFatalError: function(response, prependMessage, appendMessage) {\n      prependMessage = prependMessage ? prependMessage + '<br/><br/>' : 'Something went wrong! <br/><br/>';\n      appendMessage = appendMessage ? appendMessage + '<br/><br/>' : '<br/><br/>Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.';\n\n      if (response === false) {\n        WPStagingCommon.showError(prependMessage + ' Error: No response.' + appendMessage);\n        window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n        return;\n      }\n\n      if (typeof response.error !== 'undefined' && response.error) {\n        WPStagingCommon.showError(prependMessage + ' Error: ' + response.message + appendMessage);\n        window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n        return;\n      }\n    },\n    handleFetchErrors: function(response) {\n      if (!response.ok) {\n        WPStagingCommon.showError('Error: ' + response.status + ' - ' + response.statusText + '. Please try again or contact support.');\n      }\n      return response;\n    },\n    showError: function(message) {\n      // If retry request no need to show Error;\n      if (WPStagingCommon.retry.performingRequest) {\n        return;\n      }\n\n      WPStagingCommon.cache.get('#wpstg-try-again').css('display', 'inline-block');\n      WPStagingCommon.cache.get('#wpstg-cancel-cloning').text('Reset');\n      WPStagingCommon.cache.get('#wpstg-resume-cloning').show();\n      WPStagingCommon.cache.get('#wpstg-error-wrapper').show();\n      WPStagingCommon.cache.get('#wpstg-error-details').show().html(message);\n      WPStagingCommon.cache.get('#wpstg-removing-clone').removeClass('loading');\n      WPStagingCommon.cache.get('.wpstg-loader').hide();\n      $('.wpstg--modal--process--generic-problem').show().html(message);\n    },\n    resetErrors: function() {\n      WPStagingCommon.cache.get('#wpstg-error-details').hide().html('');\n    },\n    /**\n     * Ajax Requests\n     * @param {Object} data\n     * @param {Function} callback\n     * @param {string} dataType\n     * @param {bool} showErrors\n     * @param {int} tryCount\n     * @param {float} incrementRatio\n     * @param {function} errorCallback\n     */\n    ajax: function(data, callback, dataType, showErrors, tryCount, incrementRatio = null, errorCallback = null) {\n      if ('undefined' === typeof (dataType)) {\n        dataType = 'json';\n      }\n\n      if (false !== showErrors) {\n        showErrors = true;\n      }\n\n      tryCount = 'undefined' === typeof (tryCount) ? 0 : tryCount;\n\n      const retryLimit = 10;\n\n      let retryTimeout = 10000 * tryCount;\n\n      incrementRatio = parseInt(incrementRatio);\n      if (!isNaN(incrementRatio)) {\n        retryTimeout *= incrementRatio;\n      }\n\n      $.ajax({\n        url: ajaxurl + '?action=wpstg_processing&_=' + (Date.now() / 1000),\n        type: 'POST',\n        dataType: dataType,\n        cache: false,\n        data: data,\n        error: function(xhr, textStatus, errorThrown) {\n          console.log(xhr.status + ' ' + xhr.statusText + '---' + textStatus);\n\n          if (typeof (errorCallback) === 'function') {\n            // Custom error handler\n            errorCallback(xhr, textStatus, errorThrown);\n\n            if (!WPStagingCommon.continueErrorHandle) {\n              // Reset state\n              WPStagingCommon.continueErrorHandle = true;\n\n              return;\n            }\n          }\n\n          // Default error handler\n          tryCount++;\n          if (tryCount <= retryLimit) {\n            setTimeout(function() {\n              WPStagingCommon.ajax(data, callback, dataType, showErrors, tryCount, incrementRatio);\n              return;\n            }, retryTimeout);\n          } else {\n            const errorCode = 'undefined' === typeof (xhr.status) ? 'Unknown' : xhr.status;\n            WPStagingCommon.showError(\n                'Fatal Error:  ' + errorCode + ' Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.',\n            );\n          }\n        },\n        success: function(data) {\n          if ('function' === typeof (callback)) {\n            callback(data);\n          }\n        },\n        statusCode: {\n          404: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Error 404 - Can\\'t find ajax request URL! Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.');\n            }\n          },\n          500: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Fatal Error 500 - Internal server error while processing the request! Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.');\n            }\n          },\n          504: function() {\n            if (tryCount > retryLimit) {\n              WPStagingCommon.showError('Error 504 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.\\n\\ ');\n            }\n          },\n          502: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Error 502 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.\\n\\ ');\n            }\n          },\n          503: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Error 503 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.\\n\\ ');\n            }\n          },\n          429: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Error 429 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.\\n\\ ');\n            }\n          },\n          403: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Refresh page or login again! The process should be finished successfully. \\n\\ ');\n            }\n          },\n        },\n      });\n    },\n  };\n\n  return WPStagingCommon;\n})(jQuery);\n","import {closest} from './wpstg-polyfill';\nimport WPStagingCommon from '../wpstg.js';\n\n/**\n * WP STAGING basic jQuery replacement\n */\n\n/**\n * Shortcut for document.querySelector() or jQuery's $()\n * Return single element only\n */\nexport function qs(selector) {\n  return document.querySelector(selector);\n}\n\n/**\n * Shortcut for document.querySelector() or jQuery's $()\n * Return collection of elements\n */\nexport function all(selector) {\n  return document.querySelectorAll(selector);\n}\n\n/**\n * alternative of jQuery - $(parent).on(event, selector, handler)\n */\nexport function addEvent(parent, evt, selector, handler) {\n  if (!parent instanceof Element) {\n    return;\n  }\n\n  parent.addEventListener(evt, function(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      handler(event.target.closest(selector), event);\n    }\n  }, false);\n}\n\nexport function slideDown(element, duration = 400) {\n  element.style.display = 'block';\n  element.style.overflow = 'hidden';\n  const height = element.offsetHeight;\n  element.style.height = '0px';\n  element.style.transitionProperty = 'height';\n  element.style.transitionDuration = duration + 'ms';\n  setTimeout(() => {\n    element.style.height = height + 'px';\n    window.setTimeout(() => {\n      element.style.removeProperty('height');\n      element.style.removeProperty('overflow');\n      element.style.removeProperty('transition-duration');\n      element.style.removeProperty('transition-property');\n    }, duration);\n  }, 0);\n}\n\nexport function slideUp(element, duration = 400) {\n  element.style.display = 'block';\n  element.style.overflow = 'hidden';\n  const height = element.offsetHeight;\n  element.style.height = height + 'px';\n  element.style.transitionProperty = 'height';\n  element.style.transitionDuration = duration + 'ms';\n  setTimeout(() => {\n    element.style.height = '0px';\n    window.setTimeout(() => {\n      element.style.display = 'none';\n      element.style.removeProperty('height');\n      element.style.removeProperty('overflow');\n      element.style.removeProperty('transition-duration');\n      element.style.removeProperty('transition-property');\n    }, duration);\n  }, 0);\n}\n\nexport function fadeOut(element, duration = 300) {\n  element.style.opacity = 1;\n  element.style.transitionProperty = 'opacity';\n  element.style.transitionDuration = duration + 'ms';\n  setTimeout(() => {\n    element.style.opacity = 0;\n    window.setTimeout(() => {\n      element.style.display = 'none';\n      element.style.removeProperty('opacity');\n      element.style.removeProperty('transition-duration');\n      element.style.removeProperty('transition-property');\n    }, duration);\n  }, 0);\n}\n\nexport function getNextSibling(element, selector) {\n  let sibling = element.nextElementSibling;\n\n  while (sibling) {\n    if (sibling.matches(selector)) {\n      return sibling;\n    }\n\n    sibling = sibling.nextElementSibling;\n  }\n};\n\nexport function getPreviousSibling(element, selector) {\n  let sibling = element.previousElementSibling;\n\n  while (sibling) {\n    if (sibling.matches(selector)) {\n      return sibling;\n    }\n\n    sibling = sibling.previousElementSibling;\n  }\n}\n\nexport function getParents(element, selector) {\n  const result = [];\n  for (let parent = element && element.parentElement; parent; parent = parent.parentElement) {\n    if (parent.matches(selector)) {\n      result.push(parent);\n    }\n  }\n\n  return result;\n}\n\n/**\n * Check if element has class name\n * @param element\n * @param className\n * @return {boolean}\n */\nexport function hasClass(element, className) {\n  return (' ' + element.className + ' ').indexOf(' ' + className+ ' ') > -1;\n}\n\n/**\n * Dispatches a change on an element that will trigger, depending on the element type,\n * cascading changes on elements dependant on the one that triggered the change and that\n * belong in the same container.\n *\n * @param {Element} element A reference to the Element the change was triggered from.\n *\n * @return {void} The function does not return any value and will have the side-effect of\n *                hiding or showing dependant elements.\n */\nexport function handleDisplayDependencies(element) {\n  if (!element instanceof Element || !element.id) {\n    return;\n  }\n\n  const containerSelector = '.wpstg-container';\n  // Use the default WordPress CSS class to hide and show the objects.\n  const hiddenClass = 'hidden';\n  const elementType = element.getAttribute('type');\n\n  switch (elementType) {\n    case 'checkbox':\n      // Go as high as the container that contains this element.\n      const container = closest(element, containerSelector);\n\n      if (container === null) {\n        return;\n      }\n\n      const showIfChecked = container.querySelectorAll(`[data-show-if-checked=\"${element.id}\"]`);\n      const showIfUnchecked = container.querySelectorAll(`[data-show-if-unchecked=\"${element.id}\"]`);\n      const checked = element.checked;\n\n      if (showIfChecked.length) {\n        for (const el of showIfChecked) {\n          if (checked) {\n            el.classList.remove(hiddenClass);\n          } else {\n            el.classList.add(hiddenClass);\n          }\n        }\n      }\n\n      if (showIfUnchecked.length) {\n        for (const el of showIfUnchecked) {\n          if (checked) {\n            el.classList.add(hiddenClass);\n          } else {\n            el.classList.remove(hiddenClass);\n          }\n        }\n      }\n\n      return;\n    default:\n      // Not a type we handle.\n      return;\n  }\n}\n\n/**\n * Initializes the display status of any element that depends on the status of another to\n * either hide or show.\n *\n * @return {void} The function will have the side-effect to toggle the hide/show class from\n *                elements dependant on another to hide or show.\n */\nexport function initDependantDisplay() {\n  const displayControllerSelector = '[onchange^=\"WPStaging.handleDisplayDependencies\"]';\n  const displayControllers = document.querySelectorAll(displayControllerSelector);\n  for (const displayController of displayControllers) {\n    handleDisplayDependencies(displayController);\n  }\n}\n\n/**\n * Toggle target element set in data-wpstg-target of the given element\n *\n * @param {Element} element A reference to the Element the change was triggered from.\n *\n * @return {void} The function does not return any value and will have the side-effect of\n *                hiding or showing dependant elements.\n */\nexport function handleToggleElement(element) {\n  if (!element instanceof Element || !element.getAttribute('data-wpstg-target')) {\n    return;\n  }\n\n  const containerSelector = '.wpstg_admin';\n  // Use the default WordPress CSS class to hide and show the objects.\n  const hiddenClass = 'hidden';\n\n  // Go as high as the container that contains this element.\n  const container = closest(element, containerSelector);\n\n  if (container === null) {\n    return;\n  }\n\n  const elements = container.querySelectorAll(element.getAttribute('data-wpstg-target'));\n\n  if (elements.length) {\n    for (const el of elements) {\n      el.classList.toggle(hiddenClass);\n    }\n  }\n}\n\n/**\n * Copy text in data-wpstg-copy to element(s) in data-wpstg-target\n *\n * @param {Element} element\n *\n * @return {void}\n */\nexport function handleCopyPaste(element) {\n  if (!element instanceof Element || !element.getAttribute('data-wpstg-target') || !element.getAttribute('data-wpstg-copy')) {\n    return;\n  }\n\n  const containerSelector = '.wpstg_admin';\n\n  // Go as high as the container that contains this element.\n  const container = closest(element, containerSelector);\n\n  if (container === null) {\n    return;\n  }\n\n  navigator.clipboard.writeText(element.getAttribute('data-wpstg-copy'));\n  const elements = container.querySelectorAll(element.getAttribute('data-wpstg-target'));\n\n  if (elements.length) {\n    for (const el of elements) {\n      el.value = element.getAttribute('data-wpstg-copy', '');\n    }\n  }\n}\n\n/**\n * Copy text in data-wpstg-source to clipboard\n *\n * @param {Element} element\n *\n * @return {void}\n */\nexport function handleCopyToClipboard(element) {\n  if (!element instanceof Element || !element.getAttribute('data-wpstg-source')) {\n    return;\n  }\n\n  const containerSelector = '.wpstg_admin';\n\n  // Go as high as the container that contains this element.\n  const container = closest(element, containerSelector);\n\n  if (container === null) {\n    return;\n  }\n\n  const el = container.querySelector(element.getAttribute('data-wpstg-source'));\n\n  if (el) {\n    navigator.clipboard.writeText(el.value);\n  }\n}\n\n/**\n * A confirmation modal\n *\n * @param title\n * @param html\n * @param confirmText\n * @param confirmButtonClass\n * @return Promise\n */\nexport function confirmModal(title, html, confirmText, confirmButtonClass) {\n  return WPStagingCommon.getSwalModal(false, {\n    container: 'wpstg-swal-push-container',\n    confirmButton: confirmButtonClass + ' wpstg--btn--confirm wpstg-blue-primary wpstg-button wpstg-link-btn',\n  }).fire({\n    title: title,\n    icon: 'warning',\n    html: html,\n    width: '750px',\n    focusConfirm: false,\n    confirmButtonText: confirmText,\n    showCancelButton: true,\n  });\n};\n/**\n * @param className\n * @param callback\n */\nexport function setClickHandlerByClass(className, callback) {\n  const elements = document.querySelectorAll(`.${className}`);\n\n  if (elements.length) {\n    elements.forEach((element) => {\n      element.addEventListener('click', callback);\n    });\n  } else {\n    console.warn(`No elements found with class: ${className}`);\n  }\n};\n\n/**\n * Initializes a module using a MutationObserver.\n *\n * @param {string} selector - The CSS selector for the target element.\n * @param {function} ModuleConstructor - The constructor function of the module to be initialized.\n *\n * @todo Unused, consider removing this in the future\n */\nexport function initializeModuleWithObserver(selector, ModuleConstructor) {\n  const observer = new MutationObserver(function(mutationsList, observer) {\n    const targetElement = document.querySelector(selector);\n    if (targetElement !== null) {\n      new ModuleConstructor();\n      observer.disconnect();\n    }\n  });\n  observer.observe(document.documentElement, {childList: true, subtree: true});\n};\n\n/**\n * Checks if a modal specified by the given selector is available in the DOM.\n * If the modal is available, it waits for a delay and then initializes the Module.\n * If the modal is not yet available, it recursively checks after a brief interval.\n *\n * @param {string} selector - CSS selector for the element to search for.\n * @param {function} Module - Constructor function to create an instance of the module.\n *\n * @todo Unused, consider removing this in the future\n */\nexport function initializeModuleDelayedIfElementIsAvailable(selector, Module) {\n  const element = document.querySelector(selector);\n  if (element) {\n    setTimeout(() => {\n      new Module();\n    }, 1000);\n  } else {\n    setTimeout(() => initializeModuleDelayedIfElementIsAvailable(selector, Module), 10);\n  }\n};\n\n/**\n * Hides elements in the DOM that match the given selector by setting their display style to 'none'.\n *\n * @param {string} selector - CSS selector for the elements to be hidden.\n * @return {void}\n */\nexport function hide(selector) {\n  const elements = document.querySelectorAll(selector);\n  elements.forEach((element) => {\n    element.style.display = 'none';\n  });\n};\n\n/**\n * Displays elements in the DOM that match the given selector by setting their display style to 'block'.\n *\n * @param {string} selector - CSS selector for the elements to be displayed.\n * @return {void}\n */\nexport function show(selector) {\n  const elements = document.querySelectorAll(selector);\n  elements.forEach((element) => {\n    element.style.display = 'block';\n  });\n}\n\n/**\n *\n * @param e\n */\nexport function copyTextToClipboard(e) {\n  const dataCopyContent = e.target.getAttribute('data-copy-content');\n  if (dataCopyContent) {\n    navigator.clipboard.writeText(dataCopyContent).then(() => {\n      notify('success', 'Copied to clipboard');\n    }).catch((err) => {\n      notify('error', 'Unable to copy to clipboard', err);\n    });\n  }\n}\n\n/**\n * Displays a notification message\n *\n * @param type\n * @param message\n */\nexport function notify(type, message) {\n  const notyf = new Notyf({\n    duration: 6000,\n    position: {\n      x: 'center',\n      y: 'bottom',\n    },\n    dismissible: true,\n    types: [\n      {\n        type: 'warning',\n        background: 'green',\n        icon: true,\n      },\n    ],\n  });\n  notyf.open({type: type, message: message});\n}\n\n/**\n * Checks if an element is null, undefined, or empty (for strings or arrays)\n *\n * @param element\n * @return {boolean}\n */\nexport function checkIfElementNullOrUndefinedOrEmpty(element) {\n  if (element === null || element === undefined) {\n    return true;\n  }\n\n  if (typeof element === 'string' && element.trim() === '') {\n    return true;\n  }\n\n  if (Array.isArray(element) && element.length === 0) {\n    return true;\n  }\n\n  return false;\n}\n\n/**\n * @param visibility\n * @return {void}\n */\nexport function loadingBar(visibility = 'visible') {\n  const loader = document.querySelectorAll('.wpstg-loading-bar-container');\n  loader.forEach(function(element) {\n    if (element) {\n      element.style.visibility = visibility;\n    }\n  });\n}\n","/**\n * Enable side bar menu and set url on tab click\n */\nexport default class WpstgSidebarMenu {\n  constructor() {\n    this.init();\n  }\n\n  init() {\n    this.wpstdStagingTab = document.querySelector('#wpstg--tab--toggle--staging');\n    this.wpstdBackupTab = document.querySelector('#wpstg--tab--toggle--backup');\n    this.wpstdSidebarMenu = document.querySelector('#toplevel_page_wpstg_clone');\n    this.addEvents();\n  }\n\n  addEvents() {\n    if (this.wpstdStagingTab !== null) {\n      this.wpstdStagingTab.addEventListener('click', () => {\n        this.setPageUrl('wpstg_clone');\n        this.setSidebarMenu('wpstg_clone');\n      });\n    }\n\n    if (this.wpstdBackupTab !== null) {\n      this.wpstdBackupTab.addEventListener('click', () => {\n        this.setPageUrl('wpstg_backup');\n        this.setSidebarMenu('wpstg_backup');\n      });\n    }\n  }\n\n  setPageUrl(page) {\n    window.history.pushState(null, null, window.location.pathname + '?page=' + page);\n  }\n\n  setSidebarMenu(page) {\n    const wpstgSidebarMenuElements = this.wpstdSidebarMenu.querySelector('ul').querySelectorAll('li');\n    if (wpstgSidebarMenuElements.length > 0) {\n      for (let i = 0; i < wpstgSidebarMenuElements.length; i++) {\n        wpstgSidebarMenuElements[i].classList.remove('current');\n        if (wpstgSidebarMenuElements[i].querySelector('a') !== null) {\n          if (wpstgSidebarMenuElements[i].querySelector('a').getAttribute('href') ==='admin.php?page=' + page) {\n            wpstgSidebarMenuElements[i].classList.add('current');\n          }\n        }\n      }\n    }\n  }\n}\n","import * as dom from './wpstg-dom-utils.js';\n\n/**\n * Handle toggle of contact us modal\n */\n\nexport default class WpstgContactUs {\n  constructor(modalType = 'contact-us', wpstgObject = wpstg) {\n    this.wpstgObject = wpstgObject;\n    this.characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    this.currentDate = new Date();\n    this.modalType = modalType;\n    this.init();\n  }\n\n  init() {\n    this.contactUsModal = '#wpstg-' + this.modalType + '-modal';\n    this.askInTheForumForm = this.contactUsModal + ' #wpstg-' + this.modalType + '-report-issue-form';\n    this.contactUsSuccessPopup = this.contactUsModal + ' #wpstg-' + this.modalType + '-success-form';\n    this.contactUsLoader = this.contactUsModal + ' #wpstg-' + this.modalType + '-report-issue-loader';\n    this.contactUsSupport = this.contactUsModal + ' #wpstg-' + this.modalType + '-support-forum';\n    this.contactUsButton = document.querySelector('#wpstg-' + this.modalType + '-button');\n    this.contactUsButtonBackupTab = document.querySelector('#wpstg--tab--backup  #wpstg-' + this.modalType + '-button');\n    this.reportIssueButton = document.querySelector('#wpstg-contact-us-report-issue');\n    this.successForm = document.querySelector(this.contactUsModal + ' #wpstg-' + this.modalType + '-success-form');\n    this.contactUsReportIssueBtn = document.querySelector(this.contactUsModal + ' #wpstg-' + this.modalType + '-report-issue-btn');\n    this.contactUsCloseButton = document.querySelector(this.contactUsModal + ' #wpstg-modal-close');\n    this.contactUsSuccessPopupClose = document.querySelector(this.contactUsModal + ' #wpstg-' + this.modalType + '-success-modal-close');\n    this.debugCodeCopyButton = document.querySelector(this.contactUsModal + ' #wpstg-' + this.modalType + '-debug-code-copy');\n    this.contactUsResponse = document.querySelector(this.contactUsModal + ' #wpstg-' + this.modalType + '-debug-response');\n    this.contactUsDebugCodeField = document.querySelector(this.contactUsModal + ' #wpstg-' + this.modalType + '-debug-code');\n    this.isDebugWindowOpened = false;\n    this.addEvents();\n    this.notyf = new Notyf({\n      duration: 6000,\n      position: {\n        x: 'center',\n        y: 'bottom',\n      },\n      dismissible: true,\n      types: [\n        {\n          type: 'warning',\n          background: 'orange',\n          icon: true,\n        },\n      ],\n    });\n  }\n\n  addEvents() {\n    document.addEventListener('keydown', (event) => {\n      if (event.key === 'Escape') {\n        dom.hide(this.contactUsModal);\n        dom.hide(this.askInTheForumForm);\n        dom.hide(this.contactUsSuccessPopup);\n        dom.hide(this.contactUsSupport);\n        this.isDebugWindowOpened = false;\n      }\n    });\n    if (this.contactUsButton !== null) {\n      this.contactUsButton.addEventListener('click', () => {\n        dom.show(this.contactUsModal);\n      });\n    }\n    if (this.contactUsButtonBackupTab !== null) {\n      this.contactUsButtonBackupTab.addEventListener('click', () => {\n        dom.show(this.contactUsModal);\n      });\n    }\n    if (this.reportIssueButton !== null) {\n      this.reportIssueButton.addEventListener('click', () => {\n        if (this.isDebugWindowOpened) {\n          dom.hide(this.askInTheForumForm);\n        } else {\n          dom.show(this.askInTheForumForm);\n        }\n\n        this.isDebugWindowOpened = !this.isDebugWindowOpened;\n      });\n    }\n\n    if (this.contactUsReportIssueBtn !== null) {\n      this.contactUsReportIssueBtn.addEventListener('click', () => {\n        this.sendDebugInfo();\n      });\n    }\n\n    if (this.contactUsSuccessPopupClose !== null) {\n      this.contactUsSuccessPopupClose.addEventListener('click', () => {\n        dom.hide(this.contactUsSuccessPopup);\n      });\n    }\n    if (this.contactUsCloseButton !== null) {\n      this.contactUsCloseButton.addEventListener('click', () => {\n        dom.hide(this.contactUsModal);\n        dom.hide(this.contactUsSupport);\n        dom.hide(this.askInTheForumForm);\n        this.isDebugWindowOpened = false;\n      });\n    }\n    if (this.debugCodeCopyButton !== null) {\n      this.debugCodeCopyButton.addEventListener('click', () => {\n        this.copyDebugCode();\n        this.notyf.success('Debug code copied to clipboard');\n      });\n    }\n  }\n\n  copyDebugCode() {\n    this.contactUsDebugCodeField.select();\n    this.contactUsDebugCodeField.setSelectionRange(0, 99999);\n    navigator.clipboard.writeText(this.contactUsDebugCodeField.value);\n  }\n\n  generateDebugCode(length) {\n    let result = '';\n    for ( let i = 0; i < length; i++ ) {\n      result += this.characters.charAt(Math.floor(Math.random() * this.characters.length));\n    }\n\n    return 'wpstg-' + result + '-' + this.currentDate.getHours() + this.currentDate.getMinutes() + this.currentDate.getSeconds();\n  }\n\n  sendDebugInfo() {\n    dom.show(this.contactUsLoader);\n    this.contactUsReportIssueBtn.disabled = true;\n    const debugCode = this.generateDebugCode(8);\n    fetch(this.wpstgObject.ajaxUrl, {\n      method: 'POST',\n      credentials: 'same-origin',\n      body: new URLSearchParams({\n        action: 'wpstg_send_debug_log_report',\n        accessToken: this.wpstgObject.accessToken,\n        nonce: this.wpstgObject.nonce,\n        debugCode: debugCode,\n      }),\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n    }).then((response) => {\n      this.contactUsReportIssueBtn.disabled = false;\n      if (response.ok) {\n        return response.json();\n      }\n    }).then((data) => {\n      if (data.response && data.response.sent === true) {\n        this.contactUsDebugCodeField.value = debugCode;\n        dom.show(this.contactUsSuccessPopup);\n        window.debugCode = debugCode;\n      } else {\n        this.contactUsDebugCodeField.value = (window.debugCode === undefined) ? debugCode: window.debugCode;\n        dom.show(this.contactUsSuccessPopup);\n      }\n\n      dom.hide(this.contactUsLoader);\n    }).catch((error) => {\n      dom.hide(this.contactUsLoader);\n      dom.show(this.contactUsSupport);\n      console.warn(this.wpstgObject.i18n['somethingWentWrong'], error);\n    });\n  }\n}\n","import * as dom from './wpstg-dom-utils.js';\nimport WpstgSidebarMenu from './wpstg-sidebar-menu.js';\nimport WpstgContactUs from './wpstg-contact-us';\n\n/**\n * Enable/Disable cloning for staging site\n */\nexport default class WpstgCloneStaging {\n  constructor(\n      pageWrapperId = '#wpstg-clonepage-wrapper',\n      wpstgObject = wpstg,\n  ) {\n    this.pageWrapper = dom.qs(pageWrapperId);\n    this.wpstgObject = wpstgObject;\n    this.enableButtonId = '#wpstg-enable-staging-cloning';\n    this.enableAction = 'wpstg_enable_staging_cloning';\n\n    this.notyf = new Notyf({\n      duration: 10000,\n      position: {\n        x: 'center',\n        y: 'bottom',\n      },\n      dismissible: true,\n      types: [\n        {\n          type: 'warning',\n          background: 'orange',\n          icon: false,\n        },\n      ],\n    });\n    this.init();\n  }\n\n  addEvents() {\n    if (this.pageWrapper === null) {\n      return;\n    }\n\n    dom.addEvent(this.pageWrapper, 'click', this.enableButtonId, () => {\n      this.sendRequest(this.enableAction);\n    });\n    new WpstgSidebarMenu();\n  }\n\n  init() {\n    this.addEvents();\n  }\n\n  sendRequest(action) {\n    fetch(this.wpstgObject.ajaxUrl, {\n      method: 'POST',\n      credentials: 'same-origin',\n      body: new URLSearchParams({\n        action: action,\n        accessToken: this.wpstgObject.accessToken,\n        nonce: this.wpstgObject.nonce,\n      }),\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n    }).then((response) => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      return Promise.reject(response);\n    }).then((data) => {\n      // Reload current page if successful.\n      if ('undefined' !== typeof (data.success) && data.success) {\n        location.reload();\n        return;\n      }\n\n      // There will be message probably in case of error\n      if ('undefined' !== typeof (data.message)) {\n        this.notyf.error(data.message);\n        return;\n      }\n\n      this.notyf.error(this.wpstgObject.i18n['somethingWentWrong']);\n    }).catch((error) => {\n      console.warn(this.wpstgObject.i18n['somethingWentWrong'], error);\n    });\n  }\n}\n","import * as dom from './wpstg-dom-utils.js';\nimport wpstg from '../wpstg.js';\n\n/**\n * Fetch directory direct child directories\n */\nexport default class WpstgDirectoryNavigation {\n  constructor(\n      directoryListingSelector = '#wpstg-directories-listing',\n      wpstgObject = wpstg,\n      notyf = null,\n  ) {\n    this.directoryListingContainer = dom.qs(directoryListingSelector);\n    this.wpstgObject = wpstgObject;\n    this.dirCheckboxSelector = '.wpstg-check-dir';\n    this.dirExpandSelector = '.wpstg-expand-dirs';\n    this.unselectAllDirsSelector = '.wpstg-unselect-dirs';\n    this.selectDefaultDirsSelector = '.wpstg-select-dirs-default';\n    this.fetchChildrenAction = 'wpstg_fetch_dir_children';\n    this.currentCheckboxElement = null;\n    this.currentParentDiv = null;\n    this.currentLoader = null;\n    this.existingExcludes = [];\n    this.excludedDirectories = [];\n    this.isDefaultSelected = false;\n    this.notyf = notyf;\n\n    this.init();\n  }\n\n  addEvents() {\n    if (this.directoryListingContainer === null) {\n      console.log('Error: Unable to add directory navigation events.');\n      return;\n    }\n\n    dom.addEvent(this.directoryListingContainer, 'change', this.dirCheckboxSelector, (element, event) => {\n      event.preventDefault();\n    });\n\n    dom.addEvent(this.directoryListingContainer, 'click', this.dirExpandSelector, (element, event) => {\n      event.preventDefault();\n      if (this.toggleDirExpand(element)) {\n        this.sendRequest(this.fetchChildrenAction, element);\n      }\n    });\n\n    dom.addEvent(this.directoryListingContainer, 'click', this.unselectAllDirsSelector, () => {\n      this.unselectAll();\n    });\n\n    dom.addEvent(this.directoryListingContainer, 'click', this.selectDefaultDirsSelector, () => {\n      this.selectDefault();\n    });\n\n    dom.addEvent(this.directoryListingContainer, 'click', '.wpstg-expand-dirs', (target, event) => {\n      event.preventDefault();\n      this.toggleDirectoryNavigation(target);\n    });\n\n    dom.addEvent(this.directoryListingContainer, 'change', 'input.wpstg-check-dir', (target) => {\n      this.updateDirectorySelection(target);\n    });\n  }\n\n  init() {\n    this.addEvents();\n    this.parseExcludes();\n  }\n\n  /**\n   * Toggle Dir Expand,\n   * Return true if children aren't fetched\n   * @param {HTMLElement} element\n   * @return {boolean}\n   */\n  toggleDirExpand(element) {\n    this.currentParentDiv = element.parentElement;\n    const checkboxWrapper = dom.getPreviousSibling(element, 'span');\n    this.currentCheckboxElement = checkboxWrapper.querySelector('input[type=\"checkbox\"]');\n    this.currentLoader = this.currentParentDiv.querySelector('.wpstg-is-dir-loading');\n    if (this.currentCheckboxElement.getAttribute('wpstg-data-navigatable', 'false') === 'false') {\n      return false;\n    }\n\n    if (this.currentCheckboxElement.getAttribute('wpstg-data-scanned', 'false') === 'false') {\n      return true;\n    }\n\n    return false;\n  }\n\n  sendRequest(action) {\n    if (this.currentLoader !== null) {\n      this.currentLoader.style.display = 'inline-block';\n    }\n\n    const changed = this.currentCheckboxElement.getAttribute('wpstg-data-changed');\n    const path = this.currentCheckboxElement.getAttribute('wpstg-data-path');\n    const prefix = this.currentCheckboxElement.getAttribute('wpstg-data-prefix');\n\n    fetch(this.wpstgObject.ajaxUrl, {\n      method: 'POST',\n      credentials: 'same-origin',\n      body: new URLSearchParams({\n        action: action,\n        accessToken: this.wpstgObject.accessToken,\n        nonce: this.wpstgObject.nonce,\n        dirPath: path,\n        prefix: prefix,\n        isChecked: this.currentCheckboxElement.checked,\n        forceDefault: changed === 'true',\n      }),\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n    }).then((response) => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      return Promise.reject(response);\n    }).then((data) => {\n      if ('undefined' !== typeof (data.success) && data.success) {\n        this.currentCheckboxElement.setAttribute('wpstg-data-scanned', true);\n        const dirContainer = document.createElement('div');\n        dirContainer.classList.add('wpstg-dir');\n        dirContainer.classList.add('wpstg-subdir');\n        dirContainer.innerHTML = JSON.parse(data.directoryListing);\n        this.currentParentDiv.appendChild(dirContainer);\n        if (this.currentLoader !== null) {\n          this.currentLoader.style.display = 'none';\n        }\n\n        dom.slideDown(dirContainer);\n\n        return;\n      }\n\n      if (this.notyf !== null) {\n        this.notyf.error(this.wpstgObject.i18n['somethingWentWrong']);\n      } else {\n        alert('Error: ' + this.wpstgObject.i18n['somethingWentWrong']);\n      }\n    }).catch((error) => {\n      console.warn(this.wpstgObject.i18n['somethingWentWrong'], error);\n    });\n  }\n\n  getExcludedDirectories() {\n    this.excludedDirectories = [];\n    this.directoryListingContainer.querySelectorAll('.wpstg-dir .wpstg--checkbox-wrapper input:not(:checked)').forEach((element) => {\n      if (!this.isParentExcluded(element.value)) {\n        this.excludedDirectories.push(element.value);\n      }\n    });\n\n    if (!this.existingExcludes) {\n      this.existingExcludes = [];\n    }\n\n    this.existingExcludes.forEach((exclude) => {\n      if (!this.isParentExcluded(exclude) && !this.isScanned(exclude)) {\n        this.excludedDirectories.push(exclude);\n      }\n    });\n\n    return this.excludedDirectories.join(this.wpstgObject.settings?.directorySeparator);\n  }\n\n  /**\n   * @param {string} path\n   * @return {bool}\n   */\n  isParentExcluded(path) {\n    let isParentAlreadyExcluded = false;\n    this.excludedDirectories.forEach((dir) => {\n      if (path.startsWith(dir + '/')) {\n        isParentAlreadyExcluded = true;\n      }\n    });\n\n    return isParentAlreadyExcluded;\n  }\n\n  getExtraDirectoriesRootOnly() {\n    this.getExcludedDirectories();\n    const extraDirectories = [];\n    this.directoryListingContainer.querySelectorAll(':not(.wpstg-subdir)>.wpstg-dir .wpstg--checkbox-wrapper>input.wpstg-wp-non-core-dir:checked').forEach((element) => {\n      extraDirectories.push(element.value);\n    });\n\n    // Check if extra directories text area exists\n    // TODO: remove extraCustomDirectories code if no one require extraCustomDirectories...\n    const extraDirectoriesTextArea = dom.qs('#wpstg_extraDirectories');\n    if (extraDirectoriesTextArea === null || extraDirectoriesTextArea.value === '') {\n      return extraDirectories.join(this.wpstgObject.settings?.directorySeparator);\n    }\n\n    const extraCustomDirectories = extraDirectoriesTextArea.value.split(/\\r?\\n/);\n\n    return extraDirectories.concat(extraCustomDirectories).join(this.wpstgObject.settings.directorySeparator);\n  }\n\n  unselectAll() {\n    this.directoryListingContainer.querySelectorAll('.wpstg-dir .wpstg--checkbox-wrapper input').forEach((element) => {\n      element.checked = false;\n    });\n\n    this.countSelectedFiles();\n  }\n\n  selectDefault() {\n    // unselect all checkboxes\n    this.unselectAll();\n\n    // only select those checkboxes whose class is wpstg-wp-core-dir\n    this.directoryListingContainer.querySelectorAll('.wpstg-dir .wpstg--checkbox-wrapper input.wpstg-wp-core-dir').forEach((element) => {\n      element.checked = true;\n    });\n\n    // then unselect those checkboxes whose parent has wpstg extra checkbox\n    this.directoryListingContainer.querySelectorAll('.wpstg-dir > .wpstg--checkbox-wrapper .wpstg-wp-non-core-dir').forEach((element) => {\n      element.parentElement.querySelectorAll('input.wpstg-wp-core-dir').forEach((element) => {\n        element.checked = false;\n      });\n    });\n\n    this.isDefaultSelected = true;\n\n    this.countSelectedFiles();\n  }\n\n  parseExcludes() {\n    this.existingExcludes = this.directoryListingContainer.getAttribute('wpstg-data-existing-excludes', []);\n\n    if (typeof this.existingExcludes === 'undefined' || !this.existingExcludes) {\n      this.existingExcludes = [];\n      return;\n    }\n\n    if (this.existingExcludes.length === 0) {\n      this.existingExcludes = [];\n      return;\n    }\n\n    const existingExcludes = this.existingExcludes.split(',');\n    this.existingExcludes = existingExcludes.map((exclude) => {\n      if (exclude.substr(0, 1) === '/') {\n        return exclude.slice(1);\n      }\n\n      return exclude;\n    });\n  }\n\n  isScanned(exclude) {\n    let scanned = false;\n    this.directoryListingContainer.querySelectorAll('.wpstg-dir> .wpstg--checkbox-wrapper>input').forEach((element) => {\n      if (element.value === exclude) {\n        scanned = true;\n      }\n    });\n\n    return scanned;\n  }\n\n  toggleDirectoryNavigation(element) {\n    const checkboxWrapper = dom.getPreviousSibling(element, 'span');\n    const cbElement = checkboxWrapper.querySelector('input[type=\"checkbox\"]');\n    if (cbElement.getAttribute('wpstg-data-navigatable', 'false') === 'false') {\n      return;\n    }\n\n    if (cbElement.getAttribute('wpstg-data-scanned', 'false') === 'false') {\n      return;\n    }\n\n    const subDirectories = dom.getNextSibling(checkboxWrapper, '.wpstg-subdir');\n    if (subDirectories.style.display === 'none') {\n      dom.slideDown(subDirectories);\n    } else {\n      dom.slideUp(subDirectories);\n    }\n  }\n\n  updateDirectorySelection(element) {\n    const parent = element.parentElement.parentElement;\n    element.setAttribute('wpstg-data-changed', 'true');\n    if (element.checked) {\n      dom.getParents(parent.parentElement, '.wpstg-dir').forEach((parElem) => {\n        for (let i = 0; i < parElem.children.length; i++) {\n          if (parElem.children[i].matches('.wpstg--checkbox-wrapper')) {\n            parElem.children[i].children[i].checked = true;\n          }\n        }\n      });\n      parent.parentElement.querySelectorAll('.wpstg-expand-dirs').forEach((x) => {\n        if (x.textContent === 'wp-admin' || x.textContent === 'wp-includes') {\n          return;\n        }\n        x.classList.remove('disabled');\n      });\n      parent.querySelectorAll('.wpstg-subdir .wpstg-check-dir').forEach((x) => {\n        x.checked = true;\n      });\n    } else {\n      parent.querySelectorAll('.wpstg-expand-dirs, .wpstg-check-subdirs').forEach((x) => {\n        x.classList.add('disabled');\n      });\n      parent.querySelectorAll('.wpstg-dir .wpstg-check-dir').forEach((x) => {\n        x.checked = false;\n      });\n    }\n\n    this.countSelectedFiles();\n  }\n\n  countSelectedFiles() {\n    const themesCount = this.directoryListingContainer.querySelectorAll('[wpstg-data-dir-type=\"theme\"]:checked').length;\n    const pluginsCount = this.directoryListingContainer.querySelectorAll('[wpstg-data-dir-type=\"plugin\"]:checked').length;\n    const filesCountElement = dom.qs('#wpstg-files-count');\n    if (themesCount === 0 && pluginsCount === 0) {\n      filesCountElement.classList.add('danger');\n      filesCountElement.innerHTML = this.wpstgObject.i18n['noFileSelected'];\n    } else {\n      filesCountElement.classList.remove('danger');\n      filesCountElement.innerHTML = this.wpstgObject.i18n['filesSelected'].replace('{t}', themesCount).replace('{p}', pluginsCount);\n    }\n  }\n}\n","import * as dom from './wpstg-dom-utils.js';\n\n/**\n * Database tables selection\n */\nexport default class WpstgTableSelection {\n  constructor(\n      databaseTableSectionSelector = '#wpstg-scanning-db',\n      workflowSelector = '#wpstg-workflow',\n      networkCloneSelector = '#wpstg_network_clone',\n      inputSelector = '#wpstg_select_tables_cloning',\n      wpstgObject = wpstg,\n  ) {\n    this.databaseTableSection = dom.qs(databaseTableSectionSelector);\n    this.workflow = dom.qs(workflowSelector);\n    this.networkCloneSelector = networkCloneSelector;\n    this.networkCloneCheckbox = dom.qs(networkCloneSelector);\n    this.wpstgObject = wpstgObject;\n    this.isAllTablesChecked = true;\n    this.isMultisite = this.wpstgObject.isMultisite === '1';\n    this.isNetworkClone = false;\n    this.inputSelector = inputSelector;\n    this.input = dom.qs(this.inputSelector);\n\n    this.init();\n  }\n\n  setNetworkClone(isNetworkClone) {\n    this.isNetworkClone = isNetworkClone;\n  }\n\n  addEvents() {\n    if (this.workflow === null) {\n      console.log('Error: database table section is null. Cannot register events');\n      return;\n    }\n\n    dom.addEvent(this.workflow, 'change', this.networkCloneSelector, () => {\n      this.selectDefaultTables();\n    });\n\n    dom.addEvent(this.workflow, 'change', this.inputSelector, () => {\n      this.countSelectedTables();\n    });\n\n    dom.addEvent(this.workflow, 'click', '.wpstg-button-select', (target, event) => {\n      event.preventDefault();\n      this.selectDefaultTables();\n    });\n\n    dom.addEvent(this.workflow, 'click', '.wpstg-button-unselect', (target, event) => {\n      event.preventDefault();\n      this.toggleTableSelection();\n    });\n\n    dom.addEvent(this.workflow, 'click', '.wpstg-button-unselect-wpstg', (target, event) => {\n      event.preventDefault();\n      this.unselectWPSTGTables();\n    });\n  }\n\n  init() {\n    this.addEvents();\n  }\n\n  getRegexPattern() {\n    let pattern = '^' + this.wpstgObject.tblprefix;\n    let isNetwork = false;\n    if (this.networkCloneCheckbox !== undefined && this.networkCloneCheckbox !== null) {\n      isNetwork = this.networkCloneCheckbox.checked;\n    }\n\n    // Force network clone true if set explicitly\n    if (this.isNetworkClone) {\n      isNetwork = true;\n    }\n\n    if (this.isMultisite && !isNetwork) {\n      pattern += '([^0-9])_*';\n    }\n\n    return pattern;\n  }\n\n  selectDefaultTables() {\n    const options = this.databaseTableSection.querySelectorAll('#wpstg_select_tables_cloning .wpstg-db-table');\n    const regexPattern = this.getRegexPattern();\n    options.forEach((option) => {\n      const name = option.getAttribute('name', '');\n      if (name.match(regexPattern)) {\n        option.selected = true;\n      } else {\n        option.selected = false;\n      }\n    });\n\n    this.countSelectedTables();\n  }\n\n  toggleTableSelection() {\n    if (false === this.isAllTablesChecked) {\n      this.databaseTableSection.querySelectorAll('#wpstg_select_tables_cloning .wpstg-db-table').forEach((option) => {\n        option.selected = true;\n      });\n      this.databaseTableSection.querySelector('.wpstg-button-unselect').innerHTML = 'Unselect All';\n      // cache.get('.wpstg-db-table-checkboxes').prop('checked', true);\n      this.isAllTablesChecked = true;\n    } else {\n      this.databaseTableSection.querySelectorAll('#wpstg_select_tables_cloning .wpstg-db-table').forEach((option) => {\n        option.selected = false;\n      });\n      this.databaseTableSection.querySelector('.wpstg-button-unselect').innerHTML = 'Select All';\n      // cache.get('.wpstg-db-table-checkboxes').prop('checked', false);\n      this.isAllTablesChecked = false;\n    }\n\n    this.countSelectedTables();\n  }\n\n  unselectWPSTGTables() {\n    const options = this.databaseTableSection.querySelectorAll('#wpstg_select_tables_cloning .wpstg-db-table');\n    const regexPattern = 'wpstg';\n    options.forEach((option) => {\n      const name = option.getAttribute('name', '');\n      if (name.match(regexPattern) && !name.match(this.wpstgObject.tblprefix +'wpstg_queue')) {\n        option.selected = false;\n      }\n    });\n\n    this.countSelectedTables();\n  }\n\n  getSelectedTablesWithoutPrefix() {\n    const selectedTablesWithoutPrefix = [];\n    const options = this.databaseTableSection.querySelectorAll('#wpstg_select_tables_cloning option:checked');\n    const regexPattern = this.getRegexPattern();\n    options.forEach((option) => {\n      const name = option.getAttribute('name', '');\n      if (!name.match(regexPattern)) {\n        selectedTablesWithoutPrefix.push(option.value);\n      }\n    });\n\n    return selectedTablesWithoutPrefix.join(this.wpstgObject.settings.directorySeparator);\n  }\n\n  getIncludedTables() {\n    const includedTables = [];\n    const options = this.databaseTableSection.querySelectorAll('#wpstg_select_tables_cloning option:checked');\n    const regexPattern = this.getRegexPattern();\n    options.forEach((option) => {\n      const name = option.getAttribute('name', '');\n      if (name.match(regexPattern)) {\n        includedTables.push(option.value);\n      }\n    });\n\n    return includedTables.join(this.wpstgObject.settings.directorySeparator);\n  }\n\n  getExcludedTables() {\n    const excludedTables = [];\n    const options = this.databaseTableSection.querySelectorAll('#wpstg_select_tables_cloning option:not(:checked)');\n    const regexPattern = this.getRegexPattern();\n    options.forEach((option) => {\n      const name = option.getAttribute('name', '');\n      if (name.match(regexPattern)) {\n        excludedTables.push(option.value);\n      }\n    });\n\n    return excludedTables.join(this.wpstgObject.settings.directorySeparator);\n  }\n\n  countSelectedTables() {\n    const tablesCount = this.input.querySelectorAll('option:checked').length;\n    const tablesCountElement = dom.qs('#wpstg-tables-count');\n    if (tablesCount === 0) {\n      tablesCountElement.classList.add('danger');\n      tablesCountElement.innerHTML = this.wpstgObject.i18n['noTableSelected'];\n    } else {\n      tablesCountElement.classList.remove('danger');\n      tablesCountElement.innerHTML = this.wpstgObject.i18n['tablesSelected'].replace('{d}', tablesCount);\n    }\n  }\n}\n","import * as dom from './wpstg-dom-utils.js';\n\n/**\n * Rich Exclude Filter Module\n */\nexport default class WpstgExcludeFilters {\n  constructor(\n      excludeFilterContainerSelector = '#wpstg-exclude-filters-container',\n      wpstgObject = wpstg,\n  ) {\n    this.excludeContainer = dom.qs(excludeFilterContainerSelector);\n    this.excludeTableBody = dom.qs(`${excludeFilterContainerSelector} tbody`);\n    this.wpstgObject = wpstgObject;\n    this.init();\n  }\n\n  addEvents() {\n    dom.addEvent(this.excludeContainer, 'click', '.wpstg-file-size-rule', () => {\n      this.addFileSizeExclude();\n    });\n\n    dom.addEvent(this.excludeContainer, 'click', '.wpstg-file-ext-rule', () => {\n      this.addFileExtExclude();\n    });\n\n    dom.addEvent(this.excludeContainer, 'click', '.wpstg-file-name-rule', () => {\n      this.addFileNameExclude();\n    });\n\n    dom.addEvent(this.excludeContainer, 'click', '.wpstg-dir-name-rule', () => {\n      this.addDirNameExclude();\n    });\n\n    dom.addEvent(this.excludeContainer, 'click', '.wpstg-clear-all-rules', () => {\n      this.clearExcludes();\n    });\n\n    dom.addEvent(this.excludeContainer, 'click', '.wpstg-remove-exclude-rule', (target) => {\n      this.removeExclude(target.parentElement);\n    });\n  }\n\n  init() {\n    if (this.excludeContainer === null) {\n      console.log('Error: Given table selector not found!');\n      return;\n    }\n\n    this.addEvents();\n  }\n\n  addFileSizeExclude() {\n    this.addExcludeRuleRow('#wpstg-file-size-exclude-filter-template');\n  }\n\n  addFileExtExclude() {\n    this.addExcludeRuleRow('#wpstg-file-ext-exclude-filter-template');\n  }\n\n  addFileNameExclude() {\n    this.addExcludeRuleRow('#wpstg-file-name-exclude-filter-template');\n  }\n\n  addDirNameExclude() {\n    this.addExcludeRuleRow('#wpstg-dir-name-exclude-filter-template');\n  }\n\n  addExcludeRuleRow(templateName) {\n    const excludeRowTemplate = dom.qs(templateName);\n    if (excludeRowTemplate !== null) {\n      const clone = excludeRowTemplate.content.cloneNode(true);\n      const excludeRow = clone.querySelector('tr');\n\n      this.excludeTableBody.appendChild(excludeRow);\n      dom.all('.wpstg-has-exclude-rules').forEach((e) => {\n        e.style.display = 'inherit';\n      });\n    }\n  }\n\n  clearExcludes() {\n    this.excludeTableBody.innerHTML = '';\n    dom.all('.wpstg-has-exclude-rules').forEach((e) => {\n      e.style.display = 'none';\n    });\n  }\n\n  removeExclude(target) {\n    if (target.parentElement !== null && target.parentElement.parentElement !== null) {\n      this.excludeTableBody.removeChild(target.parentElement.parentElement);\n    }\n\n    if (this.excludeTableBody.innerHTML.trim() === '') {\n      dom.all('.wpstg-has-exclude-rules').forEach((e) => {\n        e.style.display = 'none';\n      });\n    }\n  }\n\n  /**\n   * Converts all the exclude filters arrays into one single string to keep size of post request small\n   * @return {string}\n   */\n  getExcludeFilters() {\n    const globExcludes = [];\n    const sizeExcludes = [];\n\n    const sizeCompares = this.excludeTableBody.querySelectorAll('select[name=\"wpstgFileSizeExcludeRuleCompare[]\"]');\n    const sizeSizes = this.excludeTableBody.querySelectorAll('input[name=\"wpstgFileSizeExcludeRuleSize[]\"]');\n    const sizeByte = this.excludeTableBody.querySelectorAll('select[name=\"wpstgFileSizeExcludeRuleByte[]\"]');\n    for (const [key, sizeInput] of Object.entries(sizeSizes)) {\n      if (sizeInput.value !== '') {\n        sizeExcludes.push(sizeCompares[key].value + ' ' + sizeInput.value + sizeByte[key].value);\n      }\n    }\n\n    const extensionInputs = this.excludeTableBody.querySelectorAll('input[name=\"wpstgFileExtExcludeRule[]\"]');\n    extensionInputs.forEach((x) => {\n      const ext = this.cleanStringForGlob(x.value);\n      if (ext !== '') {\n        globExcludes.push('ext:' + ext.trim());\n      }\n    });\n\n    const fileNamesPos = this.excludeTableBody.querySelectorAll('select[name=\"wpstgFileNameExcludeRulePos[]\"]');\n    const fileNames = this.excludeTableBody.querySelectorAll('input[name=\"wpstgFileNameExcludeRulePath[]\"]');\n    for (const [key, fileInput] of Object.entries(fileNames)) {\n      const fileName = this.cleanStringForGlob(fileInput.value);\n      if (fileName !== '') {\n        globExcludes.push('file:' + fileNamesPos[key].value + ' ' + fileName.trim());\n      }\n    }\n\n    const dirNamesPos = this.excludeTableBody.querySelectorAll('select[name=\"wpstgDirNameExcludeRulePos[]\"]');\n    const dirNames = this.excludeTableBody.querySelectorAll('input[name=\"wpstgDirNameExcludeRulePath[]\"]');\n    for (const [key, dirInput] of Object.entries(dirNames)) {\n      const dirName = this.cleanStringForGlob(dirInput.value);\n      if (dirName !== '') {\n        globExcludes.push('dir:' + dirNamesPos[key].value + ' ' + dirName.trim());\n      }\n    }\n\n    return {\n      'sizes': sizeExcludes.filter(this.onlyUnique).join(','),\n      // return set of unique rules\n      'globs': globExcludes.filter(this.onlyUnique).join(','),\n    };\n  }\n\n  onlyUnique(value, index, self) {\n    return self.indexOf(value) === index;\n  }\n\n  /**\n   * Remove most of the comment glob characters from the string\n   * @param {String} value\n   * @return {String}\n   */\n  cleanStringForGlob(value) {\n    // will replace character like * ^ / \\ ! ? [ from the string\n    return value.replace(/[*^//!\\[?]/g, '');\n  }\n}\n","/**\n * Basic WP Staging Modal implemented with help of Sweetalerts\n */\nexport default class WpstgModal {\n  constructor(\n      confirmAction,\n      wpstgObject = wpstg,\n  ) {\n    this.confirmAction = confirmAction;\n    this.wpstgObject = wpstgObject;\n  }\n\n  show(swalOptions, additionalParams = {}, callback = null) {\n    wpstgSwal.fire(swalOptions).then((result) => {\n      if (result.value && this.error !== null) {\n        this.triggerConfirmAction(additionalParams, callback);\n      }\n    });\n  }\n\n  triggerConfirmAction(additionalParams = {}, callback = null) {\n    fetch(this.wpstgObject.ajaxUrl, {\n      method: 'POST',\n      credentials: 'same-origin',\n      body: new URLSearchParams(Object.assign({\n        action: this.confirmAction,\n        accessToken: this.wpstgObject.accessToken,\n        nonce: this.wpstgObject.nonce,\n      }, additionalParams)),\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n    }).then((response) => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      return Promise.reject(response);\n    }).then((response) => {\n      if (callback !== null) {\n        callback(response);\n      }\n    }).catch((error) => {\n      console.log(this.wpstgObject.i18n['somethingWentWrong'], error);\n    });\n  }\n}\n","\nimport * as dom from './wpstg-dom-utils.js';\nimport WpstgDirectoryNavigation from './wpstg-directory-navigation.js';\nimport WpstgTableSelection from './wpstg-table-selection';\nimport WpstgExcludeFilters from './wpstg-exclude-filters.js';\nimport WpstgModal from './wpstg-modal.js';\nimport WPStagingCommon from './../wpstg.js';\n\n/**\n * Manage RESET MODAL\n */\nexport default class WpstgResetModal {\n  constructor(\n      cloneID,\n      workflowSelector = '#wpstg-workflow',\n      fetchExcludeSettingsAction = 'wpstg_clone_excludes_settings',\n      modalErrorAction = 'wpstg_modal_error',\n      wpstgObject = wpstg,\n  ) {\n    this.cloneID = cloneID;\n    this.workflow = dom.qs(workflowSelector);\n    this.wpstgObject = wpstgObject;\n    this.fetchExcludeSettingsAction = fetchExcludeSettingsAction;\n    this.modalErrorAction = modalErrorAction;\n    this.resetButtonClass = 'wpstg-confirm-reset-clone';\n    this.resetModalContainerClass = 'wpstg-reset-confirmation';\n    this.resetTabSelector = '.wpstg-reset-exclude-tab';\n    this.directoryNavigator = null;\n    this.excludeFilters = null;\n    this.tableSelector = null;\n    this.isNetworkClone = false;\n  }\n\n  addEvents() {\n    const resetModalContainer = dom.qs('.' + this.resetModalContainerClass);\n    if (resetModalContainer === null) {\n      console.log('Exit');\n      return;\n    }\n\n    dom.addEvent(resetModalContainer, 'click', this.resetTabSelector, (target) => {\n      this.toggleContent(target);\n    });\n  }\n\n  init() {\n    this.addEvents();\n  }\n\n  setNetworkClone(isNetworkClone) {\n    this.isNetworkClone = isNetworkClone;\n  }\n\n  toggleContent(target) {\n    const resetModalContainer = dom.qs('.' + this.resetModalContainerClass);\n    const contentId = target.getAttribute('data-id');\n    const tabTriangle = target.querySelector('.wpstg-tab-triangle');\n    const isCollapsed = target.getAttribute('data-collapsed', 'true');\n    const content = dom.qs(contentId);\n    if (isCollapsed === 'true') {\n      if (resetModalContainer.classList.contains('has-collapsible-open')) {\n        resetModalContainer.classList.add('has-collapsible-open-2');\n      } else {\n        resetModalContainer.classList.add('has-collapsible-open');\n      }\n\n      dom.slideDown(content);\n      tabTriangle.style.transform = 'rotate(90deg)';\n      target.setAttribute('data-collapsed', 'false');\n    } else {\n      if (resetModalContainer.classList.contains('has-collapsible-open-2')) {\n        resetModalContainer.classList.remove('has-collapsible-open-2');\n      } else {\n        resetModalContainer.classList.remove('has-collapsible-open');\n      }\n\n      dom.slideUp(content);\n      tabTriangle.style.removeProperty('transform');\n      target.setAttribute('data-collapsed', 'true');\n    }\n  }\n\n  /**\n   * Show Swal alert with loader and send ajax request to fetch content of alert.\n   * @return Promise\n   */\n  showModal() {\n    const swalPromise = this.loadModal();\n    this.init();\n    this.fetchCloneExcludes();\n    return swalPromise;\n  }\n\n  loadModal() {\n    return WPStagingCommon.getSwalModal(false, {\n      confirmButton: this.resetButtonClass + ' wpstg-confirm-reset-clone wpstg--btn--confirm wpstg-blue-primary wpstg-button wpstg-link-btn',\n      container: this.resetModalContainerClass + ' wpstg-swal2-container wpstg-swal2-loading',\n    }).fire({\n      title: '',\n      icon: 'warning',\n      html: this.getAjaxLoader(),\n      width: '400px',\n      focusConfirm: false,\n      confirmButtonText: this.wpstgObject.i18n.resetClone,\n      showCancelButton: true,\n    });\n  }\n\n  fetchCloneExcludes() {\n    this.error = null;\n    // send ajax request and fetch preserved exclude settings\n    fetch(this.wpstgObject.ajaxUrl, {\n      method: 'POST',\n      credentials: 'same-origin',\n      body: new URLSearchParams({\n        action: this.fetchExcludeSettingsAction,\n        accessToken: this.wpstgObject.accessToken,\n        nonce: this.wpstgObject.nonce,\n        clone: this.cloneID,\n        job: 'resetting',\n      }),\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n    }).then((response) => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      return Promise.reject(response);\n    }).then((data) => {\n      if (!data.success) {\n        const errorModal = new WpstgModal(this.modalErrorAction, this.wpstgObject);\n        errorModal.show(Object.assign({\n          title: 'Error',\n          icon: 'error',\n          html: this.wpstgObject.i18n['somethingWentWrong'],\n          width: '500px',\n          confirmButtonText: 'Ok',\n          showCancelButton: false,\n          customClass: {\n            confirmButton: 'wpstg--btn--confirm wpstg-blue-primary wpstg-button wpstg-link-btn',\n            cancelButton: 'wpstg--btn--cancel wpstg-blue-primary wpstg-link-btn',\n            actions: 'wpstg--modal--actions',\n            popup: 'wpstg-swal-popup wpstg-centered-modal',\n          },\n          buttonsStyling: false,\n          reverseButtons: true,\n        }, data.swalOptions), {\n          type: data.type,\n        });\n\n        return;\n      }\n\n      const modal = dom.qs('.wpstg-reset-confirmation');\n      modal.classList.remove('wpstg-swal2-loading');\n      modal.querySelector('.wpstg--swal2-popup').style.width = '540px';\n      modal.querySelector('.wpstg--swal2-content').innerHTML = data.html;\n      this.directoryNavigator = new WpstgDirectoryNavigation('#wpstg-directories-listing', wpstg, null);\n      this.directoryNavigator.countSelectedFiles();\n      this.excludeFilters = new WpstgExcludeFilters();\n      this.tableSelector = new WpstgTableSelection('#wpstg-reset-excluded-tables', '.' + this.resetModalContainerClass);\n      this.tableSelector.setNetworkClone(this.isNetworkClone);\n      this.tableSelector.countSelectedTables();\n    }).catch((error) => {\n      this.renderError({\n        'html': this.wpstgObject.i18n['somethingWentWrong'] + ' ' + error,\n      });\n    });\n  }\n\n  getDirectoryNavigator() {\n    return this.directoryNavigator;\n  }\n\n  getExcludeFilters() {\n    return this.excludeFilters;\n  }\n\n  getTableSelector() {\n    return this.tableSelector;\n  }\n\n  getAjaxLoader() {\n    return '<div class=\"wpstg-swal2-ajax-loader\"><img src=\"' + this.wpstgObject.wpstgIcon + '\" /></div>';\n  }\n}\n","import * as dom from './wpstg-dom-utils.js';\n\n/**\n * Handle toggle of advance settings checkboxes\n */\nexport default class WpstgCloningAdvanceSettings {\n  constructor(\n      baseContainerSelector = '#wpstg-clonepage-wrapper',\n  ) {\n    this.baseContainer = dom.qs(baseContainerSelector);\n    this.checkBoxSettingTogglerSelector = '.wpstg-toggle-advance-settings-section';\n    this.init();\n  }\n\n  /**\n   * Add events\n   * @return {void}\n   */\n  addEvents() {\n    if (this.baseContainer === null) {\n      return;\n    }\n\n    dom.addEvent(this.baseContainer, 'change', this.checkBoxSettingTogglerSelector, (element) => {\n      this.toggleSettings(element);\n    });\n  }\n\n  /**\n   * @return {void}\n   */\n  init() {\n    this.addEvents();\n  }\n\n  /**\n   * Expand/Collapse checkbox content on change\n   * @return {void}\n   */\n  toggleSettings(element) {\n    const target = dom.qs('#' + element.getAttribute('data-id'));\n    if (element.checked) {\n      dom.slideDown(target);\n    } else {\n      dom.slideUp(target);\n    }\n  }\n}\n","import * as dom from './wpstg-dom-utils.js';\n\nexport default class WpstgMainMenu {\n  constructor() {\n    this.activeTabClass = 'wpstg--tab--active';\n    this.mainMenu();\n  }\n\n  mainMenu() {\n    const tabHeader = dom.qs('.wpstg--tab--header');\n    // Early bail if tab header is not available\n    if (tabHeader === null) {\n      return;\n    }\n\n    const workflowContainer = dom.qs('#wpstg-workflow');\n    if (workflowContainer !== null) {\n      dom.addEvent(workflowContainer, 'click', '.wpstg-navigate-button', (element) => {\n        const $this = element;\n        const target = $this.getAttribute('data-target');\n        if (target === '') {\n          return;\n        }\n\n        if ('#wpstg--tab--backup' === target) {\n          // trigger click for .wpsg--tab--header a[data-target=\"#wpstg--tab--backup\"]\n          dom.qs('.wpstg--tab--header a[data-target=\"#wpstg--tab--backup\"]').click();\n        }\n      });\n    }\n\n    dom.addEvent(dom.qs('.wpstg--tab--header'), 'click', '.wpstg-button', (element) => {\n      const $this = element;\n      const target = $this.getAttribute('data-target');\n      if (target === '') {\n        return;\n      }\n      const targetElements = dom.all(target);\n      const menuItems = dom.all('.wpstg--tab--header a[data-target]');\n      const contents = dom.all('.wpstg--tab--contents > .wpstg--tab--content');\n\n      contents.forEach((content) => {\n        // active tab class is without the css dot class prefix\n        if (content.matches('.' + this.activeTabClass + ':not(' + target + ')')) {\n          content.classList.remove(this.activeTabClass);\n        }\n      });\n\n      menuItems.forEach((menuItem) => {\n        if (menuItem !== $this) {\n          menuItem.classList.remove(this.activeTabClass);\n        }\n      });\n\n      $this.classList.add(this.activeTabClass);\n\n      targetElements.forEach((targetElement) => {\n        targetElement.classList.add(this.activeTabClass);\n      });\n\n      if ('#wpstg--tab--backup' === target) {\n        window.dispatchEvent(new Event('backups-tab'));\n      }\n    });\n  };\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; };\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) });\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: true });\n  defineProperty(\n    GeneratorFunctionPrototype,\n    \"constructor\",\n    { value: GeneratorFunction, configurable: true }\n  );\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    defineProperty(this, \"_invoke\", { value: enqueue });\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method;\n    var method = delegate.iterator[methodName];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method, or a missing .next mehtod, always terminate the\n      // yield* loop.\n      context.delegate = null;\n\n      // Note: [\"return\"] must be used for ES3 parsing compatibility.\n      if (methodName === \"throw\" && delegate.iterator[\"return\"]) {\n        // If the delegate iterator has a return method, give it a\n        // chance to clean up.\n        context.method = \"return\";\n        context.arg = undefined;\n        maybeInvokeDelegate(delegate, context);\n\n        if (context.method === \"throw\") {\n          // If maybeInvokeDelegate(context) changed context.method from\n          // \"return\" to \"throw\", let that override the TypeError below.\n          return ContinueSentinel;\n        }\n      }\n      if (methodName !== \"return\") {\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a '\" + methodName + \"' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(val) {\n    var object = Object(val);\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","import 'regenerator-runtime/runtime';\nimport * as dom from '../../modules/wpstg-dom-utils.js';\nimport wpstgAuthCheck from './wpstg-auth-check';\n\nclass WpstgReAuth {\n  constructor() {\n    this.wrap = '';\n    this.tempHidden = '';\n    this.tempHiddenTimeout = '';\n  }\n\n  /**\n   * @return {void}\n   */\n  shows() {\n    this.wrap = document.getElementById('wpstg-auth-check-wrap');\n    this.parentElement = document.getElementById('wpstg-auth-check');\n    this.formElement = document.getElementById('wpstg-auth-check-form');\n    this.wrapElement = document.getElementById('wpstg-auth-check-wrap');\n    this.noFrameElement = this.wrapElement.querySelector('.wpstg-auth-fallback-expired');\n    this.iframeElement = '';\n    this.isIframeLoaded = false;\n\n    if (this.formElement) {\n      this.addUnloadEvent();\n      this.iframeElement = this.createIframeElement();\n      this.formElement.appendChild(this.iframeElement);\n    }\n\n    this.openModal();\n\n    if (this.iframeElement) {\n      this.focusIframe();\n      this.setIframeLoadTimeout();\n    } else {\n      this.focusFallbackElement();\n    }\n  }\n\n  /**\n   * @return {void}\n   */\n  addUnloadEvent() {\n    window.addEventListener('beforeunload', (event) => {\n      event.returnValue = 'Your session has expired. You can log in again from this page or go to the login page.';\n    });\n  }\n\n  /**\n  * @return {void}\n  */\n  createIframeElement() {\n    this.iframeElement = document.createElement('iframe');\n    this.iframeElement.id = 'wpstg-auth-check-frame';\n    this.iframeElement.style.border = '0px';\n    this.iframeElement.title = this.noFrameElement.textContent;\n\n    this.iframeElement.onload = () => this.handleIframeLoad();\n\n    this.iframeElement.src = this.formElement.dataset.src;\n    return this.iframeElement;\n  }\n\n  /**\n   * @return {void}\n   */\n  handleIframeLoad() {\n    let height;\n    let body;\n\n    this.isIframeLoaded = true;\n    this.formElement.classList.remove('loading');\n\n    try {\n      body = this.iframeElement.contentDocument.querySelector('body');\n      height = body.offsetHeight;\n    } catch (er) {\n      this.handleIframeLoadError();\n      return;\n    }\n\n    if (!body || !height) {\n      this.handleIframeLoadError();\n      return;\n    }\n\n    if (!body.classList.contains('interim-login-success')) {\n      this.parentElement.style.maxHeight = height + 40 + 'px';\n      return;\n    }\n\n    this.hide();\n  }\n\n  /**\n   * @return {void}\n   */\n  handleIframeLoadError() {\n    this.wrapElement.classList.add('fallback');\n    this.parentElement.style.maxHeight = '';\n    this.formElement.remove();\n    this.noFrameElement.focus();\n  }\n\n  /**\n   * @return {void}\n   */\n  openModal() {\n    document.body.classList.add('modal-open');\n    this.wrapElement.classList.remove('hidden');\n  }\n\n  /**\n   * @return {void}\n   */\n  focusIframe() {\n    this.iframeElement.focus();\n  }\n\n  /**\n   * @return {void}\n   */\n  setIframeLoadTimeout() {\n    setTimeout(() => {\n      if (!this.isIframeLoaded) {\n        this.wrapElement.classList.add('fallback');\n        this.formElement.remove();\n        this.noFrameElement.focus();\n      }\n    }, 2000);\n  }\n\n  /**\n   * @return {void}\n   */\n  focusFallbackElement() {\n    this.noFrameElement.focus();\n  }\n\n  /**\n   * @return {void}\n   */\n  hide() {\n    window.removeEventListener('beforeunload', function(event) {\n      event.returnValue = null;\n    });\n\n    dom.fadeOut(this.wrap, 200, () => {\n      this.wrap.classList.add('hidden');\n      this.wrap.style.display = '';\n      document.getElementById('wpstg-auth-check-frame').remove();\n      document.body.classList.remove('modal-open');\n    });\n\n    wpstgAuthCheck.checkUserAuthentication();\n  }\n}\n\nconst wpstgReAuth = new WpstgReAuth();\nexport default wpstgReAuth;\n","import 'regenerator-runtime/runtime';\nimport wpstgReAuth from './wpstg-re-auth';\n\nclass WpstgAuthCheck {\n  constructor(wpstgObject = wpstg) {\n    this.wpstgObject = wpstgObject;\n    this.count = 0;\n    this.status = true;\n    this.isAuthenticated = true;\n  }\n\n  /**\n   * Start checking user authentication\n   *\n   * @return {void}\n   */\n  start() {\n    if (this.status) {\n      setTimeout(() => {\n        this.checkUserAuthentication();\n      }, 1000);\n    }\n  }\n\n  /**\n   * @return {void}\n   */\n  stop() {\n    this.resetCount();\n    this.status = false;\n  }\n\n  /**\n   * @return {void}\n   */\n  resetCount() {\n    this.count = 0;\n  }\n\n  /**\n  * @return {void}\n  */\n  async checkUserAuthentication() {\n    fetch(this.wpstgObject.ajaxUrl, {\n      method: 'POST',\n      credentials: 'same-origin',\n      body: new URLSearchParams({\n        action: 'wpstg_check_user_is_authenticated',\n        accessToken: this.wpstgObject.accessToken,\n        nonce: this.wpstgObject.nonce,\n      }),\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n    }).then((response) => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      return Promise.reject(response);\n    }).then((data) => {\n      if (data.wpAuthCheck === false) {\n        this.count++;\n      }\n\n      this.isAuthenticated = data.wpAuthCheck;\n      if (this.count === 2) {\n        this.stop();\n        this.createAuthCheckElements(data.redirectUrl);\n        return;\n      }\n\n      this.start();\n    }).catch((error) => {\n      console.error('Error:', error);\n    });\n  }\n\n  /**\n   * @param redirectUrl\n   * @return {void}\n   */\n  createAuthCheckElements(redirectUrl) {\n    const isAlreadyAppended = document.getElementById('wpstg-auth-check-wrap') !== null;\n\n    if (isAlreadyAppended) {\n      document.getElementById('wpstg-auth-check-wrap').remove();\n    }\n\n    const wpAuthCheckWrap = document.createElement('div');\n    wpAuthCheckWrap.id = 'wpstg-auth-check-wrap';\n    wpAuthCheckWrap.classList.add('hidden');\n\n    const wpAuthCheckBg = document.createElement('div');\n    wpAuthCheckBg.id = 'wpstg-auth-check-bg';\n\n    const wpAuthCheckDialog = document.createElement('div');\n    wpAuthCheckDialog.id = 'wpstg-auth-check';\n\n    const wpAuthCheckForm = document.createElement('div');\n    wpAuthCheckForm.id = 'wpstg-auth-check-form';\n    wpAuthCheckForm.classList.add('loading');\n    wpAuthCheckForm.dataset.src = redirectUrl + '?interim-login=1&wp_lang=en_US';\n\n    const wpAuthCheckFallback = document.createElement('div');\n    wpAuthCheckFallback.classList.add('wpstg-auth-fallback');\n\n    const wpAuthCheckExpired = document.createElement('p');\n    wpAuthCheckExpired.innerHTML = '<b class=\"wpstg-auth-fallback-expired\" tabindex=\"0\">Session expired</b>';\n\n    const wpAuthCheckLoginLink = document.createElement('p');\n    wpAuthCheckLoginLink.innerHTML = `<a href=\"${redirectUrl}\" target=\"_blank\">Please log in again.</a> The login page will open in a new tab. After logging in you can close it and return to this page.`;\n\n    wpAuthCheckDialog.append(wpAuthCheckForm, wpAuthCheckFallback);\n    wpAuthCheckFallback.append(wpAuthCheckExpired, wpAuthCheckLoginLink);\n    wpAuthCheckWrap.append(wpAuthCheckBg, wpAuthCheckDialog);\n    document.body.appendChild(wpAuthCheckWrap);\n    wpstgReAuth.shows();\n  }\n}\n\nconst wpstgAuthCheck = new WpstgAuthCheck();\nexport default wpstgAuthCheck;\n\n","import WPStagingCommon from './../wpstg.js';\nimport * as dom from './wpstg-dom-utils.js';\nimport wpstgAuthCheck from '../backup/modules/wpstg-auth-check';\n\n/**\n * Represents a class for managing and displaying process and success modals in WPStaging.\n * This class provides methods to start, open, initialize, update, and stop process modals.\n *\n * @class\n */\nexport default class WpstgProcessModal {\n  constructor(wpstgObject = wpstg) {\n    this.wpstgObject = wpstgObject;\n    this.action = '';\n    this.isProcessCancelled = false;\n    this.isProcessFinished = false;\n    this.processTime = 0;\n    this.processInterval = '';\n    this.modal = null;\n    this.disableCancelButton = false;\n    this.title = '';\n    this.showCancelButton = false;\n    this.percentage = 0;\n    this.cloneId = '';\n    this.successModal = '';\n    this.showProcessLogs = true;\n    this.stagingSiteUrl = '';\n  }\n\n  /**\n   * Starts the process, initializes intervals, and modifies UI elements as needed.\n   *\n   * @return {void}\n   */\n  start() {\n    this.showCancelButton = true;\n    this.processInterval = setInterval(() => {\n      if (wpstgAuthCheck.isAuthenticated || this.action === 'wpstg_push_processing') {\n        this.processTime++;\n        this.updateElapsedTime();\n      }\n    }, 1000);\n    if (this.action === 'wpstg_delete_clone') {\n      dom.hide('.wpstg--modal--process--logs--tail');\n      this.showCancelButton = false;\n      const container = WPStagingCommon.getSwalContainer();\n      const processPercentageElement = container.querySelector('.wpstg--modal--process--percent');\n      processPercentageElement.textContent = 100;\n    }\n\n    if (this.action === 'wpstg_cloning' || this.action === 'wpstg_push_processing') {\n      wpstgAuthCheck.status = true;\n      wpstgAuthCheck.start();\n    }\n\n    dom.hide('.wpstg-prev-step-link, #wpstg-start-updating, .wpstg-loader, #wpstg-cancel-cloning, .wpstg-log-details, .wpstg-progress-bar, #wpstg-processing-header');\n    dom.hide('.wpstg-processing-timer, #wpstg-cancel-pushing, .wpstg-progress-bar-wrapper, #wpstg-cancel-cloning-update, #wpstg-removing-clone');\n  }\n\n  /**\n   * Stops the ongoing process, resets values, and clears intervals.\n   *\n   * @return {void}\n   */\n  stop() {\n    this.processTime = 0;\n    this.modal = null;\n    this.percentage = '';\n    this.resetCancelChecks();\n\n    clearInterval(this.processInterval);\n    WPStagingCommon.closeSwalModal();\n    dom.loadingBar();\n\n    dom.hide('#wpstg-try-again, #wpstg-home-link, #wpstg-show-log-button, .wpstg-loader');\n    if (this.action === 'wpstg_cloning' || this.action === 'wpstg_push_processing') {\n      wpstgAuthCheck.stop();\n    }\n  }\n\n  resetCancelChecks() {\n    const element = document.getElementById('wpstg-new-clone');\n    if (element === null) {\n      setTimeout(()=> {\n        this.resetCancelChecks();\n      }, 1000);\n      return;\n    }\n\n    setTimeout(()=> {\n      this.isProcessCancelled = false;\n      WPStaging.isCancelled = false;\n    }, 2000);\n    dom.loadingBar('hidden');\n  }\n\n  /**\n   * Cancels the ongoing process if confirmed by the user.\n   *\n   * @return {void}\n   */\n  cancelProcess() {\n    if (confirm('Are you sure you want to cancel cloning process?')) {\n      WPStaging.isCancelled = true;\n      this.isProcessCancelled = true;\n      if (this.action === 'wpstg_push_processing') {\n        const container = WPStagingCommon.getSwalContainer();\n        const processTitleElement = container.querySelector('.wpstg--modal--process--title');\n        processTitleElement.textContent = 'Canceling Please wait....';\n        this.stop();\n        dom.show('#wpstg-workflow');\n        WPStaging.messages = [];\n      } else {\n        this.cancelCloneAction();\n      }\n    }\n  }\n\n  /**\n   * Sets the title and cancellation status based on the response job or status.\n   *\n   * @param {Object} response - The response object containing information about the process job and status.\n   * @return {void}\n   */\n  setTitle(response) {\n    this.title = response.job;\n    if (response.job === 'database' || response.job === 'jobCopyDatabaseTmp') {\n      this.title = 'Copying Database';\n      this.disableCancelButton = false;\n    } else if (response.job === 'SearchReplace') {\n      this.title = 'Processing Data';\n      this.disableCancelButton = false;\n    } else if (response.job === 'directories' || response.job === 'jobFileScanning') {\n      this.title = 'Scanning Files';\n      this.disableCancelButton = false;\n    } else if (response.job === 'files' || response.job === 'data' || response.job === 'jobCopy' || response.job === 'jobSearchReplace') {\n      this.title = 'Copying Files';\n      this.disableCancelButton = false;\n    } else if (response.job === 'Backup') {\n      this.title = 'Backup Files Scanning';\n      this.disableCancelButton = false;\n    } else if (response.job === 'finish' || response.status === 'finished') {\n      this.title = 'Process Finished';\n      this.disableCancelButton = false;\n    } else if (response.job === 'jobDatabaseRename') {\n      this.title = 'Renaming Database';\n      this.disableCancelButton = true;\n    } else if (response.job === 'jobData') {\n      this.title = 'Updating Database Data';\n      this.disableCancelButton = true;\n    }\n  }\n\n  /**\n   * Sets the stored percentage value if the provided parameter is not null.\n   *\n   * @param {Object} params - Parameters containing the percentage value.\n   * @return {void}\n   */\n  setPercentage(params) {\n    if (params.percentage !== null) {\n      this.percentage = params.percentage;\n    }\n  }\n\n  /**\n   * Initializes the process modal with specific behavior and appearance configurations.\n   *\n   * @return {void}\n   */\n  initializeProcessModal() {\n    const modal = document.querySelector('#wpstg--modal--backup--process');\n    const html = modal.innerHTML;\n    modal.parentNode.removeChild(modal);\n    this.modal = {\n      html: null,\n      cancelBtnTxt: null,\n      processTime: 0,\n      instance: WPStagingCommon.getSwalModal(true, {\n        content: 'wpstg--process--content',\n      }).fire({\n        html: html,\n        cancelButtonText: 'Cancel',\n        showCancelButton: this.showCancelButton,\n        showConfirmButton: false,\n        showCloseButton: false,\n        showLoaderOnConfirm: false,\n        allowEscapeKey: false,\n        allowOutsideClick: false,\n        onRender: () => {\n          const cancelButton = WPStagingCommon.getSwalContainer().getElementsByClassName('wpstg--swal2-cancel wpstg--btn--cancel')[0];\n          const btnCancel = cancelButton.cloneNode(true);\n          cancelButton.parentNode.replaceChild(btnCancel, cancelButton);\n          btnCancel.addEventListener('click', () => {\n            this.cancelProcess();\n          });\n        },\n      }),\n    };\n    this.start();\n  }\n\n  /**\n   * Sets the content of the process modal based on the stored title, percentage, and cancellation status.\n   *\n   * @return {void}\n   */\n  setProcessModal() {\n    const container = WPStagingCommon.getSwalContainer();\n    const cancelButton = container.getElementsByClassName('wpstg--swal2-cancel wpstg--btn--cancel')[0];\n    const processTitleElement = container.querySelector('.wpstg--modal--process--title');\n    const processPercentageElement = container.querySelector('.wpstg--modal--process--percent');\n    processTitleElement.textContent = this.title;\n    processPercentageElement.textContent = this.percentage;\n    cancelButton.disabled = this.disableCancelButton;\n  }\n\n  /**\n   * Opens and initializes a process modal with the provided data and parameters.\n   *\n   * @param {Object|undefined} data - Data related to the process.\n   * @param {Object} params - Parameters for configuring the process modal.\n   * @param {boolean} [showLogs=false] - Whether to display logs in the modal.\n   * @param {boolean} [showCancelButton=true] - Whether to show the cancel button in the modal.\n   * @return {void}\n   */\n  openProcessModal(data, params, showLogs = false, showCancelButton = true) {\n    if (!this.isProcessCancelled && !WPStaging.isCancelled) {\n      if (data !== undefined) {\n        this.action = data.action;\n        this.cloneId = data.cloneID;\n      }\n      this.showCancelButton = showCancelButton;\n      this.showLogs = showLogs;\n      if (!this.modal) {\n        this.initializeProcessModal();\n      } else {\n        if (params.job) {\n          this.setTitle(params);\n          this.setPercentage(params);\n          this.setProcessModal();\n          if (params.job === 'finish') {\n            this.stop();\n          }\n        } else {\n          if (params.status === 'finished') {\n            this.stop();\n          }\n        }\n      }\n    }\n  };\n\n  /**\n   * Formats the given time duration (in seconds) into a string representation (HH:mm:ss).\n   *\n   * @return {string} The formatted time duration string.\n   */\n  formatTimeDuration() {\n    return new Date(this.processTime * 1000).toISOString().slice(11, 19) + 's';\n  }\n\n  /**\n   * Updates the displayed elapsed time in the modal if a process interval is set.\n   *\n   * @return {void}\n   */\n  updateElapsedTime() {\n    if (this.processInterval !== null) {\n      const container = WPStagingCommon.getSwalContainer();\n      const elapsedTimeElement = container.querySelector('.wpstg--modal--process--elapsed-time');\n      elapsedTimeElement.textContent = this.formatTimeDuration();\n    }\n  };\n\n  /**\n   * Determines the corresponding cancellation action name based on the current action.\n   *\n   * @return {string|undefined} The cancellation action name or undefined if no match is found.\n   */\n  getCancelCloneAction() {\n    const actions = [\n      {\n        name: 'wpstg_cloning',\n        cancel: 'wpstg_cancel_clone',\n      },\n      {\n        name: 'wpstg_reset',\n        cancel: 'wpstg_cancel_update',\n      },\n      {\n        name: 'wpstg_update',\n        cancel: 'wpstg_cancel_update',\n      },\n      {\n        name: 'wpstg_push_processing',\n        cancel: 'wpstg_cancel_push_processing',\n      },\n    ];\n    if (this.action !== '') {\n      const result = actions.find((action) => action.name === this.action);\n      return result.cancel;\n    }\n  }\n\n  /**\n   * Cancels the ongoing clone action if there is one, using a fetch request.\n   * If the cancellation is successful, it stops the action and optionally reloads the page.\n   * If there are further actions or the cancellation is not successful, it retries the cancellation process recursively.\n   *\n   * @return {void}\n   */\n  cancelCloneAction() {\n    if (this.action) {\n      fetch(this.wpstgObject.ajaxUrl, {\n        method: 'POST',\n        credentials: 'same-origin',\n        body: new URLSearchParams({\n          action: this.getCancelCloneAction(),\n          accessToken: this.wpstgObject.accessToken,\n          nonce: this.wpstgObject.nonce,\n          clone: this.cloneId,\n        }),\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n        },\n      }).then((response) => {\n        if (response.ok) {\n          return response.json();\n        }\n        return Promise.reject(response);\n      }).then((response) => {\n        if (response && 'undefined' !== typeof (response.delete) && response.delete === 'finished' || response === true) {\n          this.stop();\n          WPStaging.loadOverview();\n          WPStaging.messages = [];\n        }\n        if (response !== true) {\n          this.cancelCloneAction();\n        }\n      }).catch((error) => {\n        console.log(this.wpstgObject.i18n['somethingWentWrong'], error);\n      });\n    }\n  }\n\n  /**\n   * Initializes the success modal with the provided parameters and displays it.\n   *\n   * @param {Object} params - The parameters for configuring the success modal content.\n   * @return {void}\n   */\n  initializeSuccessModal(params) {\n    this.successModal = this.setSuccessModalContent(params);\n    WPStagingCommon.getSwalModal(true, {\n      confirmButton: 'wpstg--btn--confirm wpstg-green-button wpstg-button wpstg-link-btn wpstg-100-width',\n    }).fire({\n      'icon': 'success',\n      'html': this.successModal.innerHTML,\n      'confirmButtonText': 'Close',\n      'showCancelButton': false,\n      'showConfirmButton': true,\n      'allowOutsideClick': false,\n    }).then((result)=> {\n      if (result.value) {\n        WPStagingCommon.closeSwalModal();\n        dom.hide('.wpstg-loader');\n        WPStaging.messages = [];\n        if (this.action === 'wpstg_push_processing') {\n          location.reload();\n        }\n        this.action = '';\n      }\n    });\n    if (this.showProcessLogs) {\n      dom.show('.wpstg--modal--download--logs--wrapper');\n    }\n    dom.hide('.wpstg-loader');\n    if (this.action !== 'wpstg_delete_clone') {\n      WPStaging.loadOverview();\n    }\n  }\n\n  /**\n   * Sets the content of the success modal based on the provided parameters.\n   *\n   * @param {Object} params - The parameters for configuring the modal content.\n   * @param {string|null} params.title - The title to be displayed in the modal.\n   * @param {string|null|undefined} params.body - The body content of the modal.\n   * @returns {HTMLElement} The modified modal element.\n   */\n\n  setSuccessModalContent(params) {\n    const modal = document.getElementById('wpstg--modal--backup--download');\n    if (params.title !== null) {\n      modal.innerHTML = modal.innerHTML.replace('{title}', params.title);\n    }\n    if (this.showProcessLogs) {\n      modal.innerHTML = modal.innerHTML.replace('{btnTxtLog}', '<span style=\"text-decoration: underline\">Show Logs</span>');\n    }\n    if (params.body !== null && typeof params.body !== 'undefined') {\n      let messageBody = params.body;\n      if (this.stagingSiteUrl !== null) {\n        messageBody += '<br><strong><a href=\"'+this.stagingSiteUrl+'\" target=\"_blank\" id=\"wpstg-clone-url\">'+this.stagingSiteUrl+'</a></strong>';\n      }\n\n      if (this.action === 'wpstg_push_processing') {\n        messageBody += '<a href=\"https://wp-staging.com/refresh-and-clear-cache/\" target=\"_blank\">How to delete the cache.</a>';\n        const downloadModalTextElement = modal.querySelector('.wpstg-download-modal-text');\n        if (downloadModalTextElement) {\n          downloadModalTextElement.classList.add('wpstg--red');\n        }\n      }\n\n      if (this.action === 'wpstg_cloning') {\n        const wpstgRateUsElement = modal.querySelector('.wpstg-rate-us');\n        if (wpstgRateUsElement) {\n          wpstgRateUsElement.classList.add('show');\n        }\n      }\n\n      modal.innerHTML = modal.innerHTML.replace('{text}', messageBody);\n    } else {\n      modal.innerHTML = modal.innerHTML.replace('{text}', '');\n    }\n    return modal;\n  }\n\n  /**\n   * Opens a success modal after successfully cloning process.\n   *\n   * @param {Object} params - The parameters for initializing the success modal.\n   * @param {boolean} [showLogs=false] - Whether to display process logs in the modal.\n   * @param {string|null} [siteUrl=null] - The URL of the staging site, if applicable.\n   * @return {void}\n   */\n  openSuccessModal(params, showLogs = false, siteUrl = null) {\n    this.stagingSiteUrl = siteUrl;\n    this.showProcessLogs = showLogs;\n    this.initializeSuccessModal(params);\n  }\n}\n","import * as dom from '../modules/wpstg-dom-utils.js';\n\nclass BackupPluginsNotice {\n  constructor(wpstgObject = wpstg) {\n    this.wpstgObject = wpstgObject;\n    this.wpstgBackupNoticeCloseButton = null;\n    this.wpstgBackupNoticeReminderButton = null;\n    this.init();\n  }\n\n  init() {\n    document.addEventListener('DOMContentLoaded', ()=>{\n      this.wpstgBackupNoticeCloseButton = document.getElementById('wpstg-backup-plugin-notice-close');\n      this.wpstgBackupNoticeReminderButton = document.getElementById('wpstg-backup-plugin-notice-remind-me');\n      this.addEvent();\n    });\n  }\n\n  addEvent() {\n    if (this.wpstgBackupNoticeCloseButton !== null) {\n      this.wpstgBackupNoticeCloseButton.addEventListener('click', ()=>{\n        this.closeBackupPluginNotice();\n      });\n    }\n\n    if (this.wpstgBackupNoticeReminderButton !== null) {\n      this.wpstgBackupNoticeReminderButton.addEventListener('click', ()=>{\n        this.closeBackupPluginNotice('wpstg_backup_plugin_notice_remind_me');\n      });\n    }\n  }\n\n  closeBackupPluginNotice(action = 'wpstg_backup_plugin_notice_close') {\n    fetch(this.wpstgObject.ajaxUrl, {\n      method: 'POST',\n      credentials: 'same-origin',\n      body: new URLSearchParams({\n        action: action,\n        nonce: this.wpstgObject.nonce,\n      }),\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n    }).then((response) => {\n      if (response.ok) {\n        return response.json();\n      }\n    }).then((data) => {\n      if (data.success) {\n        dom.qs('.wpstg-backup-plugin-notice-container').style.opacity = 0;\n      }\n    }).catch((error) => {\n      dom.qs('.wpstg-backup-plugin-notice-container').style.opacity = 0;\n    });\n  }\n}\n\nexport default new BackupPluginsNotice();\n","import WpstgCloneStaging from './modules/wpstg-clone-staging.js';\nimport WpstgDirectoryNavigation from './modules/wpstg-directory-navigation.js';\nimport WpstgTableSelection from './modules/wpstg-table-selection.js';\nimport WpstgExcludeFilters from './modules/wpstg-exclude-filters.js';\nimport WpstgResetModal from './modules/wpstg-reset-modal.js';\nimport WpstgModal from './modules/wpstg-modal.js';\nimport WpstgCloningAdvanceSettings from './modules/wpstg-cloning-advance-settings.js';\nimport WpstgMainMenu from './modules/wpstg-main-menu.js';\nimport WPStagingCommon from './wpstg.js';\nimport {handleDisplayDependencies, handleToggleElement, handleCopyPaste, handleCopyToClipboard} from './modules/wpstg-dom-utils.js';\nimport WpstgProcessModal from './modules/wpstg-process-modal.js';\nimport WpstgContactUs from './modules/wpstg-contact-us';\nimport * as dom from './modules/wpstg-dom-utils';\nimport BackupPluginsNotice from './notices/backup-plugins-notice';\n\nvar WPStaging = (function($) {\n  const that = {\n    isCancelled: false,\n    isFinished: false,\n    getLogs: false,\n    time: 1,\n    executionTime: false,\n    progressBar: 0,\n    cloneExcludeFilters: null,\n    directoryNavigator: null,\n    tableSelector: null,\n    notyf: null,\n    areAllTablesChecked: true,\n    handleDisplayDependencies: handleDisplayDependencies,\n    handleToggleElement: handleToggleElement,\n    handleCopyPaste: handleCopyPaste,\n    handleCopyToClipboard: handleCopyToClipboard,\n    messages: [],\n    requestType: '',\n    modal: {\n      instance: '',\n      processTime: 0,\n      processInterval: '',\n      currentJob: '',\n    },\n\n  };\n  that.wpstgProcessModal = new WpstgProcessModal();\n  const cache = {elements: []};\n  let timeout; let ajaxSpinner;\n\n  /**\n     * Get / Set Cache for Selector\n     * @param {String} selector\n     * @return {*}\n     */\n  cache.get = function(selector) {\n    // It is already cached!\n    if ($.inArray(selector, cache.elements) !== -1) {\n      return cache.elements[selector];\n    }\n\n    // Create cache and return\n    cache.elements[selector] = jQuery(selector);\n\n    return cache.elements[selector];\n  };\n\n  /**\n     * Refreshes given cache\n     * @param {String} selector\n     */\n  cache.refresh = function(selector) {\n    selector.elements[selector] = jQuery(selector);\n  };\n\n  /**\n     * Show and Log Error Message\n     * @param {String} message\n     */\n  const showError = function(message) {\n    cache.get('#wpstg-try-again').css('display', 'inline-block');\n    cache.get('#wpstg-cancel-cloning').text('Reset');\n    cache.get('#wpstg-resume-cloning').show();\n    cache.get('#wpstg-error-wrapper').show();\n    cache.get('#wpstg-error-details').show().html(message);\n    cache.get('.wpstg-loading-bar-container').css('visibility', 'hidden');\n\n    cache.get('.wpstg-loader').hide();\n    $('.wpstg--modal--process--generic-problem').show().html(message);\n\n    // Error event information for Staging\n    $.ajax({\n      url: ajaxurl,\n      type: 'POST',\n      dataType: 'json',\n      data: {\n        'action': 'wpstg_staging_job_error',\n        'accessToken': wpstg.accessToken,\n        'nonce': wpstg.nonce,\n        'error_message': message,\n      },\n    });\n  };\n\n  /**\n   * Show warning during cloning or push process when closing tab or browser, or changing page\n   * @param {beforeunload} event\n   * @return {null}\n   */\n  that.warnIfClosingDuringProcess = function(event) {\n    // Only some browsers show the message below, most say something like \"Changes you made may not be saved\" (Chrome) or \"You have unsaved changes. Exit?\"\n    event.returnValue = 'You MUST leave this window open while cloning/pushing. Please wait...';\n    return null;\n  };\n\n  /**\n     *\n     * @param response the error object\n     * @param prependMessage Overwrite default error message at beginning\n     * @param appendMessage Overwrite default error message at end\n     * @returns void\n     */\n\n  const showAjaxFatalError = function(response, prependMessage, appendMessage) {\n    prependMessage = prependMessage ? prependMessage + '<br/><br/>' : 'Something went wrong! <br/><br/>';\n    appendMessage = appendMessage ? appendMessage + '<br/><br/>' : '<br/><br/>Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.';\n\n    if (response === false) {\n      showError(prependMessage + ' Error: No response.' + appendMessage);\n      window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n      return;\n    }\n\n    if (typeof response.error !== 'undefined' && response.error) {\n      console.error(response.message);\n      showError(prependMessage + ' Error: ' + response.message + appendMessage);\n      window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n      return;\n    }\n  };\n\n  /**\n     *\n     * @param response\n     * @return {{ok}|*}\n     */\n  const handleFetchErrors = function(response) {\n    if (!response.ok) {\n      showError('Error: ' + response.status + ' - ' + response.statusText + '. Please try again or contact support.');\n    }\n    return response;\n  };\n\n  /** Hide and reset previous thrown visible errors */\n  const resetErrors = function() {\n    cache.get('#wpstg-error-details').hide().html('');\n  };\n\n  /**\n     * Common Elements\n     */\n  const elements = function() {\n    const $workFlow = cache.get('#wpstg-workflow');\n    let urlSpinner = ajaxurl.replace('/admin-ajax.php', '') + '/images/spinner';\n    let timer;\n\n    if (2 < window.devicePixelRatio) {\n      urlSpinner += '-2x';\n    }\n\n    urlSpinner += '.gif';\n\n    ajaxSpinner = '<img src=\\'\\'' + urlSpinner + '\\' alt=\\'\\' class=\\'ajax-spinner general-spinner\\' />';\n\n    const getBaseValues = function() {\n      const path = $('#wpstg-use-target-dir').data('base-path');\n      const uri = $('#wpstg-use-target-hostname').data('base-uri');\n      return {\n        path,\n      };\n    };\n\n    $workFlow\n    // Check / Un-check All Database Tables New\n        .on('click', '.wpstg-button-unselect', function(e) {\n          e.preventDefault();\n\n          if (false === that.areAllTablesChecked) {\n            cache.get('#wpstg_select_tables_cloning .wpstg-db-table').prop('selected', 'selected');\n            cache.get('.wpstg-button-unselect').text('Unselect All');\n            cache.get('.wpstg-db-table-checkboxes').prop('checked', true);\n            that.areAllTablesChecked = true;\n          } else {\n            cache.get('#wpstg_select_tables_cloning .wpstg-db-table').prop('selected', false);\n            cache.get('.wpstg-button-unselect').text('Select All');\n            cache.get('.wpstg-db-table-checkboxes').prop('checked', false);\n            that.areAllTablesChecked = false;\n          }\n        })\n\n    // Check the max length of the clone name and if the clone name already exists\n        .on('keyup', '#wpstg-new-clone-id', function() {\n          // Hide previous errors\n          document.getElementById('wpstg-error-details').style.display = 'none';\n\n          // This request was already sent, clear it up!\n          if ('number' === typeof (timer)) {\n            clearInterval(timer);\n          }\n\n          // Early bail if site name is empty\n          if (this.value === undefined || this.value === '') {\n            cache.get('#wpstg-new-clone-id').removeClass('wpstg-error-input');\n            cache.get('#wpstg-start-cloning').removeAttr('disabled');\n            cache.get('#wpstg-clone-id-error').text('').hide();\n            return;\n          }\n\n          // Convert the site name to directory name (slugify the site name to create directory name)\n          const cloneDirectoryName = WPStagingCommon.slugify(this.value);\n\n          timer = setTimeout(\n              function() {\n                ajax(\n                    {\n                      action: 'wpstg_check_clone',\n                      accessToken: wpstg.accessToken,\n                      nonce: wpstg.nonce,\n                      directoryName: cloneDirectoryName,\n                    },\n                    function(response) {\n                      if (response.status === 'success') {\n                        cache.get('#wpstg-new-clone-id').removeClass('wpstg-error-input');\n                        cache.get('#wpstg-start-cloning').removeAttr('disabled');\n                        cache.get('#wpstg-clone-id-error').text('').hide();\n                      } else {\n                        cache.get('#wpstg-new-clone-id').addClass('wpstg-error-input');\n                        cache.get('#wpstg-start-cloning').prop('disabled', true);\n                        cache.get('#wpstg-clone-id-error').text(response.message).show();\n                      }\n                    },\n                );\n              },\n              500,\n          );\n        })\n    // Restart cloning process\n        .on('click', '#wpstg-start-cloning', function() {\n          resetErrors();\n          that.isCancelled = false;\n          that.progressBar = 0;\n        })\n        .on('input', '#wpstg-new-clone-id', function() {\n          if ($('#wpstg-clone-directory').length < 1) {\n            return;\n          }\n\n          const slug = WPStagingCommon.slugify(this.value).substring(0, 16);\n          const $targetDir = $('#wpstg-use-target-dir');\n          const $targetUri = $('#wpstg-use-target-hostname');\n          let path = $targetDir.data('base-path');\n          let uri = $targetUri.data('base-uri');\n\n          if (path) {\n            path = path.replace(/\\/+$/g, '') + '/' + slug + '/';\n          }\n\n          if (uri) {\n            uri = uri.replace(/\\/+$/g, '') + '/' + slug;\n          }\n\n\n          $('.wpstg-use-target-dir--value').text(path);\n          $('.wpstg-use-target-hostname--value').text(uri);\n\n          $targetDir.attr('data-path', path);\n          $targetUri.attr('data-uri', uri);\n          $('#wpstg_clone_dir').attr('placeholder', path);\n          $('#wpstg_clone_hostname').attr('placeholder', uri);\n        })\n        .on('input', '#wpstg_clone_hostname', function() {\n          if ($(this).val() === '' || validateTargetHost()) {\n            $('#wpstg_clone_hostname_error').remove();\n            return;\n          }\n          if (!validateTargetHost() && !$('#wpstg_clone_hostname_error').length) {\n            $('#wpstg-clone-directory tr:last-of-type').after('<tr><td>&nbsp;</td><td><p id=\"wpstg_clone_hostname_error\" style=\"color: red;\">&nbsp;Invalid host name. Please provide it in a format like http://example.com</p></td></tr>');\n          }\n        })\n    ;\n\n    cloneActions();\n  };\n\n  /* @returns {boolean} */\n  var validateTargetHost = function() {\n    const the_domain = $('#wpstg_clone_hostname').val();\n\n    if (the_domain === '') {\n      return true;\n    }\n\n    const reg = /^http(s)?:\\/\\/.*$/;\n    if (reg.test(the_domain) === false) {\n      return false;\n    }\n    return true;\n  };\n\n  /**\n     * Clone actions\n     */\n  var cloneActions = function() {\n    const $workFlow = cache.get('#wpstg-workflow');\n\n    $workFlow\n    // Cancel cloning\n        .on('click', '#wpstg-cancel-cloning', function() {\n          if (!confirm('Are you sure you want to cancel cloning process?')) {\n            return false;\n          }\n\n          const $this = $(this);\n\n          $('#wpstg-try-again, #wpstg-home-link').hide();\n          $this.prop('disabled', true);\n\n          that.isCancelled = true;\n          that.progressBar = 0;\n\n          $('#wpstg-processing-status').text('Please wait...this can take up a while.');\n          $('.wpstg-loader, #wpstg-show-log-button').hide();\n\n          $this.parent().append(ajaxSpinner);\n\n          cancelCloning();\n        })\n    // Resume cloning\n        .on('click', '#wpstg-resume-cloning', function() {\n          resetErrors();\n          const $this = $(this);\n\n          $('#wpstg-try-again, #wpstg-home-link').hide();\n\n          that.isCancelled = false;\n\n          $('#wpstg-processing-status').text('Try to resume cloning process...');\n          $('#wpstg-error-details').hide();\n          $('.wpstg-loader').show();\n\n          $this.parent().append(ajaxSpinner);\n\n          that.startCloning();\n        })\n    // Cancel update cloning\n        .on('click', '#wpstg-cancel-cloning-update', function() {\n          resetErrors();\n\n          const $this = $(this);\n          $('#wpstg-try-again, #wpstg-home-link').hide();\n          $this.prop('disabled', true);\n\n          that.isCancelled = true;\n\n          $('#wpstg-cloning-result').text('Please wait...this can take up a while.');\n          $('.wpstg-loader, #wpstg-show-log-button').hide();\n\n          $this.parent().append(ajaxSpinner);\n\n          cancelCloningUpdate();\n        })\n    // Restart cloning\n        .on('click', '#wpstg-restart-cloning', function() {\n          resetErrors();\n\n          const $this = $(this);\n\n          $('#wpstg-try-again, #wpstg-home-link').hide();\n          $this.prop('disabled', true);\n\n          that.isCancelled = true;\n\n          $('#wpstg-cloning-result').text('Please wait...this can take up a while.');\n          $('.wpstg-loader, #wpstg-show-log-button').hide();\n\n          $this.parent().append(ajaxSpinner);\n\n          restart();\n        })\n    // Delete clone - confirmation\n        .on('click', '.wpstg-remove-clone[data-clone]', function(e) {\n          resetErrors();\n          e.preventDefault();\n          $workFlow.removeClass('active');\n\n          cache.get('.wpstg-loader').show();\n          const cloneData = $(this).data('clone');\n          const stagingSiteName = $(this).data('name');\n\n          ajax(\n              {\n                action: 'wpstg_confirm_delete_clone',\n                accessToken: wpstg.accessToken,\n                nonce: wpstg.nonce,\n                clone: $(this).data('clone'),\n              },\n              function(response) {\n                WPStagingCommon.getSwalModal(true, {\n                  popup: 'wpstg-swal-popup wpstg-centered-modal wpstg-delete-staging-site-modal',\n                  content: 'wpstg--process--content',\n                }).fire({\n                  title: 'Delete staging site \"' + stagingSiteName + '\"',\n                  icon: 'error',\n                  html: response,\n                  width: '100%',\n                  focusConfirm: false,\n                  confirmButtonText: 'Delete',\n                  confirmButtonColor: '#e01e5a',\n                  showCancelButton: true,\n                  onRender: () => {\n                    const wpstgUnselectAllTables = document.getElementById('wpstg-unselect-all-tables');\n                    const wpstgUnselectAllTablesId = document.getElementById('wpstg-unselect-all-tables-id');\n\n                    if (wpstgUnselectAllTables !== null) {\n                      wpstgUnselectAllTables.addEventListener('click', function(e) {\n                        if (that.areAllTablesChecked === false) {\n                          cache.get('#wpstg_select_tables_cloning .wpstg-db-table').prop('selected', 'selected');\n                          cache.get('#wpstgUnselectAllTablesId').text('Unselect All');\n                          wpstgUnselectAllTablesId.textContent = 'Unselect All';\n                          cache.get('.wpstg-db-table-checkboxes').prop('checked', true);\n                          that.areAllTablesChecked = true;\n                        } else {\n                          cache.get('#wpstg_select_tables_cloning .wpstg-db-table').prop('selected', false);\n                          cache.get('#wpstgUnselectAllTablesId').text('Select All');\n                          wpstgUnselectAllTablesId.textContent = 'Select All';\n                          cache.get('.wpstg-db-table-checkboxes').prop('checked', false);\n                          that.areAllTablesChecked = false;\n                        }\n                      });\n                    }\n\n                    const swalContainer = document.querySelector('.wpstg--swal2-html-container');\n                    swalContainer.classList.remove('wpstg--swal2-html-container');\n                    const _deleteButton = document.querySelector('.wpstg--swal2-confirm');\n                    _deleteButton.style.background = '#e01e5a';\n                    document.querySelector('.wpstg--swal2-x-mark-line-left').style.background = '#e01e5a';\n                    document.querySelector('.wpstg--swal2-x-mark-line-right').style.background = '#e01e5a';\n                    document.querySelector('.wpstg--swal2-icon.wpstg--swal2-error').style.borderColor = '#e01e5a';\n\n                    const _btnCancel = WPStagingCommon.getSwalContainer().getElementsByClassName('wpstg--swal2-cancel wpstg--btn--cancel')[0];\n                    const btnCancel = _btnCancel.cloneNode(true);\n                    _btnCancel.parentNode.replaceChild(btnCancel, _btnCancel);\n                    btnCancel.addEventListener('click', function(e) {\n                      WPStagingCommon.closeSwalModal();\n                      that.modal.instance = null;\n                      cache.get('.wpstg-loader').removeClass('wpstg-finished');\n                      cache.get('.wpstg-loader').hide();\n                    });\n                  },\n                }).then(function(result) {\n                  if (result.value) {\n                    const deleteDirectory = document.querySelector('#deleteDirectory:checked');\n                    let deleteDir = '';\n                    const excludedTables = [];\n                    if (deleteDirectory !== null) {\n                      deleteDir = deleteDirectory.getAttribute('data-deletepath');\n                    }\n                    $('.wpstg-db-table input:not(:checked)').each(function() {\n                      excludedTables.push(this.name);\n                    });\n\n                    // WPStagingCommon.closeSwalModal();\n                    that.modal.instance = null;\n                    const params = {\n                      'job': 'delete',\n                    };\n                    that.wpstgProcessModal.openProcessModal({'action': 'wpstg_delete_clone', 'cloneID': cloneData}, params, false, false);\n                    deleteClone(cloneData, deleteDir, excludedTables);\n                  }\n                });\n              },\n              'HTML',\n          );\n        })\n    // Delete clone - confirmed\n        .on('click', '#wpstg-remove-clone', function(e) {\n          resetErrors();\n          e.preventDefault();\n\n          cache.get('.wpstg-loader').show();\n\n          deleteClone($(this).data('clone'));\n        })\n    // Cancel deleting clone\n        .on('click', '#wpstg-cancel-removing', function(e) {\n          e.preventDefault();\n          $('.wpstg-clone').removeClass('active');\n          cache.get('#wpstg-removing-clone').html('');\n        })\n    // Update\n        .on('click', '.wpstg-execute-clone', function(e) {\n          e.preventDefault();\n\n          const clone = $(this).data('clone');\n\n          that.cloneExcludeFilters = null;\n          ajax(\n              {\n                action: 'wpstg_scanning',\n                clone: clone,\n                accessToken: wpstg.accessToken,\n                nonce: wpstg.nonce,\n              },\n              function(response) {\n                if (response.length < 1) {\n                  showError(\n                      'Something went wrong! Error: No response.  Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.',\n                  );\n                }\n\n                const jsonResponse = tryParseJson(response);\n                if (jsonResponse !== false && jsonResponse.success === false) {\n                  showErrorModal(jsonResponse);\n\n                  return;\n                }\n\n                $workFlow.html(response);\n                // register check disk space function for clone update process.\n                checkDiskSpace();\n                that.directoryNavigator = new WpstgDirectoryNavigation('#wpstg-directories-listing', wpstg, that.notyf);\n                that.directoryNavigator.countSelectedFiles();\n                that.tableSelector = new WpstgTableSelection('#wpstg-scanning-db', '#wpstg-workflow', '#wpstg_network_clone', '#wpstg_select_tables_cloning', wpstg, that.notyf);\n                that.tableSelector.countSelectedTables();\n                that.cloneExcludeFilters = new WpstgExcludeFilters();\n                that.switchStep(2);\n              },\n              'HTML',\n          );\n        })\n        .on('click', '#wpstg-update-cloning-site-button', function(e) {\n          window.open(that.data.cloneHostname, '_blank');\n        })\n    // Reset Clone\n        .on('click', '.wpstg-reset-clone', function(e) {\n          e.preventDefault();\n          const clone = $(this).data('clone');\n          const resetModal = new WpstgResetModal(clone);\n          resetModal.setNetworkClone($(this).data('network') === 'yes');\n          const promise = resetModal.showModal();\n          that.areAllTablesChecked = true;\n\n          promise.then((result) => {\n            if (result.value) {\n              const dirNavigator = resetModal.getDirectoryNavigator();\n              const tableSelector = resetModal.getTableSelector();\n              const exclFilters = resetModal.getExcludeFilters().getExcludeFilters();\n\n              let includedTables = '';\n              let excludedTables = '';\n              let selectedTablesWithoutPrefix = '';\n              let allTablesExcluded = false;\n\n              if (tableSelector !== null) {\n                includedTables = tableSelector.getIncludedTables();\n                excludedTables = tableSelector.getExcludedTables();\n                selectedTablesWithoutPrefix = tableSelector.getSelectedTablesWithoutPrefix();\n              }\n\n              if (includedTables.length > excludedTables.length) {\n                includedTables = '';\n              } else if (excludedTables.length > includedTables.length) {\n                excludedTables = '';\n                allTablesExcluded = includedTables === '';\n              }\n\n              resetClone(clone, {\n                includedTables: includedTables,\n                excludedTables: excludedTables,\n                allTablesExcluded: allTablesExcluded,\n                selectedTablesWithoutPrefix: selectedTablesWithoutPrefix,\n                excludeSizeRules: encodeURIComponent(exclFilters.sizes),\n                excludeGlobRules: encodeURIComponent(exclFilters.globs),\n                excludedDirectories: dirNavigator.getExcludedDirectories(),\n                extraDirectories: dirNavigator.getExtraDirectoriesRootOnly(),\n              });\n            }\n          });\n\n          return;\n        });\n  };\n\n  /**\n   * Ajax Requests\n   * @param Object data\n   * @param Function callback\n   * @param string dataType\n   * @param bool showErrors\n   * @param int tryCount\n   * @param float incrementRatio\n   */\n  var ajax = function(data, callback, dataType, showErrors, tryCount, incrementRatio = null) {\n    if ('undefined' === typeof (dataType)) {\n      dataType = 'json';\n    }\n\n    if (false !== showErrors) {\n      showErrors = true;\n    }\n\n    tryCount = 'undefined' === typeof (tryCount) ? 0 : tryCount;\n\n    const retryLimit = 5;\n\n    let retryTimeout = 10000 * tryCount;\n\n    incrementRatio = parseInt(incrementRatio);\n    if (!isNaN(incrementRatio)) {\n      retryTimeout *= incrementRatio;\n    }\n\n    const errorMsgFooter = 'Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP STAGING Small Server Settings</a> or submit an error report and contact us. <br/><br/><strong>Tip:</strong> If you get this error while pushing, you can also use the <strong>BACKUP & MIGRATION</strong> feature to move your staging site to live. <a href=\\'https://wp-staging.com/docs/how-to-migrate-your-wordpress-site-to-a-new-host/\\' target=\\'_blank\\'>Read more.</a>';\n\n    $.ajax({\n      url: ajaxurl + '?action=wpstg_processing&_=' + (Date.now() / 1000),\n      type: 'POST',\n      dataType: dataType,\n      cache: false,\n      data: data,\n      error: async function(xhr, textStatus, errorThrown) {\n        if (WPStaging.requestType === 'wpstg_cloning') {\n          const result = await WPStagingCommon.checkMemoryExhaustion(WPStaging.requestType);\n\n          let helpContent = '<br/><br/><button class=\"wpstg-btn wpstg-primary-btn wpstg-report-issue-button\" type=\"button\">CONTACT US</button> for help in solving this issue.';\n          if (wpstg.isPro) {\n            helpContent = '<br/><br/>Read <a target=\"_blank\" href=\"' + WPStagingCommon.memoryExhaustArticleLink + '\">this article</a> for solving this issue.<br/><br/>Please contact WP Staging support if you need further assistance.';\n          }\n\n          if (result !== false) {\n            window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n            WPStaging.requestType = '';\n            // Refetch staging sites and stop all processing\n            cache.get('.wpstg-loader').hide();\n            loadOverview();\n            WPStagingCommon.showErrorModal(result.message + '.' + helpContent);\n            return;\n          }\n        }\n\n        // try again after 10 seconds\n        tryCount++;\n        if (tryCount <= retryLimit) {\n          console.log('RETRYING ' + tryCount + '/' + retryLimit);\n          setTimeout(function() {\n            ajax(data, callback, dataType, showErrors, tryCount, incrementRatio);\n            return;\n          }, retryTimeout);\n        } else {\n          WPStaging.requestType = '';\n          console.log('RETRYING LIMIT');\n          const errorCode = 'undefined' === typeof (xhr.status) ? 'Unknown' : xhr.status;\n          showError(\n              'Fatal Error:  ' + errorCode + ' ' + errorMsgFooter,\n          );\n        }\n      },\n      success: function(data) {\n        if ('function' === typeof (callback)) {\n          callback(data);\n        }\n      },\n      statusCode: {\n        404: function() {\n          if (tryCount >= retryLimit) {\n            showError('Error 404 - Can\\'t find ajax request URL! ' + errorMsgFooter);\n          }\n        },\n        500: function() {\n          if (tryCount >= retryLimit) {\n            showError('Fatal Error 500 - Internal server error while processing the request! ' + errorMsgFooter);\n          }\n        },\n        504: function() {\n          if (tryCount > retryLimit) {\n            showError('Error 504 - It seems your server is rate limiting ajax requests. Please try to resume after a minute. ' + errorMsgFooter);\n          }\n        },\n        502: function() {\n          if (tryCount >= retryLimit) {\n            showError('Error 502 - It seems your server is rate limiting ajax requests. Please try to resume after a minute. ' + errorMsgFooter);\n          }\n        },\n        503: function() {\n          if (tryCount >= retryLimit) {\n            showError('Error 503 - It seem your server is rate limiting ajax requests. Please try to resume after a minute. ' + errorMsgFooter);\n          }\n        },\n        429: function() {\n          if (tryCount >= retryLimit) {\n            showError('Error 429 - It seems your server is rate limiting ajax requests. Please try to resume after a minute. ' + errorMsgFooter);\n          }\n        },\n        403: function() {\n          if (tryCount >= retryLimit) {\n            showError('Refresh page or login again! The process should be finished successfully. \\n\\ ');\n          }\n        },\n        400: function() {\n          if (tryCount >= retryLimit) {\n            showError('Error 400: ' + '<strong>It looks like you have been logged out.</strong><br/><br/> <a href=\\'/wp-login.php\\' target=\\'_blank\\' id=\"wpstg-login-link\">Log in again and try again!</a>');\n          }\n        },\n      },\n    });\n  };\n\n  /**\n   * Next / Previous Step Clicks to Navigate Through Staging Job\n   */\n  const stepButtons = function() {\n    const $workFlow = cache.get('#wpstg-workflow');\n\n    $workFlow\n    // Next Button\n        .on('click', '.wpstg-next-step-link', function(e) {\n          e.preventDefault();\n\n          const $this = $(this);\n          const isScan = false;\n\n          if ($('#wpstg_clone_hostname').length && !validateTargetHost()) {\n            $('#wpstg_clone_hostname').focus();\n            return false;\n          }\n\n          if ($this.data('action') === 'wpstg_update' || $this.data('action') === 'wpstg_reset') {\n          // Update / Reset Clone - confirmed\n            if ($this.data('action') === 'wpstg_update') {\n              const selectedSite = $this;\n              const selectedSiteWorkFlow = $workFlow;\n              const selectedAction = $this.data('action');\n\n              WPStagingCommon.getSwalModal(false, {\n                popup: 'wpstg-update-staging-site-modal wpstg-swal-popup wpstg-centered-modal',\n                content: 'wpstg--process--content',\n              }).fire({\n                title: 'Do you want to update the staging site?',\n                icon: 'warning',\n                html: '<div class=\"wpstg-confirm-text-line-height wpstg-mt-10px\">This will overwrite the staging site with all the selected data from the live site.<br>Use this only if you want to clone the live site again.<br><br> ' +\n                    'Unselect all tables and folders that you do not want to overwrite.<br>Do not cancel the update process! This could destroy the staging site.<br>' +\n                    'If you are unsure, create a backup of the staging site before proceeding.<br>' +\n                    'There is no automatic merging of database data!</div>',\n                width: '610px',\n                focusConfirm: false,\n                confirmButtonText: 'Update',\n                showCancelButton: true,\n                onRender: () => {\n                  const swalContainer = document.querySelector('.wpstg--swal2-html-container');\n                  swalContainer.classList.remove('wpstg--swal2-html-container');\n                  const _btnCancel = WPStagingCommon.getSwalContainer().getElementsByClassName('wpstg--swal2-cancel wpstg--btn--cancel')[0];\n                  const btnCancel = _btnCancel.cloneNode(true);\n                  _btnCancel.parentNode.replaceChild(btnCancel, _btnCancel);\n                  btnCancel.addEventListener('click', function(e) {\n                    WPStagingCommon.closeSwalModal();\n                  });\n                },\n              }).then(function(result) {\n                if (result.value) {\n                  const selectedSiteDbCheck = document.querySelector('#wpstg-ext-db');\n                  if (selectedAction === 'wpstg_cloning') {\n                    if (selectedSiteDbCheck.checked) {\n                      verifyExternalDatabase(selectedSite, selectedSiteWorkFlow);\n                      return;\n                    }\n                  }\n                  WPStagingCommon.closeSwalModal();\n                  proceedCloning(selectedSite, selectedSiteWorkFlow);\n                }\n              });\n              return false;\n            }\n          }\n          if ($this.attr('disabled')) {\n            return false;\n          }\n\n          if ($this.data('action') === 'wpstg_cloning') {\n            // Verify External Database If Checked and Not Skipped\n            if ($('#wpstg-ext-db').is(':checked')) {\n              verifyExternalDatabase($this, $workFlow);\n              return;\n            }\n          }\n\n          proceedCloning($this, $workFlow);\n        })\n    // Previous Button\n        .on('click', '.wpstg-prev-step-link', function(e) {\n          e.preventDefault();\n          cache.get('.wpstg-loader').hide();\n          cache.get('.wpstg-loader').removeClass('wpstg-finished');\n          loadOverview();\n        });\n  };\n\n  /**\n   * Get Included (Checked) Database Tables\n   * @return {Array}\n   */\n  const getIncludedTables = function() {\n    const includedTables = [];\n\n    $('#wpstg_select_tables_cloning option:selected').each(function() {\n      includedTables.push(this.value);\n    });\n\n    return includedTables;\n  };\n\n  /**\n   * Check if clone destination dir is writable\n   */\n  const isWritableCloneDestinationDir = function() {\n    return new Promise(function(resolve) {\n      ajax(\n          {\n            action: 'wpstg_is_writable_clone_destination_dir',\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n            cloneDir: $('#wpstg_clone_dir').val(),\n          },\n          function(response) {\n            if (response.success) {\n              cache.get('.wpstg-loader').hide();\n              resolve(true);\n            } else {\n              showError(\n                  'Something went wrong! Error: ' + response.data?.message,\n              );\n              cache.get('.wpstg-loader').hide();\n              document.getElementById('wpstg-error-wrapper').scrollIntoView();\n              resolve(false);\n            }\n          },\n          'json',\n          false,\n      );\n    });\n  };\n\n  /**\n   * Get Excluded (Unchecked) Database Tables\n   * Not used anymore!\n   * @return {Array}\n   */\n  const getExcludedTables = function() {\n    const excludedTables = [];\n    $('.wpstg-db-table input:not(:checked)').each(function() {\n      excludedTables.push(this.name);\n    });\n\n    return excludedTables;\n  };\n\n  /**\n   * Verify External Database for Cloning\n   */\n  var verifyExternalDatabase = function($this, workflow) {\n    cache.get('.wpstg-loader').show();\n    ajax(\n        {\n          action: 'wpstg_database_verification',\n          accessToken: wpstg.accessToken,\n          nonce: wpstg.nonce,\n          databaseUser: cache.get('#wpstg-db-user').val(),\n          databasePassword: cache.get('#wpstg-db-pass').val(),\n          databaseServer: cache.get('#wpstg-db-server').val(),\n          databaseDatabase: cache.get('#wpstg-db-database').val(),\n          databaseSsl: cache.get('#wpstg-db-ssl').is(':checked'),\n        },\n        function(response) {\n        // Undefined Error\n          if (false === response) {\n            showError(\n                'Something went wrong! Error: No response.' +\n            'Please try again. If that does not help, ' +\n            '<a href=\\'https://wp-staging.com/support/\\' target=\\'_blank\\'>open a support ticket</a> ',\n            );\n            cache.get('.wpstg-loader').hide();\n            return;\n          }\n\n          // Throw Error\n          if ('undefined' === typeof (response.success)) {\n            showError(\n                'Something went wrong! Error: Invalid response.' +\n            'Please try again. If that does not help, ' +\n            '<a href=\\'https://wp-staging.com/support/\\' target=\\'_blank\\'>open a support ticket</a> ',\n            );\n            cache.get('.wpstg-loader').hide();\n            return;\n          }\n\n          if (response.success) {\n            cache.get('.wpstg-loader').hide();\n            proceedCloning($this, workflow);\n            return;\n          }\n\n          if (response.error_type === 'comparison') {\n            cache.get('.wpstg-loader').hide();\n            let render = '<table class=\"wpstg-db-comparison-table\"><thead><tr><th>Property</th><th>Production DB</th><th>Staging DB</th><th>Status</th></tr></thead><tbody>';\n            response.checks.forEach((x) => {\n              let icon = '<span class=\"wpstg-css-tick\"></span>';\n              if (x.production !== x.staging) {\n                icon = '<span class=\"wpstg-css-cross\"></span>';\n              }\n              render += '<tr><td>' + x.name + '</td><td>' + x.production + '</td><td>' + x.staging + '</td><td>' + icon + '</td></tr>';\n            });\n            render += '</tbody></table><p>Note: Some MySQL/MariaDB properties do not match. You may proceed but the staging site may not work as expected.</p>';\n            WPStagingCommon.getSwalModal(true, {\n              popup: 'wpstg-swal-popup wpstg-db-comparison-modal wpstg-centered-modal',\n            }).fire({\n              title: 'Different Database Properties',\n              icon: 'warning',\n              html: render,\n              width: '650px',\n              focusConfirm: false,\n              confirmButtonText: 'Proceed',\n              showCancelButton: true,\n            }).then(function(result) {\n              if (result.value) {\n                proceedCloning($this, workflow);\n              }\n            });\n            return;\n          }\n\n          WPStagingCommon.getSwalModal(true).fire({\n            title: 'Different Database Properties',\n            icon: 'error',\n            html: response.message,\n            focusConfirm: true,\n            confirmButtonText: 'Ok',\n            showCancelButton: false,\n          });\n          cache.get('.wpstg-loader').hide();\n        },\n        'json',\n        false,\n    );\n  };\n\n  /**\n   * Get Cloning Step Data\n   */\n  const getCloningData = function() {\n    if ('wpstg_cloning' !== that.data.action && 'wpstg_update' !== that.data.action && 'wpstg_reset' !== that.data.action) {\n      return;\n    }\n\n    that.data.cloneID = new Date().getTime().toString();\n    if ('wpstg_update' === that.data.action) {\n      that.data.cloneID = $('#wpstg-new-clone-id').data('clone');\n    }\n\n    that.data.cloneName = $('#wpstg-new-clone-id').val() || that.data.cloneID;\n\n    if (that.directoryNavigator !== null) {\n      that.data.excludedDirectories = encodeURIComponent(that.directoryNavigator.getExcludedDirectories());\n      that.data.extraDirectories = encodeURIComponent(that.directoryNavigator.getExtraDirectoriesRootOnly());\n    }\n\n    that.data.excludeGlobRules = '';\n    that.data.excludeSizeRules = '';\n    if (that.cloneExcludeFilters instanceof WpstgExcludeFilters) {\n      const rules = that.cloneExcludeFilters.getExcludeFilters();\n      that.data.excludeGlobRules = encodeURIComponent(rules.globs);\n      that.data.excludeSizeRules = encodeURIComponent(rules.sizes);\n    }\n\n    that.data.includedTables = '';\n    that.data.excludedTables = '';\n    that.data.allTablesExcluded = false;\n\n    if (that.tableSelector !== null) {\n      that.data.includedTables = that.tableSelector.getIncludedTables();\n      that.data.excludedTables = that.tableSelector.getExcludedTables();\n      that.data.selectedTablesWithoutPrefix = that.tableSelector.getSelectedTablesWithoutPrefix();\n    }\n\n    if (that.data.includedTables.length > that.data.excludedTables.length) {\n      that.data.includedTables = '';\n    } else if (that.data.excludedTables.length > that.data.includedTables.length) {\n      that.data.excludedTables = '';\n      that.data.allTablesExcluded = that.data.includedTables === '';\n    }\n\n    that.data.databaseServer = $('#wpstg-db-server').val();\n    that.data.databaseUser = $('#wpstg-db-user').val();\n    that.data.databasePassword = $('#wpstg-db-pass').val();\n    that.data.databaseDatabase = $('#wpstg-db-database').val();\n    that.data.databasePrefix = $('#wpstg-db-prefix').val();\n    that.data.databaseSsl = $('#wpstg-db-ssl').is(':checked');\n    const cloneDir = $('#wpstg_clone_dir').val();\n    that.data.cloneDir = encodeURIComponent($.trim(cloneDir));\n    that.data.cloneHostname = $('#wpstg_clone_hostname').val();\n    that.data.cronDisabled = $('#wpstg_disable_cron').is(':checked');\n    that.data.emailsAllowed = $('#wpstg_allow_emails').is(':checked');\n    that.data.networkClone = $('#wpstg_network_clone').is(':checked');\n    that.data.uploadsSymlinked = $('#wpstg_symlink_upload').is(':checked');\n    that.data.cleanPluginsThemes = $('#wpstg-clean-plugins-themes').is(':checked');\n    that.data.cleanUploadsDir = $('#wpstg-clean-uploads').is(':checked');\n  };\n\n  var proceedCloning = function($this, workflow) {\n    if ($this.data('action') === 'wpstg_cloning') {\n      isWritableCloneDestinationDir().then(function(result) {\n        if (!result) {\n          return;\n        }\n        runCloningSteps($this, workflow);\n      });\n    } else {\n      runCloningSteps($this, workflow);\n    }\n  };\n\n  const runCloningSteps = function($this, workflow) {\n    const animatedLoader = cache.get('.wpstg-loading-bar-container');\n\n    animatedLoader.css('visibility', 'visible');\n\n    // Prepare data\n    that.data = {\n      action: $this.data('action'),\n      accessToken: wpstg.accessToken,\n      nonce: wpstg.nonce,\n    };\n\n    // Cloning data\n    getCloningData();\n\n    sendCloningAjax(workflow);\n  };\n\n  var sendCloningAjax = function(workflow) {\n    const animatedLoader = cache.get('.wpstg-loading-bar-container');\n\n    // Send ajax request\n    ajax(\n        that.data,\n        function(response) {\n        // Undefined Error\n          if (false === response) {\n            showError(\n                'Something went wrong!<br/><br/> Go to WP Staging > Settings and lower \\'File Copy Limit\\' and \\'DB Query Limit\\'. Also set \\'CPU Load Priority to low \\'' +\n            'and try again. If that does not help, ' +\n            '<a href=\\'https://wp-staging.com/support/\\' target=\\'_blank\\'>open a support ticket</a> ',\n            );\n          }\n\n\n          if (response.length < 1) {\n            animatedLoader.css('visibility', 'hidden');\n            showError(\n                'Something went wrong! No response.  Go to WP Staging > Settings and lower \\'File Copy Limit\\' and \\'DB Query Limit\\'. Also set \\'CPU Load Priority to low \\'' +\n            'and try again. If that does not help, ' +\n            '<a href=\\'https://wp-staging.com/support/\\' target=\\'_blank\\'>open a support ticket</a> ',\n            );\n          }\n\n          const jsonResponse = tryParseJson(response);\n          if (jsonResponse !== false && jsonResponse.success === false) {\n            animatedLoader.css('visibility', 'hidden');\n            showErrorModal(jsonResponse);\n\n            return;\n          }\n\n          animatedLoader.css('visibility', 'hidden');\n\n          workflow.html(response);\n\n          that.cloneExcludeFilters = null;\n          if (that.data.action === 'wpstg_scanning') {\n            that.areAllTablesChecked = true;\n            that.directoryNavigator = new WpstgDirectoryNavigation('#wpstg-directories-listing', wpstg, that.notyf);\n            that.tableSelector = new WpstgTableSelection('#wpstg-scanning-db', '#wpstg-workflow', '#wpstg_network_clone', '#wpstg_select_tables_cloning', wpstg);\n            that.switchStep(2);\n            that.cloneExcludeFilters = new WpstgExcludeFilters();\n            that.directoryNavigator.countSelectedFiles();\n            that.tableSelector.countSelectedTables();\n          } else if (that.data.action === 'wpstg_cloning' || that.data.action === 'wpstg_update' || that.data.action === 'wpstg_reset') {\n            that.switchStep(3);\n          }\n\n          // Start cloning\n          that.startCloning();\n        },\n        'HTML',\n    );\n  };\n\n  var showErrorModal = function(response) {\n    const errorModal = new WpstgModal('wpstg_modal_error', wpstg);\n    errorModal.show(Object.assign({\n      title: 'Error',\n      icon: 'error',\n      html: wpstg.i18n['somethingWentWrong'] + (response.message !== undefined ? ('<br/>' + response.message) : ''),\n      width: '500px',\n      confirmButtonText: 'Ok',\n      showCancelButton: false,\n      customClass: {\n        confirmButton: 'wpstg--btn--confirm wpstg-blue-primary wpstg-button wpstg-link-btn',\n        cancelButton: 'wpstg--btn--cancel wpstg-blue-primary wpstg-link-btn',\n        actions: 'wpstg--modal--actions',\n        popup: 'wpstg-swal-popup wpstg-centered-modal',\n      },\n      buttonsStyling: false,\n      reverseButtons: true,\n    }, response.swalOptions), {\n      type: response.type,\n    });\n  };\n\n  const tryParseJson = function(json) {\n    // early bail if not string\n    if (!json) {\n      return false;\n    }\n\n    try {\n      const object = JSON.parse(json);\n      if (object && typeof object === 'object') {\n        return object;\n      }\n    } catch (e) {\n      // do nothing on catch\n    }\n\n    return false;\n  };\n\n  var resetClone = function(clone, excludeOptions) {\n    that.data = {\n      action: 'wpstg_reset',\n      accessToken: wpstg.accessToken,\n      nonce: wpstg.nonce,\n      cloneID: clone,\n    };\n\n    that.data = {...that.data, ...excludeOptions};\n\n    const $workFlow = cache.get('#wpstg-workflow');\n    sendCloningAjax($workFlow);\n  };\n\n  /**\n   * Loads Overview (first step) of Staging Job\n   */\n  var loadOverview = function() {\n    const $workFlow = cache.get('#wpstg-workflow');\n    const animatedLoader = cache.get('.wpstg-loading-bar-container');\n    animatedLoader.css('visibility', 'visible');\n\n    ajax(\n        {\n          action: 'wpstg_overview',\n          accessToken: wpstg.accessToken,\n          nonce: wpstg.nonce,\n        },\n        function(response) {\n          if (response.length < 1) {\n            showError(\n                'Something went wrong! No response. Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report.',\n            );\n          }\n\n          const $currentStep = cache.get('.wpstg-current-step');\n\n          animatedLoader.css('visibility', 'hidden');\n\n          $workFlow.html(response);\n        },\n        'HTML',\n    );\n\n    that.switchStep(1);\n    cache.get('.wpstg-step3-cloning').show();\n    cache.get('.wpstg-step3-pushing').hide();\n  };\n\n  /**\n   * Load Tabs\n   */\n  const tabs = function() {\n    cache.get('#wpstg-workflow').on('click', '.wpstg-tab-header', function(e) {\n      e.preventDefault();\n\n      const $this = $(this);\n      const $section = cache.get($this.data('id'));\n\n      $this.toggleClass('expand');\n\n      $section.slideToggle();\n\n      const tabTriangle = $this.find('.wpstg-tab-triangle');\n\n      if ($this.hasClass('expand')) {\n        tabTriangle.removeClass('wpstg-no-icon');\n        tabTriangle.text('');\n        tabTriangle.addClass('wpstg-rotate-90');\n      } else {\n        tabTriangle.removeClass('wpstg-rotate-90');\n      }\n    });\n  };\n\n  /**\n   * Delete Clone\n   * @param {String} clone\n   * @param {String} deleteDir\n   * @param {array} excludedTables\n   */\n  var deleteClone = function(clone, deleteDir, excludedTables) {\n    ajax(\n        {\n          action: 'wpstg_delete_clone',\n          clone: clone,\n          accessToken: wpstg.accessToken,\n          nonce: wpstg.nonce,\n          excludedTables: excludedTables,\n          deleteDir: deleteDir,\n        },\n        function(response) {\n          if (response) {\n            showAjaxFatalError(response);\n\n            // Finished\n            if ('undefined' !== typeof response.delete && (response.delete === 'finished' || response.delete === 'unfinished')) {\n              if (response.delete === 'finished' && response.error === undefined) {\n                $('.wpstg-clone[data-clone-id=\"' + clone + '\"]').remove();\n              }\n\n              // No staging site message is also of type/class .wpstg-class but hidden\n              // We have just excluded that from search when counting no of clones\n              if ($('#wpstg-existing-clones .wpstg-clone').length < 1) {\n                cache.get('#wpstg-existing-clones').find('h3').text('');\n                cache.get('#wpstg-no-staging-site-results').show();\n              }\n\n              cache.get('.wpstg-loader').hide();\n              // finish modal popup\n              if (wpstg.i18n.wpstg_delete_clone !== null && response.delete === 'finished') {\n                const params = {\n                  'status': 'finished',\n                };\n                that.wpstgProcessModal.openProcessModal({'action': 'wpstg_delete_clone', 'cloneID': clone}, params, false, false);\n                WPStagingCommon.getSwalModal(true, {\n                  confirmButton: 'wpstg--btn--confirm wpstg-green-button wpstg-button wpstg-link-btn wpstg-100-width',\n                }).fire({\n                  'icon': 'success',\n                  'html': '<div style=\"display:block\"><h2 style=\"color: #565656;\">' + wpstg.i18n.wpstg_delete_clone.title + '</h2></div>',\n                  'confirmButtonText': 'Close',\n                  'showCancelButton': false,\n                  'showConfirmButton': true,\n                }).then(function(result) {\n                  if (result.value) {\n                    WPStagingCommon.closeSwalModal();\n                    dom.loadingBar('hidden');\n                  }\n                },\n                );\n              }\n              return;\n            }\n          }\n          // continue\n          if (true !== response) {\n            deleteClone(clone, deleteDir, excludedTables);\n            return;\n          }\n        },\n    );\n  };\n\n  /**\n   * Cancel Cloning Process\n   */\n  var cancelCloning = function() {\n    that.timer('stop');\n\n\n    if (true === that.isFinished) {\n      return true;\n    }\n\n    ajax(\n        {\n          action: 'wpstg_cancel_clone',\n          clone: that.data.cloneID,\n          accessToken: wpstg.accessToken,\n          nonce: wpstg.nonce,\n        },\n        function(response) {\n          if (response && 'undefined' !== typeof (response.delete) && response.delete === 'finished') {\n            cache.get('.wpstg-loader').hide();\n            // Load overview\n            loadOverview();\n            return;\n          }\n\n          if (true !== response) {\n          // continue\n            cancelCloning();\n            return;\n          }\n\n          // Load overview\n          loadOverview();\n        },\n    );\n  };\n\n  /**\n   * Cancel Cloning Process\n   */\n  var cancelCloningUpdate = function() {\n    if (true === that.isFinished) {\n      return true;\n    }\n\n    ajax(\n        {\n          action: 'wpstg_cancel_update',\n          clone: that.data.cloneID,\n          accessToken: wpstg.accessToken,\n          nonce: wpstg.nonce,\n        },\n        function(response) {\n          if (response && 'undefined' !== typeof (response.delete) && response.delete === 'finished') {\n          // Load overview\n            loadOverview();\n            return;\n          }\n\n          if (true !== response) {\n          // continue\n            cancelCloningUpdate();\n            return;\n          }\n\n          // Load overview\n          loadOverview();\n        },\n    );\n  };\n\n  /**\n   * Cancel Cloning Process\n   */\n  var restart = function() {\n    if (true === that.isFinished) {\n      return true;\n    }\n\n    ajax(\n        {\n          action: 'wpstg_restart',\n          // clone: that.data.cloneID,\n          accessToken: wpstg.accessToken,\n          nonce: wpstg.nonce,\n        },\n        function(response) {\n          if (response && 'undefined' !== typeof (response.delete) && response.delete === 'finished') {\n          // Load overview\n            loadOverview();\n            return;\n          }\n\n          if (true !== response) {\n          // continue\n            cancelCloningUpdate();\n            return;\n          }\n\n          // Load overview\n          loadOverview();\n        },\n    );\n  };\n\n  /**\n   * Scroll the window log to bottom\n   * @return void\n   */\n  const logscroll = function() {\n    const $div = cache.get('.wpstg-log-details');\n    if ('undefined' !== typeof ($div[0])) {\n      $div.scrollTop($div[0].scrollHeight);\n    }\n  };\n\n  /**\n   * Append the log to the logging window\n   * @param string log\n   * @return void\n   */\n  const getLogs = function(log) {\n    if (Array.isArray(log)) {\n      log.forEach((logMessage) => {\n        if (logMessage !== null) {\n          if (!that.messages.find(({message}) => message === logMessage.message)) {\n            that.messages.push(logMessage);\n            const $logsContainer = $('.wpstg--modal--process--logs');\n            const msgClass = `wpstg--modal--process--msg--${logMessage.type.toLowerCase() || 'info'}`;\n            $logsContainer.append(`<p class=\"${msgClass}\">[${logMessage.type || 'info'}] - [${logMessage.date}] - ${logMessage.message}</p>`);\n          }\n        }\n      });\n    } else {\n      if (!that.messages.find(({message}) => message === log.message)) {\n        that.messages.push(log);\n        const $logsContainer = $('.wpstg--modal--process--logs');\n        const msgClass = `wpstg--modal--process--msg--${log.type.toLowerCase() || 'info'}`;\n        $logsContainer.append(`<p class=\"${msgClass}\">[${log.type || 'info'}] - [${log.date}] - ${log.message}</p>`);\n      }\n    }\n    document.querySelectorAll('.wpstg--modal--process--logs').forEach((element) => {\n      element.scrollTop = element.scrollHeight;\n    });\n  };\n\n\n  /**\n   * Check disk space\n   * @return string json\n   */\n  var checkDiskSpace = function() {\n    cache.get('#wpstg-check-space').on('click', function(e) {\n      cache.get('.wpstg-loader').show();\n      const excludedDirectories = encodeURIComponent(that.directoryNavigator.getExcludedDirectories());\n      const extraDirectories = encodeURIComponent(that.directoryNavigator.getExtraDirectoriesRootOnly());\n\n      ajax(\n          {\n            action: 'wpstg_check_disk_space',\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n            excludedDirectories: excludedDirectories,\n            extraDirectories: extraDirectories,\n          },\n          function(response) {\n            if (false === response) {\n              cache.get('#wpstg-clone-id-error').text('Can not detect required disk space').show();\n              cache.get('.wpstg-loader').hide();\n              return;\n            }\n\n            // Show required disk space\n            cache.get('#wpstg-clone-id-error').html(\n                '<strong>Estimated necessary disk space: ' + response.requiredSpace + '</strong>' +\n              (response.errorMessage !== null ? ('<br>' + response.errorMessage) : '') +\n              '<br> <span style=\"color:#444;\">Before you proceed ensure your account has enough free disk space to hold the entire instance of the production site. You can check the available space from your hosting account (e.g. cPanel).</span>').show();\n            cache.get('.wpstg-loader').hide();\n          },\n          'json',\n          false,\n      );\n    });\n  };\n\n  /**\n   * Show or hide animated loading icon\n   * @param isLoading bool\n   */\n  const isLoading = function(isLoading) {\n    if (!isLoading || isLoading === false) {\n      cache.get('.wpstg-loader').hide();\n    } else {\n      cache.get('.wpstg-loader').show();\n    }\n  };\n\n  /**\n   * Count up processing execution time\n   * @param string status\n   * @return html\n   */\n  that.timer = function(status) {\n    if (status === 'stop') {\n      const time = that.time;\n      that.time = 1;\n      clearInterval(that.executionTime);\n      return that.convertSeconds(time);\n    }\n\n\n    that.executionTime = setInterval(function() {\n      if (null !== document.getElementById('wpstg-processing-timer')) {\n        document.getElementById('wpstg-processing-timer').innerHTML = 'Elapsed Time: ' + that.convertSeconds(that.time);\n      }\n      that.time++;\n      if (status === 'stop') {\n        that.time = 1;\n        clearInterval(that.executionTime);\n      }\n    }, 1000);\n  };\n\n  /**\n   * Convert seconds to hourly format\n   * @param int seconds\n   * @return string\n   */\n  that.convertSeconds = function(seconds) {\n    const date = new Date(null);\n    date.setSeconds(seconds); // specify value for SECONDS here\n    return date.toISOString().substr(11, 8);\n  };\n\n  /**\n   * Start Cloning Process\n   * @type {Function}\n   */\n  that.startCloning = (function() {\n    resetErrors();\n\n    // Register function for checking disk space\n    checkDiskSpace();\n\n    if ('wpstg_cloning' !== that.data.action && 'wpstg_update' !== that.data.action && 'wpstg_reset' !== that.data.action) {\n      return;\n    }\n\n    that.isCancelled = false;\n\n    // Start the process\n    start();\n\n    // Functions\n    // Start\n    function start() {\n      cache.get('.wpstg-loader').show();\n      cache.get('#wpstg-cancel-cloning').text('Cancel');\n      cache.get('#wpstg-resume-cloning').hide();\n      cache.get('#wpstg-error-details').hide();\n\n\n      // Clone Database\n      setTimeout(function() {\n        // cloneDatabase();\n        window.addEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n        processing();\n      }, wpstg.delayReq);\n    }\n\n\n    /**\n     * Start ajax processing\n     * @return string\n     */\n    var processing = function() {\n      if (true === that.isCancelled) {\n        window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n        return false;\n      }\n\n      isLoading(true);\n\n      let excludedDirectories = '';\n      let extraDirectories = '';\n      if (that.directoryNavigator !== null) {\n        excludedDirectories = that.directoryNavigator.getExcludedDirectories();\n        extraDirectories = that.directoryNavigator.getExtraDirectoriesRootOnly();\n      }\n\n      // Show logging window\n\n      WPStaging.requestType = 'wpstg_cloning';\n\n      WPStaging.ajax(\n          {\n            action: 'wpstg_processing',\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n            excludedTables: getExcludedTables(),\n            excludedDirectories: encodeURIComponent(excludedDirectories),\n            extraDirectories: encodeURIComponent(extraDirectories),\n          },\n          function(response) {\n            showAjaxFatalError(response);\n\n            // Add Log messages\n            if ('undefined' !== typeof (response.last_msg) && response.last_msg) {\n              getLogs(response.last_msg);\n            }\n            // Continue processing\n            if (false === response.status) {\n              progressBar(response);\n\n              setTimeout(function() {\n                processing();\n              }, wpstg.delayReq);\n            } else if (true === response.status && 'finished' !== response.status) {\n              cache.get('#wpstg-error-details').hide();\n              cache.get('#wpstg-error-wrapper').hide();\n              progressBar(response, true);\n              processing();\n            } else if ('finished' === response.status || ('undefined' !== typeof (response.job_done) && response.job_done)) {\n              window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n              WPStaging.requestType = '';\n              finish(response);\n            }\n          },\n          'json',\n          false,\n      );\n    };\n\n    // Finish\n    function finish(response) {\n      if (true === that.getLogs) {\n        getLogs();\n      }\n\n      progressBar(response);\n\n      // Add Log\n      if ('undefined' !== typeof (response.last_msg)) {\n        getLogs(response.last_msg);\n      }\n      if (wpstg.i18n[that.data.action] !== null) {\n        that.wpstgProcessModal.openSuccessModal(wpstg.i18n[that.data.action], true, response.url);\n      }\n    }\n\n    /**\n     * Add percentage progress bar\n     * @param object response\n     * @return {Boolean}\n     */\n    var progressBar = function(response, restart) {\n      if (response !== null) {\n        that.wpstgProcessModal.openProcessModal(that.data, response, true);\n      }\n    };\n  });\n\n  that.switchStep = function(step) {\n    cache.get('.wpstg-current-step')\n        .removeClass('wpstg-current-step');\n    cache.get('.wpstg-step' + step)\n        .addClass('wpstg-current-step');\n  };\n\n  that.checkUserDbPermissions = function checkUserDbPermissions(operationType) {\n    return new Promise(function(resolve) {\n      WPStaging.ajax({\n        action: 'wpstg_check_user_permissions',\n        accessToken: wpstg.accessToken,\n        nonce: wpstg.nonce,\n        type: operationType,\n      }, function(response) {\n        if (response.success) {\n          resolve(true);\n        } else {\n          WPStagingCommon.getSwalModal(true, {\n            container: 'wpstg-swal-push-container',\n          }).fire({\n            title: '',\n            icon: 'warning',\n            html: response.data.message,\n            width: '750px',\n            focusConfirm: false,\n            confirmButtonText: 'Proceed',\n            showCancelButton: true,\n          }).then(function(result) {\n            if (result.isConfirmed) {\n              resolve(true);\n            }\n          });\n\n          $('#wpstg-db-permission-show-full-message').click(function() {\n            $('#wpstg-permission-info-output').html($('#wpstg-permission-info-data').html());\n          });\n        }\n      }, 'json', false);\n    });\n  };\n\n  /**\n   * Initiation\n   * @type {Function}\n   */\n  that.init = (function() {\n    loadOverview();\n    elements();\n    stepButtons();\n    tabs();\n    WPStagingCommon.listenTooltip();\n    new WpstgMainMenu();\n    new WpstgCloneStaging();\n    new WpstgCloningAdvanceSettings();\n    new WpstgProcessModal();\n    that.notyf = new Notyf({\n      duration: 10000,\n      position: {\n        x: 'center',\n        y: 'bottom',\n      },\n      dismissible: true,\n      types: [\n        {\n          type: 'warning',\n          background: 'orange',\n          icon: false,\n        },\n      ],\n    });\n  });\n  /**\n   * Ajax call\n   * @type {ajax}\n   */\n  that.ajax = ajax;\n  that.showError = showError;\n  that.getLogs = getLogs;\n  that.loadOverview = loadOverview;\n\n  return that;\n})(jQuery);\n\njQuery(document).ready(function() {\n  WPStaging.init();\n  // This is necessary to make WPStaging var accessible in WP Staging PRO js script\n  window.WPStaging = WPStaging;\n});\n\n/**\n * Report Issue modal\n */\njQuery(document).ready(function($) {\n  $('body').on('click', '.wpstg-report-issue-button', function(e) {\n    const contactUsModal = document.querySelector('#wpstg-contact-us-modal');\n    if (contactUsModal != null && typeof contactUsModal !== 'undefined') {\n      dom.show('#wpstg-contact-us-modal');\n      new WpstgContactUs();\n    }\n    $('.wpstg-report-issue-form').toggleClass('wpstg-report-show');\n    e.preventDefault();\n  });\n\n  $('body').on('click', '.wpstg-backups-report-issue-button', function(e) {\n    $('.wpstg-report-issue-form').toggleClass('wpstg-report-show');\n    e.preventDefault();\n  });\n\n  $('body').on('click', '#wpstg-report-cancel', function(e) {\n    $('.wpstg-report-issue-form').removeClass('wpstg-report-show');\n    e.preventDefault();\n  });\n\n  $('body').on('click', '#wpstg-report-submit', function(e) {\n    const self = $(this);\n    sendIssueReport(self, 'false');\n    e.preventDefault();\n  });\n  $('body').on('click', '.wpstg--modal--process--logs--tail', function(e) {\n    showProcessLogs();\n    const logBtn = $(this);\n    e.preventDefault();\n    const container = WPStagingCommon.getSwalContainer();\n    const $logs = $(container).find('.wpstg--modal--process--logs');\n    $logs.toggle();\n    if ($logs.is(':visible')) {\n      logBtn.text(wpstg.i18n.hideLogs);\n      container.childNodes[0].style.width = '97%';\n      container.style['z-index'] = 9999;\n    } else {\n      logBtn.text(wpstg.i18n.showLogs);\n      container.childNodes[0].style.width = '600px';\n    }\n  });\n  /*\n   * Close Success Modal\n   */\n  $('body').on('click', '#wpstg-success-button', function(e) {\n    e.preventDefault();\n    $('.wpstg-report-issue-form').removeClass('wpstg-report-show');\n  });\n\n  function sendIssueReport(button, forceSend = 'false') {\n    const spinner = button.next();\n    const email = $('.wpstg--tab--header .wpstg-report-email').val();\n    const hosting_provider = $('.wpstg--tab--header .wpstg-report-hosting-provider').val();\n    const message = $('.wpstg--tab--header .wpstg-report-description').val();\n    const syslog = $('.wpstg--tab--header .wpstg-report-syslog').is(':checked');\n    const terms = $('.wpstg--tab--header .wpstg-report-terms').is(':checked');\n\n    button.attr('disabled', true);\n    spinner.css('visibility', 'visible');\n\n    $.ajax({\n      url: ajaxurl,\n      type: 'POST',\n      dataType: 'json',\n      async: true,\n      data: {\n        'action': 'wpstg_send_report',\n        'accessToken': wpstg.accessToken,\n        'nonce': wpstg.nonce,\n        'wpstg_email': email,\n        'wpstg_provider': hosting_provider,\n        'wpstg_message': message,\n        'wpstg_syslog': +syslog,\n        'wpstg_terms': +terms,\n        'wpstg_force_send': forceSend,\n      },\n    }).done(function(data) {\n      button.attr('disabled', false);\n      spinner.css('visibility', 'hidden');\n\n      if (data.errors.length > 0) {\n        $('.wpstg-report-issue-form .wpstg-message').remove();\n\n        let errorMessage = $('<div />').addClass('wpstg-message wpstg-error-message');\n        $.each(data.errors, function(key, value) {\n          if (value.status === 'already_submitted') {\n            errorMessage = '';\n            // TODO: remove default custom classes\n            WPStagingCommon.getSwalModal(true, {\n              container: 'wpstg-issue-resubmit-confirmation',\n            }).fire({\n              title: '',\n              icon: 'warning',\n              html: value.message,\n              showCancelButton: true,\n              focusConfirm: false,\n              confirmButtonText: 'Yes',\n              cancelButtonText: 'No',\n            }).then((result) => {\n              if (result.isConfirmed) {\n                sendIssueReport(button, 'true');\n              }\n            });\n          } else {\n            errorMessage.append('<p>' + value + '</p>');\n          }\n        });\n\n        $('.wpstg-report-issue-form').prepend(errorMessage);\n      } else {\n        const successMessage = $('<div />').addClass('wpstg-message wpstg-success-message');\n        successMessage.append('<p>Thanks for submitting your request! You should receive an auto reply mail with your ticket ID immediately for confirmation!<br><br>If you do not get that mail please contact us directly at <strong>support@wp-staging.com</strong></p>');\n\n        $('.wpstg--tab--header .wpstg-report-issue-form').html(successMessage);\n        if (document.getElementById('wpstg-modal-close') === null || document.getElementById('wpstg-modal-close') === undefined) {\n          $('.wpstg--tab--header .wpstg-success-message').append('<div class=\"wpstg-mt-10px wpstg-float-right\"><a id=\"wpstg-success-button\" href=\"#\" class=\"wpstg--red\"><span class=\"wpstg-ml-8px\">Close</span></a></div>');\n        }\n\n        // Hide message\n        setTimeout(function() {\n          $('.wpstg--tab--header .wpstg-report-issue-form').removeClass('wpstg-report-active');\n        }, 2000);\n      }\n    });\n  }\n\n  // Open/close actions drop down menu\n  $(document).on('click', '.wpstg-dropdown>.wpstg-dropdown-toggler', function(e) {\n    e.preventDefault();\n    $(e.target).next('.wpstg-dropdown-menu').toggleClass('shown');\n\n    $(e.target).find('.wpstg-caret').toggleClass('wpstg-caret-up');\n  });\n\n  $(document).on('click', '.wpstg-caret', function(e) {\n    e.preventDefault();\n\n    const toggler = $(e.target).closest('.wpstg-dropdown-toggler');\n\n    if (toggler) {\n      toggler.trigger('click');\n    }\n  });\n\n  // Close action drop down menu if clicked anywhere outside\n  document.addEventListener('click', function(event) {\n    const isClickInside = event.target.closest('.wpstg-dropdown-toggler');\n    if (!isClickInside) {\n      const dropDown = document.getElementsByClassName('wpstg-dropdown-menu');\n      for (let i = 0; i < dropDown.length; i++) {\n        dropDown[i].classList.remove('shown');\n      }\n      $('.wpstg-caret').removeClass('wpstg-caret-up');\n    }\n  });\n\n  // \"Event info\" for backup errors\n  window.addEventListener('finishedProcessWithError', function(customEvent) {\n    $.ajax({\n      url: ajaxurl,\n      type: 'POST',\n      dataType: 'json',\n      data: {\n        'action': 'wpstg_job_error',\n        'accessToken': wpstg.accessToken,\n        'nonce': wpstg.nonce,\n        'error_message': customEvent.detail.error,\n        'job_id': WPStagingCommon.getJobId(),\n      },\n    });\n  });\n\n  /**\n   * Display logs in a modal.\n   * and avoid mixing of different processes logs\n   * @return {void}\n   */\n  function showProcessLogs() {\n    if (window.WPStaging.messages.length !== 0) {\n      const container = WPStagingCommon.getSwalContainer();\n      const logsContainer = container.querySelector('.wpstg--modal--process--logs');\n      logsContainer.innerHTML = '';\n      window.WPStaging.messages.forEach(function(message) {\n        const msgClass = `wpstg--modal--process--msg--${message.type.toLowerCase()}`;\n        const pElement = document.createElement('p');\n        pElement.className = msgClass;\n        pElement.textContent = `[${message.type}] - [${message.date}] - ${message.message}`;\n        logsContainer.appendChild(pElement);\n      });\n    }\n  }\n\n  document.addEventListener('click', function(event) {\n    if (event.target.id !== 'wpstg-login-link') {\n      return;\n    }\n\n    event.preventDefault();\n    window.open('/wp-login.php', '_blank');\n    if (window.WPStaging && window.WPStaging.wpstgProcessModal) {\n      window.WPStaging.wpstgProcessModal.stop();\n      window.WPStaging.loadOverview();\n    }\n  });\n});\n"],"names":["closest","Element","prototype","matches","msMatchesSelector","webkitMatchesSelector","s","el","this","call","parentElement","parentNode","nodeType","element","selector","wpstgHoverIntent","parent","onOver","onOut","x","y","pX","pY","mouseOver","focused","h","state","timer","options","sensitivity","interval","timeout","handleFocus","tracker","e","clientX","clientY","compare","clearTimeout","Math","abs","undefined","setTimeout","dispatchOver","removeEventListener","addEventListener","onMouseOver","event","target","dispatchOut","delay","onMouseOut","onFocus","onBlur","removeFocus","opt","focusOptionChanged","Object","assign","remove","WpstgDetectMemoryExhaust","wpstgObject","wpstg","sendRequest","_sendRequest","_asyncToGenerator","_regeneratorRuntime","mark","_callee","requestType","response","data","wrap","_context","prev","next","fetch","ajaxUrl","method","credentials","body","URLSearchParams","action","accessToken","nonce","headers","sent","json","status","error","abrupt","console","warn","message","t0","i18n","stop","_x","apply","arguments","WPStagingCommon","$","continueErrorHandle","retry","currentDelay","count","max","retryOnErrors","performingRequest","incrementRetry","incrementRatio","canRetry","reset","memoryExhaustArticleLink","cache","elements","get","inArray","refresh","setJobId","jobId","localStorage","setItem","getJobId","getItem","checkMemoryExhaustion","detectMemoryExhaust","listenTooltip","document","querySelector","style","visibility","getSwalModal","isContentCentered","customClasses","defaultCustomClasses","confirmButton","cancelButton","actions","popup","customClass","buttonsStyling","reverseButtons","showClass","wpstgSwal","mixin","showSuccessModal","htmlContent","fire","showConfirmButton","showCancelButton","cancelButtonText","icon","title","html","showWarningModal","showErrorModal","getSwalContainer","getContainer","closeSwalModal","close","getDataFromWordPressResponse","Error","hasOwnProperty","success","Array","length","shift","isLoading","show","hide","slugify","url","toString","toLowerCase","normalize","replace","showAjaxFatalError","prependMessage","appendMessage","showError","window","WPStaging","warnIfClosingDuringProcess","handleFetchErrors","ok","statusText","css","text","removeClass","resetErrors","ajax","callback","dataType","showErrors","tryCount","errorCallback","retryLimit","retryTimeout","parseInt","isNaN","ajaxurl","Date","now","type","xhr","textStatus","errorThrown","log","errorCode","statusCode","jQuery","qs","all","querySelectorAll","addEvent","evt","handler","slideDown","duration","display","overflow","height","offsetHeight","transitionProperty","transitionDuration","removeProperty","slideUp","getPreviousSibling","sibling","previousElementSibling","handleDisplayDependencies","id","hiddenClass","getAttribute","container","showIfChecked","showIfUnchecked","checked","_step","_iterator","_createForOfIteratorHelperLoose","done","value","classList","add","_step2","_iterator2","handleToggleElement","_step4","_iterator4","toggle","handleCopyPaste","navigator","clipboard","writeText","_step5","_iterator5","handleCopyToClipboard","forEach","loadingBar","WpstgSidebarMenu","init","_proto","wpstdStagingTab","wpstdBackupTab","wpstdSidebarMenu","addEvents","_this","setPageUrl","setSidebarMenu","page","history","pushState","location","pathname","wpstgSidebarMenuElements","i","WpstgContactUs","modalType","characters","currentDate","contactUsModal","askInTheForumForm","contactUsSuccessPopup","contactUsLoader","contactUsSupport","contactUsButton","contactUsButtonBackupTab","reportIssueButton","successForm","contactUsReportIssueBtn","contactUsCloseButton","contactUsSuccessPopupClose","debugCodeCopyButton","contactUsResponse","contactUsDebugCodeField","isDebugWindowOpened","notyf","Notyf","position","dismissible","types","background","key","dom","sendDebugInfo","copyDebugCode","select","setSelectionRange","generateDebugCode","result","charAt","floor","random","getHours","getMinutes","getSeconds","_this2","disabled","debugCode","then","WpstgCloneStaging","pageWrapperId","pageWrapper","enableButtonId","enableAction","Promise","reject","reload","WpstgDirectoryNavigation","directoryListingSelector","directoryListingContainer","dirCheckboxSelector","dirExpandSelector","unselectAllDirsSelector","selectDefaultDirsSelector","fetchChildrenAction","currentCheckboxElement","currentParentDiv","currentLoader","existingExcludes","excludedDirectories","isDefaultSelected","preventDefault","toggleDirExpand","unselectAll","selectDefault","toggleDirectoryNavigation","updateDirectorySelection","parseExcludes","checkboxWrapper","changed","path","prefix","dirPath","isChecked","forceDefault","setAttribute","dirContainer","createElement","innerHTML","JSON","parse","directoryListing","appendChild","alert","getExcludedDirectories","_this$wpstgObject$set","_this3","isParentExcluded","push","exclude","isScanned","join","settings","directorySeparator","isParentAlreadyExcluded","dir","startsWith","getExtraDirectoriesRootOnly","extraDirectories","_this$wpstgObject$set2","extraDirectoriesTextArea","extraCustomDirectories","split","concat","countSelectedFiles","map","substr","slice","scanned","cbElement","subDirectories","nextElementSibling","parElem","children","textContent","themesCount","pluginsCount","filesCountElement","WpstgTableSelection","databaseTableSectionSelector","workflowSelector","networkCloneSelector","inputSelector","databaseTableSection","workflow","networkCloneCheckbox","isAllTablesChecked","isMultisite","isNetworkClone","input","setNetworkClone","selectDefaultTables","countSelectedTables","toggleTableSelection","unselectWPSTGTables","getRegexPattern","pattern","tblprefix","isNetwork","regexPattern","option","match","selected","name","getSelectedTablesWithoutPrefix","selectedTablesWithoutPrefix","getIncludedTables","includedTables","getExcludedTables","excludedTables","tablesCount","tablesCountElement","WpstgExcludeFilters","excludeFilterContainerSelector","excludeContainer","excludeTableBody","addFileSizeExclude","addFileExtExclude","addFileNameExclude","addDirNameExclude","clearExcludes","removeExclude","addExcludeRuleRow","templateName","excludeRowTemplate","excludeRow","content","cloneNode","removeChild","trim","getExcludeFilters","globExcludes","sizeExcludes","sizeCompares","sizeSizes","sizeByte","_i","_Object$entries","entries","_Object$entries$_i","sizeInput","ext","cleanStringForGlob","fileNamesPos","fileNames","_i2","_Object$entries2","_Object$entries2$_i","fileInput","fileName","dirNamesPos","dirNames","_i3","_Object$entries3","_Object$entries3$_i","dirInput","dirName","sizes","filter","onlyUnique","globs","index","self","indexOf","WpstgModal","confirmAction","swalOptions","additionalParams","triggerConfirmAction","WpstgResetModal","cloneID","fetchExcludeSettingsAction","modalErrorAction","resetButtonClass","resetModalContainerClass","resetTabSelector","directoryNavigator","excludeFilters","tableSelector","resetModalContainer","toggleContent","contentId","tabTriangle","isCollapsed","contains","transform","showModal","swalPromise","loadModal","fetchCloneExcludes","getAjaxLoader","width","focusConfirm","confirmButtonText","resetClone","clone","job","modal","renderError","getDirectoryNavigator","getTableSelector","wpstgIcon","WpstgCloningAdvanceSettings","baseContainerSelector","baseContainer","checkBoxSettingTogglerSelector","toggleSettings","WpstgMainMenu","activeTabClass","mainMenu","workflowContainer","click","$this","targetElements","menuItems","menuItem","targetElement","dispatchEvent","Event","runtime","exports","Op","hasOwn","defineProperty","obj","desc","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","err","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","_invoke","AsyncIterator","PromiseImpl","invoke","resolve","record","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","doneResult","delegate","delegateResult","maybeInvokeDelegate","_sent","dispatchException","methodName","TypeError","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","displayName","isGeneratorFunction","genFun","ctor","constructor","setPrototypeOf","__proto__","awrap","async","iter","keys","val","object","reverse","pop","skipTempReset","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","module","regeneratorRuntime","accidentalStrictMode","globalThis","Function","wpstgReAuth","WpstgReAuth","tempHidden","tempHiddenTimeout","shows","getElementById","formElement","wrapElement","noFrameElement","iframeElement","isIframeLoaded","addUnloadEvent","createIframeElement","openModal","focusIframe","setIframeLoadTimeout","focusFallbackElement","returnValue","border","onload","handleIframeLoad","src","dataset","contentDocument","er","handleIframeLoadError","maxHeight","focus","opacity","wpstgAuthCheck","checkUserAuthentication","WpstgAuthCheck","isAuthenticated","start","resetCount","_checkUserAuthentication","wpAuthCheck","createAuthCheckElements","redirectUrl","wpAuthCheckWrap","wpAuthCheckBg","wpAuthCheckDialog","wpAuthCheckForm","wpAuthCheckFallback","wpAuthCheckExpired","wpAuthCheckLoginLink","append","WpstgProcessModal","isProcessCancelled","isProcessFinished","processTime","processInterval","disableCancelButton","percentage","cloneId","successModal","showProcessLogs","stagingSiteUrl","setInterval","updateElapsedTime","resetCancelChecks","clearInterval","isCancelled","cancelProcess","confirm","messages","cancelCloneAction","setTitle","setPercentage","params","initializeProcessModal","cancelBtnTxt","instance","showCloseButton","showLoaderOnConfirm","allowEscapeKey","allowOutsideClick","onRender","getElementsByClassName","btnCancel","replaceChild","setProcessModal","processTitleElement","processPercentageElement","openProcessModal","showLogs","formatTimeDuration","toISOString","getCancelCloneAction","_this4","cancel","find","_this5","loadOverview","initializeSuccessModal","_this6","setSuccessModalContent","messageBody","downloadModalTextElement","wpstgRateUsElement","openSuccessModal","siteUrl","BackupPluginsNotice","wpstgBackupNoticeCloseButton","wpstgBackupNoticeReminderButton","closeBackupPluginNotice","that","isFinished","getLogs","time","executionTime","progressBar","cloneExcludeFilters","areAllTablesChecked","currentJob","wpstgProcessModal","ajaxSpinner","error_message","validateTargetHost","the_domain","test","cloneActions","$workFlow","on","prop","cancelCloning","startCloning","cancelCloningUpdate","restart","cloneData","stagingSiteName","confirmButtonColor","wpstgUnselectAllTables","wpstgUnselectAllTablesId","borderColor","_btnCancel","deleteDirectory","deleteDir","each","deleteClone","jsonResponse","tryParseJson","checkDiskSpace","switchStep","open","cloneHostname","resetModal","promise","dirNavigator","exclFilters","allTablesExcluded","excludeSizeRules","encodeURIComponent","excludeGlobRules","_error","errorMsgFooter","helpContent","isPro","_x2","_x3","verifyExternalDatabase","databaseUser","databasePassword","databaseServer","databaseDatabase","databaseSsl","is","proceedCloning","error_type","render","checks","production","staging","cloneDir","_response$data","scrollIntoView","runCloningSteps","getTime","cloneName","rules","databasePrefix","cronDisabled","emailsAllowed","networkClone","uploadsSymlinked","cleanPluginsThemes","cleanUploadsDir","getCloningData","sendCloningAjax","animatedLoader","excludeOptions","_extends","wpstg_delete_clone","isArray","logMessage","_ref","$logsContainer","msgClass","date","_ref2","scrollTop","scrollHeight","requiredSpace","errorMessage","convertSeconds","seconds","setSeconds","processing","delayReq","last_msg","job_done","step","addClass","checkUserDbPermissions","operationType","isConfirmed","urlSpinner","devicePixelRatio","removeAttr","cloneDirectoryName","directoryName","slug","substring","$targetDir","$targetUri","uri","attr","after","selectedSite","selectedSiteWorkFlow","selectedAction","selectedSiteDbCheck","stepButtons","$section","toggleClass","slideToggle","hasClass","ready","sendIssueReport","button","forceSend","spinner","email","hosting_provider","syslog","terms","wpstg_email","wpstg_provider","wpstg_message","wpstg_syslog","wpstg_terms","wpstg_force_send","errors","prepend","successMessage","logsContainer","pElement","className","logBtn","$logs","hideLogs","childNodes","toggler","trigger","dropDown","customEvent","detail","job_id"],"mappings":"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"}