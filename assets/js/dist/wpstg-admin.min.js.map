{"version":3,"file":"wpstg-admin.min.js","sources":["../src/modules/wpstg-polyfill.js","../src/modules/wpstg-hover-intent.js","../src/modules/wpstg-detect-memory-exhaust.js","../src/wpstg.js","../src/modules/wpstg-dom-utils.js","../src/modules/wpstg-contact-us.js","../src/modules/wpstg-clone-staging.js","../src/modules/wpstg-directory-navigation.js","../src/modules/wpstg-table-selection.js","../src/modules/wpstg-exclude-filters.js","../src/modules/wpstg-modal.js","../src/modules/wpstg-reset-modal.js","../src/modules/wpstg-cloning-advance-settings.js","../src/modules/wpstg-main-menu.js","../../node_modules/regenerator-runtime/runtime.js","../src/backup/modules/wpstg-re-auth.js","../src/backup/modules/wpstg-auth-check.js","../src/modules/wpstg-process-modal.js","../src/notices/backup-plugins-notice.js","../src/modules/wpstg-system-info.js","../src/modules/wpstg-sidebar-menu.js","../src/modules/wpstg-admin-dark.js","../src/wpstg-admin.js"],"sourcesContent":["/**\n * Polyfills the `Element.prototype.closest` function if not available in the browser.\n *\n * @return {Function} A function that will return the closest element, by selector, to this element.\n */\nfunction polyfillClosest() {\n  if (Element.prototype.closest) {\n    if (!Element.prototype.matches) {\n      Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n    }\n\n    Element.prototype.closest = function(s) {\n      let el = this;\n\n      do {\n        if (Element.prototype.matches.call(el, s)) return el;\n        el = el.parentElement || el.parentNode;\n      } while (el !== null && el.nodeType === 1);\n      return null;\n    };\n  }\n\n  return function(element, selector) {\n    return element instanceof Element ? element.closest(selector) : null;\n  };\n}\n\nexport const closest = polyfillClosest();\n","'use strict';\n\n/**\n * This is a namespaced port of https://github.com/tristen/hoverintent,\n * with slight modification to accept selector with dynamically added element in dom,\n * instead of just already present element.\n *\n * @param {HTMLElement} parent\n * @param {string} selector\n * @param {CallableFunction} onOver\n * @param {CallableFunction} onOut\n *\n * @return {object}\n */\nexport default function(parent, selector, onOver, onOut) {\n  let x; let y; let pX; let pY;\n  let mouseOver = false;\n  let focused = false;\n  const h = {};\n  let state = 0;\n  let timer = 0;\n\n  let options = {\n    sensitivity: 7,\n    interval: 100,\n    timeout: 0,\n    handleFocus: false,\n  };\n\n  function delay(el, e) {\n    if (timer) {\n      timer = clearTimeout(timer);\n    }\n\n    state = 0;\n    return focused ? undefined : onOut(el, e);\n  }\n\n  function tracker(e) {\n    x = e.clientX;\n    y = e.clientY;\n  }\n\n  function compare(el, e) {\n    if (timer) timer = clearTimeout(timer);\n    if ((Math.abs(pX - x) + Math.abs(pY - y)) < options.sensitivity) {\n      state = 1;\n      return focused ? undefined : onOver(el, e);\n    } else {\n      pX = x;\n      pY = y;\n      timer = setTimeout(function() {\n        compare(el, e);\n      }, options.interval);\n    }\n  }\n\n  // Public methods\n  h.options = function(opt) {\n    const focusOptionChanged = opt.handleFocus !== options.handleFocus;\n    options = Object.assign({}, options, opt);\n    if (focusOptionChanged) {\n            options.handleFocus ? addFocus() : removeFocus();\n    }\n\n    return h;\n  };\n\n  function dispatchOver(el, e) {\n    mouseOver = true;\n    if (timer) {\n      timer = clearTimeout(timer);\n    }\n\n    el.removeEventListener('mousemove', tracker, false);\n\n    if (state !== 1) {\n      pX = e.clientX;\n      pY = e.clientY;\n\n      el.addEventListener('mousemove', tracker, false);\n\n      timer = setTimeout(function() {\n        compare(el, e);\n      }, options.interval);\n    }\n\n    return this;\n  }\n\n  /**\n   * Newly added method,\n   * A wrapper around dispatchOver to support dynamically added elements to dom\n   */\n  function onMouseOver(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      dispatchOver(event.target.closest(selector), event);\n    }\n  };\n\n  function dispatchOut(el, e) {\n    mouseOver = false;\n    if (timer) {\n      timer = clearTimeout(timer);\n    }\n\n    el.removeEventListener('mousemove', tracker, false);\n\n    if (state === 1) {\n      timer = setTimeout(function() {\n        delay(el, e);\n      }, options.timeout);\n    }\n\n    return this;\n  }\n\n  /**\n   * Newly added method,\n   * A wrapper around dispatchOut to support dynamically added elements to dom\n   */\n  function onMouseOut(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      dispatchOut(event.target.closest(selector), event);\n    }\n  };\n\n  function dispatchFocus(el, e) {\n    if (!mouseOver) {\n      focused = true;\n      onOver(el, e);\n    }\n  }\n\n  /**\n   * Newly added method,\n   * A wrapper around dispatchFocus to support dynamically added elements to dom\n   */\n  function onFocus(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      dispatchFocus(event.target.closest(selector), event);\n    }\n  };\n\n  function dispatchBlur(el, e) {\n    if (!mouseOver && focused) {\n      focused = false;\n      onOut(el, e);\n    }\n  }\n\n  /**\n   * Newly added method,\n   * A wrapper around dispatchBlur to support dynamically added elements to dom\n   */\n  function onBlur(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      dispatchBlur(event.target.closest(selector), event);\n    }\n  };\n\n  /**\n   * Modified to support dynamically added element\n   */\n  function addFocus() {\n    parent.addEventListener('focus', onFocus, false);\n    parent.addEventListener('blur', onBlur, false);\n  }\n\n  /**\n   * Modified to support dynamically added element\n   */\n  function removeFocus() {\n    parent.removeEventListener('focus', onFocus, false);\n    parent.removeEventListener('blur', onBlur, false);\n  }\n\n  /**\n   * Modified to support dynamically added element\n   */\n  h.remove = function() {\n    if (!parent) {\n      return;\n    }\n\n    parent.removeEventListener('mouseover', onMouseOver, false);\n    parent.removeEventListener('mouseout', onMouseOut, false);\n    removeFocus();\n  };\n\n  /**\n   * Modified to support dynamically added element\n   */\n  if (parent) {\n    parent.addEventListener('mouseover', onMouseOver, false);\n    parent.addEventListener('mouseout', onMouseOut, false);\n  }\n\n  return h;\n};\n","/**\n * Detect memory exhaustion and show warning.\n */\nexport default class WpstgDetectMemoryExhaust {\n  constructor(\n      wpstgObject = wpstg,\n  ) {\n    this.wpstgObject = wpstgObject;\n  }\n\n  async sendRequest(requestType) {\n    try {\n      const response = await fetch(this.wpstgObject.ajaxUrl, {\n        method: 'POST',\n        credentials: 'same-origin',\n        body: new URLSearchParams({\n          action: 'wpstg--detect-memory-exhaust',\n          requestType: requestType,\n          accessToken: this.wpstgObject.accessToken,\n          nonce: this.wpstgObject.nonce,\n        }),\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n        },\n      });\n\n      const data = await response.json();\n\n      if ('undefined' !== typeof (data.status) && data.status && data.error) {\n        return data;\n      }\n\n      console.warn(data.message);\n    } catch (error) {\n      console.warn(this.wpstgObject.i18n['somethingWentWrong'], error);\n    }\n\n    return false;\n  }\n}\n","import wpstgHoverIntent from './modules/wpstg-hover-intent';\nimport WpstgDetectMemoryExhaust from './modules/wpstg-detect-memory-exhaust.js';\n\nexport default (function($) {\n  const WPStagingCommon = {\n    continueErrorHandle: true,\n    retry: {\n      currentDelay: 0,\n      count: 0,\n      max: wpstg.maxFailedRetries,\n      retryOnErrors: [401, 403, 404, 429, 502, 503, 504],\n      performingRequest: false,\n      incrementRetry: function(incrementRatio = 1.25) {\n        WPStagingCommon.retry.performingRequest = true;\n        if (WPStagingCommon.retry.currentDelay === 0) {\n          // start with a delay of 1sec\n          WPStagingCommon.retry.currentDelay = 1000;\n          WPStagingCommon.retry.count = 1;\n        }\n\n        WPStagingCommon.retry.currentDelay += (500 * WPStagingCommon.retry.count * incrementRatio);\n        WPStagingCommon.retry.count++;\n      },\n      canRetry: function() {\n        return WPStagingCommon.retry.count < WPStagingCommon.retry.max;\n      },\n      reset: function() {\n        WPStagingCommon.retry.currentDelay = 0;\n        WPStagingCommon.retry.count = 0;\n        WPStagingCommon.retry.performingRequest = false;\n      },\n    },\n    memoryExhaustArticleLink: 'https://wp-staging.com/docs/php-fatal-error-allowed-memory-size-of-134217728-bytes-exhausted/',\n    cache: {\n      elements: [],\n      get: function(selector) {\n        // It is already cached!\n        if ($.inArray(selector, this.elements) !== -1) {\n          return this.elements[selector];\n        }\n\n        // Create cache and return\n        this.elements[selector] = $(selector);\n\n        return this.elements[selector];\n      },\n      refresh: function(selector) {\n        selector.elements[selector] = $(selector);\n      },\n    },\n    setJobId: function(jobId) {\n      localStorage.setItem('jobIdBeingProcessed', jobId);\n    },\n    getJobId: function() {\n      return localStorage.getItem('jobIdBeingProcessed');\n    },\n    async checkMemoryExhaustion(requestType) {\n      const detectMemoryExhaust = new WpstgDetectMemoryExhaust();\n      const response = await detectMemoryExhaust.sendRequest(requestType);\n\n      if (!response) {\n        return false;\n      }\n\n      return response;\n\n      response.messages = [{\n        'type': 'critical',\n        'date': result.data['time'],\n        'message': result.message + '. Read <a target=\"_blank\" href=\"' + WPStagingCommon.memoryExhaustArticleLink + '\">this article</a> for solving this issue. Please contact WP Staging support if you need further assistance.',\n      }];\n\n      WPStagingBackup.processResponse(response);\n\n      return true;\n    },\n    listenTooltip: function() {\n      wpstgHoverIntent(document, '.wpstg--tooltip', function(target, event) {\n        target.querySelector('.wpstg--tooltiptext').style.visibility = 'visible';\n      }, function(target, event) {\n        if (!event.target.closest('.wpstg--tooltiptext a')) {\n          target.querySelector('.wpstg--tooltiptext').style.visibility = 'hidden';\n        }\n      });\n    },\n    // Get the custom themed Swal Modal for WP Staging\n    // Easy to maintain now in one place now\n    getSwalModal: function(isContentCentered = false, customClasses = {}) {\n      // common style for all swal modal used in WP Staging\n      const defaultCustomClasses = {\n        confirmButton: 'wpstg--btn--confirm wpstg-blue-primary wpstg-button wpstg-link-btn wpstg-100-width',\n        cancelButton: 'wpstg--btn--cancel wpstg-blue-primary wpstg-link-btn wpstg-100-width',\n        actions: 'wpstg--modal--actions',\n        popup: isContentCentered ? 'wpstg-swal-popup wpstg-centered-modal' : 'wpstg-swal-popup',\n      };\n\n      // If an attribute exists in both default and additional attributes,\n      // The class(es) of the additional attribute will overwrite the default one.\n      const options = {\n        customClass: Object.assign(defaultCustomClasses, customClasses),\n        buttonsStyling: false,\n        reverseButtons: true,\n        showClass: {\n          popup: 'wpstg--swal2-show wpstg-swal-show',\n        },\n      };\n\n      return wpstgSwal.mixin(options);\n    },\n    showSuccessModal: function(htmlContent) {\n      this.getSwalModal().fire({\n        showConfirmButton: false,\n        showCancelButton: true,\n        cancelButtonText: 'OK',\n        icon: 'success',\n        title: 'Success!',\n        html: '<div class=\"wpstg--grey\" style=\"text-align: left; margin-top: 8px;\">' + htmlContent + '</div>',\n      });\n    },\n    showWarningModal: function(htmlContent) {\n      this.getSwalModal().fire({\n        showConfirmButton: false,\n        showCancelButton: true,\n        cancelButtonText: 'OK',\n        icon: 'warning',\n        title: '',\n        html: '<div class=\"wpstg--grey\" style=\"text-align: left; margin-top: 8px;\">' + htmlContent + '</div>',\n      });\n    },\n    showErrorModal: function(htmlContent) {\n      this.getSwalModal().fire({\n        showConfirmButton: false,\n        showCancelButton: true,\n        cancelButtonText: 'OK',\n        icon: 'error',\n        title: 'Error!',\n        html: '<div class=\"wpstg--grey\" style=\"text-align: left; margin-top: 8px;\">' + htmlContent + '</div>',\n      });\n    },\n    getSwalContainer: function() {\n      return wpstgSwal.getContainer();\n    },\n    closeSwalModal: function() {\n      wpstgSwal.close();\n    },\n    /**\n     * Treats a default response object generated by WordPress's\n     * wp_send_json_success() or wp_send_json_error() functions in\n     * PHP, parses it in JavaScript, and either throws if it's an error,\n     * or returns the data if the response is successful.\n     *\n     * @param {object} response\n     * @return {*}\n     */\n    getDataFromWordPressResponse(response) {\n      if (typeof response !== 'object') {\n        throw new Error('Unexpected response (ERR 1341)');\n      }\n\n      if (!response.hasOwnProperty('success')) {\n        throw new Error('Unexpected response (ERR 1342)');\n      }\n\n      if (!response.hasOwnProperty('data')) {\n        throw new Error('Unexpected response (ERR 1343)');\n      }\n\n      if (response.success === false) {\n        if (response.data instanceof Array && response.data.length > 0) {\n          throw new Error(response.data.shift());\n        } else {\n          throw new Error('Response was not successful');\n        }\n      } else {\n        // Successful response. Return the data.\n        return response.data;\n      }\n    },\n    isLoading: function(isLoading) {\n      if (!isLoading || isLoading === false) {\n        WPStagingCommon.cache.get('.wpstg-loader').hide();\n      } else {\n        WPStagingCommon.cache.get('.wpstg-loader').show();\n      }\n    },\n    /**\n     * Convert the given url to make it slug compatible\n     * @param {string} url\n     * @return {string}\n     */\n    slugify: function(url) {\n      return url.toString()\n          .toLowerCase()\n          .normalize('NFD')\n          .replace(/[\\u0300-\\u036f]/g, '')\n          .replace(/\\s+/g, '-')\n          .replace(/&/g, '-and-')\n          .replace(/[^a-z0-9\\-]/g, '')\n          .replace(/-+/g, '-')\n          .replace(/^-*/, '')\n          .replace(/-*$/, '')\n      ;\n    },\n    sanitizeEventAttribute: function(string) {\n      if ( string === null ) {\n        return string;\n      }\n      return string.toString().replace(/(\"|')\\s+on([a-z]+)\\s?=\\s?([a-z0-9\\)\\(\\\"\\';]+)/i, '');\n    },\n    htmlEntityQuotesDecode: function(string) {\n      if ( string === null ) {\n        return string;\n      }\n      return string.toString().replace(/\\\\\"/g, '&quot;').replace(/\\\\'/g, '&#039');\n    },\n    showAjaxFatalError: function(response, prependMessage, appendMessage) {\n      prependMessage = prependMessage ? prependMessage + '<br/><br/>' : 'Something went wrong! <br/><br/>';\n      appendMessage = appendMessage ? appendMessage + '<br/><br/>' : '<br/><br/>Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.';\n\n      if (response === false) {\n        WPStagingCommon.showError(prependMessage + ' Error: No response.' + appendMessage);\n        window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n        return;\n      }\n\n      if (typeof response.error !== 'undefined' && response.error) {\n        WPStagingCommon.showError(prependMessage + ' Error: ' + response.message + appendMessage);\n        window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n        return;\n      }\n    },\n    handleFetchErrors: function(response) {\n      if (!response.ok) {\n        WPStagingCommon.showError('Error: ' + response.status + ' - ' + response.statusText + '. Please try again or contact support.');\n      }\n      return response;\n    },\n    showError: function(message) {\n      // If retry request no need to show Error;\n      if (WPStagingCommon.retry.performingRequest) {\n        return;\n      }\n\n      WPStagingCommon.cache.get('#wpstg-try-again').css('display', 'inline-block');\n      WPStagingCommon.cache.get('#wpstg-cancel-cloning').text('Reset');\n      WPStagingCommon.cache.get('#wpstg-resume-cloning').show();\n      WPStagingCommon.cache.get('#wpstg-error-wrapper').show();\n      WPStagingCommon.cache.get('#wpstg-error-details').show().html(message);\n      WPStagingCommon.cache.get('#wpstg-removing-clone').removeClass('loading');\n      WPStagingCommon.cache.get('.wpstg-loader').hide();\n      $('.wpstg--modal--process--generic-problem').show().html(message);\n    },\n    resetErrors: function() {\n      WPStagingCommon.cache.get('#wpstg-error-details').hide().html('');\n    },\n    /**\n     * Ajax Requests\n     * @param {Object} data\n     * @param {Function} callback\n     * @param {string} dataType\n     * @param {bool} showErrors\n     * @param {int} tryCount\n     * @param {float} incrementRatio\n     * @param {function} errorCallback\n     */\n    ajax: function(data, callback, dataType, showErrors, tryCount, incrementRatio = null, errorCallback = null) {\n      if ('undefined' === typeof (dataType)) {\n        dataType = 'json';\n      }\n\n      if (false !== showErrors) {\n        showErrors = true;\n      }\n\n      tryCount = 'undefined' === typeof (tryCount) ? 0 : tryCount;\n\n      const retryLimit = wpstg.maxFailedRetries;\n\n      let retryTimeout = 10000 * tryCount;\n\n      incrementRatio = parseInt(incrementRatio);\n      if (!isNaN(incrementRatio)) {\n        retryTimeout *= incrementRatio;\n      }\n\n      $.ajax({\n        url: ajaxurl + '?action=wpstg_processing&_=' + (Date.now() / 1000),\n        type: 'POST',\n        dataType: dataType,\n        cache: false,\n        data: data,\n        error: function(xhr, textStatus, errorThrown) {\n          console.log(xhr.status + ' ' + xhr.statusText + '---' + textStatus);\n\n          if (typeof (errorCallback) === 'function') {\n            // Custom error handler\n            errorCallback(xhr, textStatus, errorThrown);\n\n            if (!WPStagingCommon.continueErrorHandle) {\n              // Reset state\n              WPStagingCommon.continueErrorHandle = true;\n\n              return;\n            }\n          }\n\n          // Default error handler\n          tryCount++;\n          if (tryCount <= retryLimit) {\n            setTimeout(function() {\n              WPStagingCommon.ajax(data, callback, dataType, showErrors, tryCount, incrementRatio);\n              return;\n            }, retryTimeout);\n          } else {\n            const errorCode = 'undefined' === typeof (xhr.status) ? 'Unknown' : xhr.status;\n            WPStagingCommon.showError(\n                'Fatal Error:  ' + errorCode + ' Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.',\n            );\n          }\n        },\n        success: function(data) {\n          if ('function' === typeof (callback)) {\n            callback(data);\n          }\n        },\n        statusCode: {\n          404: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Error 404 - Can\\'t find ajax request URL! Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.');\n            }\n          },\n          500: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Fatal Error 500 - Internal server error while processing the request! Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.');\n            }\n          },\n          504: function() {\n            if (tryCount > retryLimit) {\n              WPStagingCommon.showError('Error 504 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.\\n\\ ');\n            }\n          },\n          502: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Error 502 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.\\n\\ ');\n            }\n          },\n          503: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Error 503 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.\\n\\ ');\n            }\n          },\n          429: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Error 429 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.\\n\\ ');\n            }\n          },\n          403: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Refresh page or login again! The process should be finished successfully. \\n\\ ');\n            }\n          },\n        },\n      });\n    },\n  };\n\n  return WPStagingCommon;\n})(jQuery);\n","import {closest} from './wpstg-polyfill';\nimport WPStagingCommon from '../wpstg.js';\n\n/**\n * WP STAGING basic jQuery replacement\n */\n\n/**\n * Shortcut for document.querySelector() or jQuery's $()\n * Return single element only\n */\nexport function qs(selector) {\n  return document.querySelector(selector);\n}\n\n/**\n * Shortcut for document.querySelector() or jQuery's $()\n * Return collection of elements\n */\nexport function all(selector) {\n  return document.querySelectorAll(selector);\n}\n\n/**\n * alternative of jQuery - $(parent).on(event, selector, handler)\n */\nexport function addEvent(parent, evt, selector, handler) {\n  if (!parent instanceof Element) {\n    return;\n  }\n\n  parent.addEventListener(evt, function(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      handler(event.target.closest(selector), event);\n    }\n  }, false);\n}\n\nexport function slideDown(element, duration = 400) {\n  element.style.display = 'block';\n  element.style.overflow = 'hidden';\n  const height = element.offsetHeight;\n  element.style.height = '0px';\n  element.style.transitionProperty = 'height';\n  element.style.transitionDuration = duration + 'ms';\n  setTimeout(() => {\n    element.style.height = height + 'px';\n    window.setTimeout(() => {\n      element.style.removeProperty('height');\n      element.style.removeProperty('overflow');\n      element.style.removeProperty('transition-duration');\n      element.style.removeProperty('transition-property');\n    }, duration);\n  }, 0);\n}\n\nexport function slideUp(element, duration = 400) {\n  element.style.display = 'block';\n  element.style.overflow = 'hidden';\n  const height = element.offsetHeight;\n  element.style.height = height + 'px';\n  element.style.transitionProperty = 'height';\n  element.style.transitionDuration = duration + 'ms';\n  setTimeout(() => {\n    element.style.height = '0px';\n    window.setTimeout(() => {\n      element.style.display = 'none';\n      element.style.removeProperty('height');\n      element.style.removeProperty('overflow');\n      element.style.removeProperty('transition-duration');\n      element.style.removeProperty('transition-property');\n    }, duration);\n  }, 0);\n}\n\nexport function fadeOut(element, duration = 300) {\n  element.style.opacity = 1;\n  element.style.transitionProperty = 'opacity';\n  element.style.transitionDuration = duration + 'ms';\n  setTimeout(() => {\n    element.style.opacity = 0;\n    window.setTimeout(() => {\n      element.style.display = 'none';\n      element.style.removeProperty('opacity');\n      element.style.removeProperty('transition-duration');\n      element.style.removeProperty('transition-property');\n    }, duration);\n  }, 0);\n}\n\nexport function getNextSibling(element, selector) {\n  let sibling = element.nextElementSibling;\n\n  while (sibling) {\n    if (sibling.matches(selector)) {\n      return sibling;\n    }\n\n    sibling = sibling.nextElementSibling;\n  }\n};\n\nexport function getPreviousSibling(element, selector) {\n  let sibling = element.previousElementSibling;\n\n  while (sibling) {\n    if (sibling.matches(selector)) {\n      return sibling;\n    }\n\n    sibling = sibling.previousElementSibling;\n  }\n}\n\nexport function getParents(element, selector) {\n  const result = [];\n  for (let parent = element && element.parentElement; parent; parent = parent.parentElement) {\n    if (parent.matches(selector)) {\n      result.push(parent);\n    }\n  }\n\n  return result;\n}\n\n/**\n * Check if element has class name\n * @param element\n * @param className\n * @return {boolean}\n */\nexport function hasClass(element, className) {\n  return (' ' + element.className + ' ').indexOf(' ' + className+ ' ') > -1;\n}\n\n/**\n * Dispatches a change on an element that will trigger, depending on the element type,\n * cascading changes on elements dependant on the one that triggered the change and that\n * belong in the same container.\n *\n * @param {Element} element A reference to the Element the change was triggered from.\n *\n * @return {void} The function does not return any value and will have the side-effect of\n *                hiding or showing dependant elements.\n */\nexport function handleDisplayDependencies(element) {\n  if (!element instanceof Element || !element.id) {\n    return;\n  }\n\n  const containerSelector = '.wpstg-container';\n  // Use the default WordPress CSS class to hide and show the objects.\n  const hiddenClass = 'hidden';\n  const elementType = element.getAttribute('type');\n\n  switch (elementType) {\n    case 'checkbox':\n      // Go as high as the container that contains this element.\n      const container = closest(element, containerSelector);\n\n      if (container === null) {\n        return;\n      }\n\n      const showIfChecked = container.querySelectorAll(`[data-show-if-checked=\"${element.id}\"]`);\n      const showIfUnchecked = container.querySelectorAll(`[data-show-if-unchecked=\"${element.id}\"]`);\n      const checked = element.checked;\n\n      if (showIfChecked.length) {\n        for (const el of showIfChecked) {\n          if (checked) {\n            el.classList.remove(hiddenClass);\n          } else {\n            el.classList.add(hiddenClass);\n          }\n        }\n      }\n\n      if (showIfUnchecked.length) {\n        for (const el of showIfUnchecked) {\n          if (checked) {\n            el.classList.add(hiddenClass);\n          } else {\n            el.classList.remove(hiddenClass);\n          }\n        }\n      }\n\n      return;\n    default:\n      // Not a type we handle.\n      return;\n  }\n}\n\n/**\n * Initializes the display status of any element that depends on the status of another to\n * either hide or show.\n *\n * @return {void} The function will have the side-effect to toggle the hide/show class from\n *                elements dependant on another to hide or show.\n */\nexport function initDependantDisplay() {\n  const displayControllerSelector = '[onchange^=\"WPStaging.handleDisplayDependencies\"]';\n  const displayControllers = document.querySelectorAll(displayControllerSelector);\n  for (const displayController of displayControllers) {\n    handleDisplayDependencies(displayController);\n  }\n}\n\n/**\n * Toggle target element set in data-wpstg-target of the given element\n *\n * @param {Element} element A reference to the Element the change was triggered from.\n *\n * @return {void} The function does not return any value and will have the side-effect of\n *                hiding or showing dependant elements.\n */\nexport function handleToggleElement(element) {\n  if (!element instanceof Element || !element.getAttribute('data-wpstg-target')) {\n    return;\n  }\n\n  const containerSelector = '.wpstg_admin';\n  // Use the default WordPress CSS class to hide and show the objects.\n  const hiddenClass = 'hidden';\n\n  // Go as high as the container that contains this element.\n  const container = closest(element, containerSelector);\n\n  if (container === null) {\n    return;\n  }\n\n  const elements = container.querySelectorAll(element.getAttribute('data-wpstg-target'));\n\n  if (elements.length) {\n    for (const el of elements) {\n      el.classList.toggle(hiddenClass);\n    }\n  }\n}\n\n/**\n * Copy text in data-wpstg-copy to element(s) in data-wpstg-target\n *\n * @param {Element} element\n *\n * @return {void}\n */\nexport function handleCopyPaste(element) {\n  if (!element instanceof Element || !element.getAttribute('data-wpstg-target') || !element.getAttribute('data-wpstg-copy')) {\n    return;\n  }\n\n  const containerSelector = '.wpstg_admin';\n\n  // Go as high as the container that contains this element.\n  const container = closest(element, containerSelector);\n\n  if (container === null) {\n    return;\n  }\n\n  navigator.clipboard.writeText(element.getAttribute('data-wpstg-copy'));\n  const elements = container.querySelectorAll(element.getAttribute('data-wpstg-target'));\n\n  if (elements.length) {\n    for (const el of elements) {\n      el.value = element.getAttribute('data-wpstg-copy', '');\n    }\n  }\n}\n\n/**\n * Copy text in data-wpstg-source to clipboard\n *\n * @param {Element} element\n *\n * @return {void}\n */\nexport function handleCopyToClipboard(element) {\n  if (!element instanceof Element || !element.getAttribute('data-wpstg-source')) {\n    return;\n  }\n\n  const containerSelector = '.wpstg_admin';\n\n  // Go as high as the container that contains this element.\n  const container = closest(element, containerSelector);\n\n  if (container === null) {\n    return;\n  }\n\n  const el = container.querySelector(element.getAttribute('data-wpstg-source'));\n\n  if (el) {\n    navigator.clipboard.writeText(el.value);\n  }\n}\n\n/**\n * A confirmation modal\n *\n * @param title\n * @param html\n * @param confirmText\n * @param confirmButtonClass\n * @return Promise\n */\nexport function confirmModal(title, html, confirmText, confirmButtonClass) {\n  return WPStagingCommon.getSwalModal(false, {\n    container: 'wpstg-swal-push-container',\n    confirmButton: confirmButtonClass + ' wpstg--btn--confirm wpstg-blue-primary wpstg-button wpstg-link-btn',\n  }).fire({\n    title: title,\n    icon: 'warning',\n    html: html,\n    width: '750px',\n    focusConfirm: false,\n    confirmButtonText: confirmText,\n    showCancelButton: true,\n  });\n};\n/**\n * @param className\n * @param callback\n */\nexport function setClickHandlerByClass(className, callback) {\n  const elements = document.querySelectorAll(`.${className}`);\n\n  if (elements.length) {\n    elements.forEach((element) => {\n      element.addEventListener('click', callback);\n    });\n  } else {\n    console.warn(`No elements found with class: ${className}`);\n  }\n};\n\n/**\n * Initializes a module using a MutationObserver.\n *\n * @param {string} selector - The CSS selector for the target element.\n * @param {function} ModuleConstructor - The constructor function of the module to be initialized.\n *\n * @todo Unused, consider removing this in the future\n */\nexport function initializeModuleWithObserver(selector, ModuleConstructor) {\n  const observer = new MutationObserver(function(mutationsList, observer) {\n    const targetElement = document.querySelector(selector);\n    if (targetElement !== null) {\n      new ModuleConstructor();\n      observer.disconnect();\n    }\n  });\n  observer.observe(document.documentElement, {childList: true, subtree: true});\n};\n\n/**\n * Checks if a modal specified by the given selector is available in the DOM.\n * If the modal is available, it waits for a delay and then initializes the Module.\n * If the modal is not yet available, it recursively checks after a brief interval.\n *\n * @param {string} selector - CSS selector for the element to search for.\n * @param {function} Module - Constructor function to create an instance of the module.\n *\n * @todo Unused, consider removing this in the future\n */\nexport function initializeModuleDelayedIfElementIsAvailable(selector, Module) {\n  const element = document.querySelector(selector);\n  if (element) {\n    setTimeout(() => {\n      new Module();\n    }, 1000);\n  } else {\n    setTimeout(() => initializeModuleDelayedIfElementIsAvailable(selector, Module), 10);\n  }\n};\n\n/**\n * Hides elements in the DOM that match the given selector by setting their display style to 'none'.\n *\n * @param {string} selector - CSS selector for the elements to be hidden.\n * @return {void}\n */\nexport function hide(selector) {\n  const elements = document.querySelectorAll(selector);\n  elements.forEach((element) => {\n    element.style.display = 'none';\n  });\n};\n\n/**\n * Displays elements in the DOM that match the given selector by setting their display style to 'block'.\n *\n * @param {string} selector - CSS selector for the elements to be displayed.\n * @return {void}\n */\nexport function show(selector) {\n  const elements = document.querySelectorAll(selector);\n  elements.forEach((element) => {\n    element.style.display = 'block';\n  });\n}\n\n/**\n *\n * @param e\n */\nexport function copyTextToClipboard(e) {\n  const dataCopyContent = e.target.getAttribute('data-copy-content');\n  if (dataCopyContent) {\n    navigator.clipboard.writeText(dataCopyContent).then(() => {\n      notify('success', 'Copied to clipboard');\n    }).catch((err) => {\n      notify('error', 'Unable to copy to clipboard', err);\n    });\n  }\n}\n\n/**\n * Displays a notification message\n *\n * @param type\n * @param message\n */\nexport function notify(type, message) {\n  const notyf = new Notyf({\n    duration: 6000,\n    position: {\n      x: 'center',\n      y: 'bottom',\n    },\n    dismissible: true,\n    types: [\n      {\n        type: 'warning',\n        background: 'orange',\n        icon: true,\n      },\n    ],\n  });\n  notyf.open({type: type, message: message});\n}\n\n/**\n * Checks if an element is null, undefined, or empty (for strings or arrays)\n *\n * @param element\n * @return {boolean}\n */\nexport function checkIfElementNullOrUndefinedOrEmpty(element) {\n  if (element === null || element === undefined) {\n    return true;\n  }\n\n  if (typeof element === 'string' && element.trim() === '') {\n    return true;\n  }\n\n  if (Array.isArray(element) && element.length === 0) {\n    return true;\n  }\n\n  return false;\n}\n\n/**\n * @param visibility\n * @return {void}\n */\nexport function showLoadingBar(visibility = 'visible') {\n  const loader = document.querySelectorAll('.wpstg-loading-bar-container');\n  loader.forEach(function(element) {\n    if (element) {\n      element.style.visibility = visibility;\n    }\n  });\n}\n\nexport function isElementChecked(selector) {\n  const element = qs(selector);\n  if (!element) {\n    return false;\n  }\n\n  return element.checked;\n}\n\nexport function getInputValue(selector, defaultValue = '') {\n  const element = qs(selector);\n  if (!element) {\n    return defaultValue;\n  }\n\n  return element.value;\n}\n\n/**\n * @param visibility\n * @return {void}\n */\nexport function loadingPlaceholder(visibility = 'visible') {\n  const loader = all('.wpstg-loading-placeholder-container');\n  loader.forEach(function(element) {\n    if (element) {\n      element.style.visibility = visibility;\n    }\n  });\n\n  setTimeout(() => {\n    loader.forEach(function(element) {\n      if (element && element.style.visibility === 'visible') {\n        element.style.visibility = 'hidden';\n      }\n    });\n\n    hideLoadingBar();\n  }, 5000);\n\n  const container = qs('.wpstg--tab--contents');\n\n  if (visibility === 'visible') {\n    showLoadingBar();\n    container && (container.style.overflow = 'hidden');\n    return;\n  }\n\n  hideLoadingBar();\n  container && (container.style.overflow = 'unset');\n}\n\n/**\n * @return {string|null}\n */\nexport function getActivePage() {\n  return (window.location.search.match(/[\\?&]page=([^&]*)/) || [])[1] || null;\n}\n\n/**\n *\n * @param container\n * @return {Promise<void>}\n */\nexport async function setLoadingPlaceholder(container = '') {\n  if (container === '') {\n    container = qs('.wpstg--tab--contents');\n  }\n\n  if (container === null) {\n    return;\n  }\n\n  const loadingPlaceholderContainer = container.querySelector('.wpstg-loading-placeholder-container');\n  const loadingWrapper = loadingPlaceholderContainer.querySelector('.wpstg-dom-loading-wrapper');\n\n  if (!loadingWrapper) {\n    return;\n  }\n\n  if (loadingWrapper.offsetHeight !== container.offsetHeight) {\n    const loadingLines = loadingWrapper.querySelectorAll('.wpstg-loading-lines-bar');\n    loadingLines.forEach((line) => line.remove());\n\n    loadingWrapper.querySelector('.wpstg-loading-line')?.remove();\n    loadingWrapper.querySelector('.wpstg-loading-last-line-bar')?.remove();\n    do {\n      loadingWrapper.insertAdjacentHTML('beforeend', '<div class=\"wpstg-loading-lines-bar\"></div>');\n      await new Promise((resolve) => setTimeout(resolve, 0));\n    } while (loadingWrapper.offsetHeight <= (container.offsetHeight -40));\n\n    loadingWrapper.firstElementChild?.classList.add('wpstg-loading-first-line-bar');\n    loadingWrapper.lastElementChild?.classList.add('wpstg-loading-last-line-bar');\n  }\n\n  await new Promise((resolve) => setTimeout(resolve, 0));\n}\n\n/**\n * Normalizes a URL path and appends a slug to it, ensuring there are no consecutive slashes.\n * @param path {string}\n * @param slug {string}\n * @return {string}\n */\nexport function normalizeAndAppendSlug(path, slug) {\n  let normalizedPath = path.replace(/\\/+$/g, '');\n  normalizedPath += '/' + slug + '/';\n  return normalizedPath.replace(/\\/+/g, '/');\n}\n\n/**\n * @param selector\n */\nexport function beautifyBackupCards(selector = '') {\n  if (selector === null || !selector) {\n    selector = document;\n  }\n\n  const corruptedBackups = selector.querySelector('.wpstg-corrupted-backup');\n  if (corruptedBackups) {\n    const backupCards = document.querySelectorAll('.wpstg-clone.wpstg-backup');\n    backupCards.forEach((container) => {\n      container.classList.add('wpstg-corrupted-backups-min-height');\n    });\n  }\n\n  const multiPartBackups = selector.querySelector('.invalid-backup-tabs');\n  const automatedBackups = selector.querySelector('.wpstg-automated-backup');\n  if ((automatedBackups || multiPartBackups) && !corruptedBackups) {\n    const backupCards = document.querySelectorAll('.wpstg-clone.wpstg-backup');\n    backupCards.forEach((container) => {\n      container.classList.add('wpstg-multiparts-backups-min-height');\n    });\n  }\n}\n\n/**\n * @param filePath\n * @return {string}\n */\nexport function extractFileName(filePath = '') {\n  if (filePath === '') {\n    return '';\n  }\n\n  return filePath.split('/').pop();\n}\n\n/**\n * @return {void}\n */\nexport function hideLoadingBar() {\n  const loader = document.querySelectorAll('.wpstg-loading-bar-container');\n  loader.forEach(function(element) {\n    if (element) {\n      element.style.visibility = 'hidden';\n    }\n  });\n}\n","import * as dom from './wpstg-dom-utils.js';\n\n/**\n * Handle toggle of contact us modal\n */\n\nexport default class WpstgContactUs {\n  constructor(modalType = 'contact-us', wpstgObject = wpstg) {\n    this.wpstgObject = wpstgObject;\n    this.characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    this.currentDate = new Date();\n    this.modalType = modalType;\n    this.init();\n  }\n\n  init() {\n    this.contactUsModal = '#wpstg-' + this.modalType + '-modal';\n    this.askInTheForumForm = this.contactUsModal + ' #wpstg-' + this.modalType + '-report-issue-form';\n    this.contactUsSuccessPopup = this.contactUsModal + ' #wpstg-' + this.modalType + '-success-form';\n    this.contactUsLoader = this.contactUsModal + ' #wpstg-' + this.modalType + '-report-issue-loader';\n    this.contactUsSupport = this.contactUsModal + ' #wpstg-' + this.modalType + '-support-forum';\n    this.contactUsButton = document.querySelector('#wpstg-' + this.modalType + '-button');\n    this.contactUsButtonBackupTab = document.querySelector('#wpstg--tab--backup  #wpstg-' + this.modalType + '-button');\n    this.reportIssueButton = document.querySelector('#wpstg-contact-us-report-issue');\n    this.successForm = document.querySelector(this.contactUsModal + ' #wpstg-' + this.modalType + '-success-form');\n    this.contactUsReportIssueBtn = document.querySelector(this.contactUsModal + ' #wpstg-' + this.modalType + '-report-issue-btn');\n    this.contactUsCloseButton = document.querySelector(this.contactUsModal + ' #wpstg-modal-close');\n    this.contactUsSuccessPopupClose = document.querySelector(this.contactUsModal + ' #wpstg-' + this.modalType + '-success-modal-close');\n    this.debugCodeCopyButton = document.querySelector(this.contactUsModal + ' #wpstg-' + this.modalType + '-debug-code-copy');\n    this.contactUsResponse = document.querySelector(this.contactUsModal + ' #wpstg-' + this.modalType + '-debug-response');\n    this.contactUsDebugCodeField = document.querySelector(this.contactUsModal + ' #wpstg-' + this.modalType + '-debug-code');\n    this.isDebugWindowOpened = false;\n    this.addEvents();\n    this.notyf = new Notyf({\n      duration: 6000,\n      position: {\n        x: 'center',\n        y: 'bottom',\n      },\n      dismissible: true,\n      types: [\n        {\n          type: 'warning',\n          background: 'orange',\n          icon: true,\n        },\n      ],\n    });\n  }\n\n  addEvents() {\n    document.addEventListener('keydown', (event) => {\n      if (event.key === 'Escape') {\n        dom.hide(this.contactUsModal);\n        dom.hide(this.askInTheForumForm);\n        dom.hide(this.contactUsSuccessPopup);\n        dom.hide(this.contactUsSupport);\n        this.isDebugWindowOpened = false;\n      }\n    });\n    if (this.contactUsButton !== null) {\n      this.contactUsButton.addEventListener('click', () => {\n        dom.show(this.contactUsModal);\n      });\n    }\n    if (this.contactUsButtonBackupTab !== null) {\n      this.contactUsButtonBackupTab.addEventListener('click', () => {\n        dom.show(this.contactUsModal);\n      });\n    }\n    if (this.reportIssueButton !== null) {\n      this.reportIssueButton.addEventListener('click', () => {\n        if (this.isDebugWindowOpened) {\n          dom.hide(this.askInTheForumForm);\n        } else {\n          dom.show(this.askInTheForumForm);\n        }\n\n        this.isDebugWindowOpened = !this.isDebugWindowOpened;\n      });\n    }\n\n    if (this.contactUsReportIssueBtn !== null) {\n      this.contactUsReportIssueBtn.addEventListener('click', () => {\n        this.sendDebugInfo();\n      });\n    }\n\n    if (this.contactUsSuccessPopupClose !== null) {\n      this.contactUsSuccessPopupClose.addEventListener('click', () => {\n        dom.hide(this.contactUsSuccessPopup);\n      });\n    }\n    if (this.contactUsCloseButton !== null) {\n      this.contactUsCloseButton.addEventListener('click', () => {\n        dom.hide(this.contactUsModal);\n        dom.hide(this.contactUsSupport);\n        dom.hide(this.askInTheForumForm);\n        this.isDebugWindowOpened = false;\n      });\n    }\n    if (this.debugCodeCopyButton !== null) {\n      this.debugCodeCopyButton.addEventListener('click', () => {\n        this.copyDebugCode();\n        this.notyf.success('Debug code copied to clipboard');\n      });\n    }\n  }\n\n  copyDebugCode() {\n    this.contactUsDebugCodeField.select();\n    this.contactUsDebugCodeField.setSelectionRange(0, 99999);\n    navigator.clipboard.writeText(this.contactUsDebugCodeField.value);\n  }\n\n  generateDebugCode(length) {\n    let result = '';\n    for ( let i = 0; i < length; i++ ) {\n      result += this.characters.charAt(Math.floor(Math.random() * this.characters.length));\n    }\n\n    return 'wpstg-' + result + '-' + this.currentDate.getHours() + this.currentDate.getMinutes() + this.currentDate.getSeconds();\n  }\n\n  sendDebugInfo() {\n    dom.show(this.contactUsLoader);\n    this.contactUsReportIssueBtn.disabled = true;\n    const debugCode = this.generateDebugCode(8);\n    fetch(this.wpstgObject.ajaxUrl, {\n      method: 'POST',\n      credentials: 'same-origin',\n      body: new URLSearchParams({\n        action: 'wpstg_send_debug_log_report',\n        accessToken: this.wpstgObject.accessToken,\n        nonce: this.wpstgObject.nonce,\n        debugCode: debugCode,\n      }),\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n    }).then((response) => {\n      this.contactUsReportIssueBtn.disabled = false;\n      if (response.ok) {\n        return response.json();\n      }\n    }).then((data) => {\n      if (data.response && data.response.sent === true) {\n        this.contactUsDebugCodeField.value = debugCode;\n        dom.show(this.contactUsSuccessPopup);\n        window.debugCode = debugCode;\n      } else {\n        this.contactUsDebugCodeField.value = (window.debugCode === undefined) ? debugCode: window.debugCode;\n        dom.show(this.contactUsSuccessPopup);\n      }\n\n      dom.hide(this.contactUsLoader);\n    }).catch((error) => {\n      dom.hide(this.contactUsLoader);\n      dom.show(this.contactUsSupport);\n      console.warn(this.wpstgObject.i18n['somethingWentWrong'], error);\n    });\n  }\n}\n","import * as dom from './wpstg-dom-utils.js';\nimport WpstgContactUs from './wpstg-contact-us';\n\n/**\n * Enable/Disable cloning for staging site\n */\nexport default class WpstgCloneStaging {\n  constructor(\n      pageWrapperId = '#wpstg-clonepage-wrapper',\n      wpstgObject = wpstg,\n  ) {\n    this.pageWrapper = dom.qs(pageWrapperId);\n    this.wpstgObject = wpstgObject;\n    this.enableButtonId = '#wpstg-enable-staging-cloning';\n    this.enableAction = 'wpstg_enable_staging_cloning';\n\n    this.notyf = new Notyf({\n      duration: 10000,\n      position: {\n        x: 'center',\n        y: 'bottom',\n      },\n      dismissible: true,\n      types: [\n        {\n          type: 'warning',\n          background: 'orange',\n          icon: false,\n        },\n      ],\n    });\n    this.init();\n  }\n\n  addEvents() {\n    if (this.pageWrapper === null) {\n      return;\n    }\n\n    dom.addEvent(this.pageWrapper, 'click', this.enableButtonId, () => {\n      this.sendRequest(this.enableAction);\n    });\n  }\n\n  init() {\n    this.addEvents();\n  }\n\n  sendRequest(action) {\n    fetch(this.wpstgObject.ajaxUrl, {\n      method: 'POST',\n      credentials: 'same-origin',\n      body: new URLSearchParams({\n        action: action,\n        accessToken: this.wpstgObject.accessToken,\n        nonce: this.wpstgObject.nonce,\n      }),\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n    }).then((response) => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      return Promise.reject(response);\n    }).then((data) => {\n      // Reload current page if successful.\n      if ('undefined' !== typeof (data.success) && data.success) {\n        location.reload();\n        return;\n      }\n\n      // There will be message probably in case of error\n      if ('undefined' !== typeof (data.message)) {\n        this.notyf.error(data.message);\n        return;\n      }\n\n      this.notyf.error(this.wpstgObject.i18n['somethingWentWrong']);\n    }).catch((error) => {\n      console.warn(this.wpstgObject.i18n['somethingWentWrong'], error);\n    });\n  }\n}\n","import * as dom from './wpstg-dom-utils.js';\nimport wpstg from '../wpstg.js';\n\n/**\n * Fetch directory direct child directories\n */\nexport default class WpstgDirectoryNavigation {\n  constructor(\n      directoryListingSelector = '#wpstg-directories-listing',\n      wpstgObject = wpstg,\n      notyf = null,\n  ) {\n    this.directoryListingContainer = dom.qs(directoryListingSelector);\n    this.wpstgObject = wpstgObject;\n    this.dirCheckboxSelector = '.wpstg-check-dir';\n    this.dirExpandSelector = '.wpstg-expand-dirs';\n    this.unselectAllDirsSelector = '.wpstg-unselect-dirs';\n    this.selectDefaultDirsSelector = '.wpstg-select-dirs-default';\n    this.fetchChildrenAction = 'wpstg_fetch_dir_children';\n    this.currentCheckboxElement = null;\n    this.currentParentDiv = null;\n    this.currentLoader = null;\n    this.existingExcludes = [];\n    this.excludedDirectories = [];\n    this.isDefaultSelected = false;\n    this.notyf = notyf;\n\n    this.init();\n  }\n\n  addEvents() {\n    if (this.directoryListingContainer === null) {\n      console.log('Error: Unable to add directory navigation events.');\n      return;\n    }\n\n    dom.addEvent(this.directoryListingContainer, 'change', this.dirCheckboxSelector, (element, event) => {\n      event.preventDefault();\n    });\n\n    dom.addEvent(this.directoryListingContainer, 'click', this.dirExpandSelector, (element, event) => {\n      event.preventDefault();\n      if (this.toggleDirExpand(element)) {\n        this.sendRequest(this.fetchChildrenAction, element);\n      }\n    });\n\n    dom.addEvent(this.directoryListingContainer, 'click', this.unselectAllDirsSelector, () => {\n      this.unselectAll();\n    });\n\n    dom.addEvent(this.directoryListingContainer, 'click', this.selectDefaultDirsSelector, () => {\n      this.selectDefault();\n    });\n\n    dom.addEvent(this.directoryListingContainer, 'click', '.wpstg-expand-dirs', (target, event) => {\n      event.preventDefault();\n      this.toggleDirectoryNavigation(target);\n    });\n\n    dom.addEvent(this.directoryListingContainer, 'change', 'input.wpstg-check-dir', (target) => {\n      this.updateDirectorySelection(target);\n    });\n  }\n\n  init() {\n    this.addEvents();\n    this.parseExcludes();\n  }\n\n  /**\n   * Toggle Dir Expand,\n   * Return true if children aren't fetched\n   * @param {HTMLElement} element\n   * @return {boolean}\n   */\n  toggleDirExpand(element) {\n    this.currentParentDiv = element.parentElement;\n    const checkboxWrapper = dom.getPreviousSibling(element, 'span');\n    this.currentCheckboxElement = checkboxWrapper.querySelector('input[type=\"checkbox\"]');\n    this.currentLoader = this.currentParentDiv.querySelector('.wpstg-is-dir-loading');\n    if (this.currentCheckboxElement.getAttribute('data-navigatable', 'false') === 'false') {\n      return false;\n    }\n\n    if (this.currentCheckboxElement.getAttribute('data-scanned', 'false') === 'false') {\n      return true;\n    }\n\n    return false;\n  }\n\n  sendRequest(action) {\n    if (this.currentLoader !== null) {\n      this.currentLoader.style.display = 'inline-block';\n    }\n\n    const changed = this.currentCheckboxElement.getAttribute('data-changed');\n    const path = this.currentCheckboxElement.getAttribute('data-path');\n    const prefix = this.currentCheckboxElement.getAttribute('data-prefix');\n\n    fetch(this.wpstgObject.ajaxUrl, {\n      method: 'POST',\n      credentials: 'same-origin',\n      body: new URLSearchParams({\n        action: action,\n        accessToken: this.wpstgObject.accessToken,\n        nonce: this.wpstgObject.nonce,\n        dirPath: path,\n        prefix: prefix,\n        isChecked: this.currentCheckboxElement.checked,\n        forceDefault: changed === 'true',\n      }),\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n    }).then((response) => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      return Promise.reject(response);\n    }).then((data) => {\n      if ('undefined' !== typeof (data.success) && data.success) {\n        this.currentCheckboxElement.setAttribute('data-scanned', true);\n        const dirContainer = document.createElement('div');\n        dirContainer.classList.add('wpstg-dir');\n        dirContainer.classList.add('wpstg-subdir');\n        dirContainer.innerHTML = JSON.parse(data.directoryListing);\n        this.currentParentDiv.appendChild(dirContainer);\n        if (this.currentLoader !== null) {\n          this.currentLoader.style.display = 'none';\n        }\n\n        dom.slideDown(dirContainer);\n\n        return;\n      }\n\n      if (this.notyf !== null) {\n        this.notyf.error(this.wpstgObject.i18n['somethingWentWrong']);\n      } else {\n        alert('Error: ' + this.wpstgObject.i18n['somethingWentWrong']);\n      }\n    }).catch((error) => {\n      console.warn(this.wpstgObject.i18n['somethingWentWrong'], error);\n    });\n  }\n\n  getExcludedDirectories() {\n    this.excludedDirectories = [];\n    this.directoryListingContainer.querySelectorAll('.wpstg-dir .wpstg--checkbox-wrapper input:not(:checked)').forEach((element) => {\n      if (!this.isParentExcluded(element.value)) {\n        this.excludedDirectories.push(element.value);\n      }\n    });\n\n    if (!this.existingExcludes) {\n      this.existingExcludes = [];\n    }\n\n    this.existingExcludes.forEach((exclude) => {\n      if (!this.isParentExcluded(exclude) && !this.isScanned(exclude)) {\n        this.excludedDirectories.push(exclude);\n      }\n    });\n\n    return this.excludedDirectories.join(this.wpstgObject.settings?.directorySeparator);\n  }\n\n  /**\n   * @param {string} path\n   * @return {bool}\n   */\n  isParentExcluded(path) {\n    let isParentAlreadyExcluded = false;\n    this.excludedDirectories.forEach((dir) => {\n      if (path.startsWith(dir + '/')) {\n        isParentAlreadyExcluded = true;\n      }\n    });\n\n    return isParentAlreadyExcluded;\n  }\n\n  getExtraDirectoriesRootOnly() {\n    this.getExcludedDirectories();\n    const extraDirectories = [];\n    this.directoryListingContainer.querySelectorAll(':not(.wpstg-subdir)>.wpstg-dir .wpstg--checkbox-wrapper>input.wpstg-wp-non-core-dir:checked').forEach((element) => {\n      extraDirectories.push(element.value);\n    });\n\n    // Check if extra directories text area exists\n    // TODO: remove extraCustomDirectories code if no one require extraCustomDirectories...\n    const extraDirectoriesTextArea = dom.qs('#wpstg_extraDirectories');\n    if (extraDirectoriesTextArea === null || extraDirectoriesTextArea.value === '') {\n      return extraDirectories.join(this.wpstgObject.settings?.directorySeparator);\n    }\n\n    const extraCustomDirectories = extraDirectoriesTextArea.value.split(/\\r?\\n/);\n\n    return extraDirectories.concat(extraCustomDirectories).join(this.wpstgObject.settings.directorySeparator);\n  }\n\n  unselectAll() {\n    this.directoryListingContainer.querySelectorAll('.wpstg-dir .wpstg--checkbox-wrapper input').forEach((element) => {\n      element.checked = false;\n    });\n\n    this.countSelectedFiles();\n  }\n\n  selectDefault() {\n    // unselect all checkboxes\n    this.unselectAll();\n\n    // only select those checkboxes whose class is wpstg-wp-core-dir\n    this.directoryListingContainer.querySelectorAll('.wpstg-dir .wpstg--checkbox-wrapper input.wpstg-wp-core-dir').forEach((element) => {\n      element.checked = true;\n    });\n\n    // then unselect those checkboxes whose parent has wpstg extra checkbox\n    this.directoryListingContainer.querySelectorAll('.wpstg-dir > .wpstg--checkbox-wrapper .wpstg-wp-non-core-dir').forEach((element) => {\n      element.parentElement.querySelectorAll('input.wpstg-wp-core-dir').forEach((element) => {\n        element.checked = false;\n      });\n    });\n\n    this.isDefaultSelected = true;\n\n    this.countSelectedFiles();\n  }\n\n  parseExcludes() {\n    this.existingExcludes = this.directoryListingContainer.getAttribute('data-existing-excludes', []);\n\n    if (typeof this.existingExcludes === 'undefined' || !this.existingExcludes) {\n      this.existingExcludes = [];\n      return;\n    }\n\n    if (this.existingExcludes.length === 0) {\n      this.existingExcludes = [];\n      return;\n    }\n\n    const existingExcludes = this.existingExcludes.split(',');\n    this.existingExcludes = existingExcludes.map((exclude) => {\n      if (exclude.substr(0, 1) === '/') {\n        return exclude.slice(1);\n      }\n\n      return exclude;\n    });\n  }\n\n  isScanned(exclude) {\n    let scanned = false;\n    this.directoryListingContainer.querySelectorAll('.wpstg-dir> .wpstg--checkbox-wrapper>input').forEach((element) => {\n      if (element.value === exclude) {\n        scanned = true;\n      }\n    });\n\n    return scanned;\n  }\n\n  toggleDirectoryNavigation(element) {\n    const checkboxWrapper = dom.getPreviousSibling(element, 'span');\n    const cbElement = checkboxWrapper.querySelector('input[type=\"checkbox\"]');\n    if (cbElement.getAttribute('data-navigatable', 'false') === 'false') {\n      return;\n    }\n\n    if (cbElement.getAttribute('data-scanned', 'false') === 'false') {\n      return;\n    }\n\n    const subDirectories = dom.getNextSibling(checkboxWrapper, '.wpstg-subdir');\n    if (subDirectories.style.display === 'none') {\n      dom.slideDown(subDirectories);\n    } else {\n      dom.slideUp(subDirectories);\n    }\n  }\n\n  updateDirectorySelection(element) {\n    const parent = element.parentElement.parentElement;\n    element.setAttribute('data-changed', 'true');\n    if (element.checked) {\n      dom.getParents(parent.parentElement, '.wpstg-dir').forEach((parElem) => {\n        for (let i = 0; i < parElem.children.length; i++) {\n          if (parElem.children[i].matches('.wpstg--checkbox-wrapper')) {\n            parElem.children[i].children[i].checked = true;\n          }\n        }\n      });\n      parent.parentElement.querySelectorAll('.wpstg-expand-dirs').forEach((x) => {\n        if (x.textContent === 'wp-admin' || x.textContent === 'wp-includes') {\n          return;\n        }\n        x.classList.remove('disabled');\n      });\n      parent.querySelectorAll('.wpstg-subdir .wpstg-check-dir').forEach((x) => {\n        x.checked = true;\n      });\n    } else {\n      parent.querySelectorAll('.wpstg-expand-dirs, .wpstg-check-subdirs').forEach((x) => {\n        x.classList.add('disabled');\n      });\n      parent.querySelectorAll('.wpstg-dir .wpstg-check-dir').forEach((x) => {\n        x.checked = false;\n      });\n    }\n\n    this.countSelectedFiles();\n  }\n\n  countSelectedFiles() {\n    const themesCount = this.directoryListingContainer.querySelectorAll('[data-dir-type=\"theme\"]:checked').length;\n    const pluginsCount = this.directoryListingContainer.querySelectorAll('[data-dir-type=\"plugin\"]:checked').length;\n    const filesCountElement = dom.qs('#wpstg-files-count');\n    if (themesCount === 0 && pluginsCount === 0) {\n      filesCountElement.classList.add('danger');\n      filesCountElement.innerHTML = this.wpstgObject.i18n['noFileSelected'];\n    } else {\n      filesCountElement.classList.remove('danger');\n      filesCountElement.innerHTML = this.wpstgObject.i18n['filesSelected'].replace('{t}', themesCount).replace('{p}', pluginsCount);\n    }\n  }\n}\n","import * as dom from './wpstg-dom-utils.js';\n\n/**\n * Database tables selection\n */\nexport default class WpstgTableSelection {\n  constructor(\n      databaseTableSectionSelector = '#wpstg-scanning-db',\n      workflowSelector = '#wpstg-workflow',\n      networkCloneSelector = '#wpstg_network_clone',\n      inputSelector = '#wpstg_select_tables_cloning',\n      wpstgObject = wpstg,\n  ) {\n    this.databaseTableSection = dom.qs(databaseTableSectionSelector);\n    this.workflow = dom.qs(workflowSelector);\n    this.networkCloneSelector = networkCloneSelector;\n    this.networkCloneCheckbox = dom.qs(networkCloneSelector);\n    this.wpstgObject = wpstgObject;\n    this.isAllTablesChecked = true;\n    this.isMultisite = this.wpstgObject.isMultisite === '1';\n    this.isNetworkClone = false;\n    this.inputSelector = inputSelector;\n    this.input = dom.qs(this.inputSelector);\n\n    this.init();\n  }\n\n  setNetworkClone(isNetworkClone) {\n    this.isNetworkClone = isNetworkClone;\n  }\n\n  addEvents() {\n    if (this.workflow === null) {\n      console.log('Error: database table section is null. Cannot register events');\n      return;\n    }\n\n    dom.addEvent(this.workflow, 'change', this.networkCloneSelector, () => {\n      this.selectDefaultTables();\n    });\n\n    dom.addEvent(this.workflow, 'change', this.inputSelector, () => {\n      this.countSelectedTables();\n    });\n\n    dom.addEvent(this.workflow, 'click', '.wpstg-button-select', (target, event) => {\n      event.preventDefault();\n      this.selectDefaultTables();\n    });\n\n    dom.addEvent(this.workflow, 'click', '.wpstg-button-unselect', (target, event) => {\n      event.preventDefault();\n      this.toggleTableSelection();\n    });\n\n    dom.addEvent(this.workflow, 'click', '.wpstg-button-unselect-wpstg', (target, event) => {\n      event.preventDefault();\n      this.unselectWPSTGTables();\n    });\n  }\n\n  init() {\n    this.addEvents();\n  }\n\n  getRegexPattern() {\n    let pattern = '^' + this.wpstgObject.tblprefix;\n    let isNetwork = false;\n    if (this.networkCloneCheckbox !== undefined && this.networkCloneCheckbox !== null) {\n      isNetwork = this.networkCloneCheckbox.checked;\n    }\n\n    // Force network clone true if set explicitly\n    if (this.isNetworkClone) {\n      isNetwork = true;\n    }\n\n    if (this.isMultisite && !isNetwork) {\n      pattern += '([^0-9])_*';\n    }\n\n    return pattern;\n  }\n\n  selectDefaultTables() {\n    const options = this.databaseTableSection.querySelectorAll('#wpstg_select_tables_cloning .wpstg-db-table');\n    const regexPattern = this.getRegexPattern();\n    options.forEach((option) => {\n      const name = option.getAttribute('name', '');\n      if (name.match(regexPattern)) {\n        option.selected = true;\n      } else {\n        option.selected = false;\n      }\n    });\n\n    this.countSelectedTables();\n  }\n\n  toggleTableSelection() {\n    if (false === this.isAllTablesChecked) {\n      this.databaseTableSection.querySelectorAll('#wpstg_select_tables_cloning .wpstg-db-table').forEach((option) => {\n        option.selected = true;\n      });\n      this.databaseTableSection.querySelector('.wpstg-button-unselect').innerHTML = 'Unselect All';\n      // cache.get('.wpstg-db-table-checkboxes').prop('checked', true);\n      this.isAllTablesChecked = true;\n    } else {\n      this.databaseTableSection.querySelectorAll('#wpstg_select_tables_cloning .wpstg-db-table').forEach((option) => {\n        option.selected = false;\n      });\n      this.databaseTableSection.querySelector('.wpstg-button-unselect').innerHTML = 'Select All';\n      // cache.get('.wpstg-db-table-checkboxes').prop('checked', false);\n      this.isAllTablesChecked = false;\n    }\n\n    this.countSelectedTables();\n  }\n\n  unselectWPSTGTables() {\n    const options = this.databaseTableSection.querySelectorAll('#wpstg_select_tables_cloning .wpstg-db-table');\n    const regexPattern = 'wpstg';\n    options.forEach((option) => {\n      const name = option.getAttribute('name', '');\n      if (name.match(regexPattern) && !name.match(this.wpstgObject.tblprefix +'wpstg_queue')) {\n        option.selected = false;\n      }\n    });\n\n    this.countSelectedTables();\n  }\n\n  getSelectedTablesWithoutPrefix() {\n    const selectedTablesWithoutPrefix = [];\n    const options = this.databaseTableSection.querySelectorAll('#wpstg_select_tables_cloning option:checked');\n    const regexPattern = this.getRegexPattern();\n    options.forEach((option) => {\n      const name = option.getAttribute('name', '');\n      if (!name.match(regexPattern)) {\n        selectedTablesWithoutPrefix.push(option.value);\n      }\n    });\n\n    return selectedTablesWithoutPrefix.join(this.wpstgObject.settings.directorySeparator);\n  }\n\n  getIncludedTables() {\n    const includedTables = [];\n    const options = this.databaseTableSection.querySelectorAll('#wpstg_select_tables_cloning option:checked');\n    const regexPattern = this.getRegexPattern();\n    options.forEach((option) => {\n      const name = option.getAttribute('name', '');\n      if (name.match(regexPattern)) {\n        includedTables.push(option.value);\n      }\n    });\n\n    return includedTables.join(this.wpstgObject.settings.directorySeparator);\n  }\n\n  getExcludedTables() {\n    const excludedTables = [];\n    const options = this.databaseTableSection.querySelectorAll('#wpstg_select_tables_cloning option:not(:checked)');\n    const regexPattern = this.getRegexPattern();\n    options.forEach((option) => {\n      const name = option.getAttribute('name', '');\n      if (name.match(regexPattern)) {\n        excludedTables.push(option.value);\n      }\n    });\n\n    return excludedTables.join(this.wpstgObject.settings.directorySeparator);\n  }\n\n  countSelectedTables() {\n    const tablesCount = this.input.querySelectorAll('option:checked').length;\n    const tablesCountElement = dom.qs('#wpstg-tables-count');\n    if (tablesCount === 0) {\n      tablesCountElement.classList.add('danger');\n      tablesCountElement.innerHTML = this.wpstgObject.i18n['noTableSelected'];\n    } else {\n      tablesCountElement.classList.remove('danger');\n      tablesCountElement.innerHTML = this.wpstgObject.i18n['tablesSelected'].replace('{d}', tablesCount);\n    }\n  }\n}\n","import * as dom from './wpstg-dom-utils.js';\n\n/**\n * Rich Exclude Filter Module\n */\nexport default class WpstgExcludeFilters {\n  constructor(\n      excludeFilterContainerSelector = '#wpstg-exclude-filters-container',\n      wpstgObject = wpstg,\n  ) {\n    this.excludeContainer = dom.qs(excludeFilterContainerSelector);\n    this.excludeTableBody = dom.qs(`${excludeFilterContainerSelector} tbody`);\n    this.wpstgObject = wpstgObject;\n    this.init();\n  }\n\n  addEvents() {\n    dom.addEvent(this.excludeContainer, 'click', '.wpstg-file-size-rule', () => {\n      this.addFileSizeExclude();\n    });\n\n    dom.addEvent(this.excludeContainer, 'click', '.wpstg-file-ext-rule', () => {\n      this.addFileExtExclude();\n    });\n\n    dom.addEvent(this.excludeContainer, 'click', '.wpstg-file-name-rule', () => {\n      this.addFileNameExclude();\n    });\n\n    dom.addEvent(this.excludeContainer, 'click', '.wpstg-dir-name-rule', () => {\n      this.addDirNameExclude();\n    });\n\n    dom.addEvent(this.excludeContainer, 'click', '.wpstg-clear-all-rules', () => {\n      this.clearExcludes();\n    });\n\n    dom.addEvent(this.excludeContainer, 'click', '.wpstg-remove-exclude-rule', (target) => {\n      this.removeExclude(target.parentElement);\n    });\n  }\n\n  init() {\n    if (this.excludeContainer === null) {\n      console.log('Error: Given table selector not found!');\n      return;\n    }\n\n    this.addEvents();\n  }\n\n  addFileSizeExclude() {\n    this.addExcludeRuleRow('#wpstg-file-size-exclude-filter-template');\n  }\n\n  addFileExtExclude() {\n    this.addExcludeRuleRow('#wpstg-file-ext-exclude-filter-template');\n  }\n\n  addFileNameExclude() {\n    this.addExcludeRuleRow('#wpstg-file-name-exclude-filter-template');\n  }\n\n  addDirNameExclude() {\n    this.addExcludeRuleRow('#wpstg-dir-name-exclude-filter-template');\n  }\n\n  addExcludeRuleRow(templateName) {\n    const excludeRowTemplate = dom.qs(templateName);\n    if (excludeRowTemplate !== null) {\n      const clone = excludeRowTemplate.content.cloneNode(true);\n      const excludeRow = clone.querySelector('tr');\n\n      this.excludeTableBody.appendChild(excludeRow);\n      dom.all('.wpstg-has-exclude-rules').forEach((e) => {\n        e.style.display = 'inherit';\n      });\n    }\n  }\n\n  clearExcludes() {\n    this.excludeTableBody.innerHTML = '';\n    dom.all('.wpstg-has-exclude-rules').forEach((e) => {\n      e.style.display = 'none';\n    });\n  }\n\n  removeExclude(target) {\n    if (target.parentElement !== null && target.parentElement.parentElement !== null) {\n      this.excludeTableBody.removeChild(target.parentElement.parentElement);\n    }\n\n    if (this.excludeTableBody.innerHTML.trim() === '') {\n      dom.all('.wpstg-has-exclude-rules').forEach((e) => {\n        e.style.display = 'none';\n      });\n    }\n  }\n\n  /**\n   * Converts all the exclude filters arrays into one single string to keep size of post request small\n   * @return {string}\n   */\n  getExcludeFilters() {\n    const globExcludes = [];\n    const sizeExcludes = [];\n\n    const sizeCompares = this.excludeTableBody.querySelectorAll('select[name=\"wpstgFileSizeExcludeRuleCompare[]\"]');\n    const sizeSizes = this.excludeTableBody.querySelectorAll('input[name=\"wpstgFileSizeExcludeRuleSize[]\"]');\n    const sizeByte = this.excludeTableBody.querySelectorAll('select[name=\"wpstgFileSizeExcludeRuleByte[]\"]');\n    for (const [key, sizeInput] of Object.entries(sizeSizes)) {\n      if (sizeInput.value !== '') {\n        sizeExcludes.push(sizeCompares[key].value + ' ' + sizeInput.value + sizeByte[key].value);\n      }\n    }\n\n    const extensionInputs = this.excludeTableBody.querySelectorAll('input[name=\"wpstgFileExtExcludeRule[]\"]');\n    extensionInputs.forEach((x) => {\n      const ext = this.cleanStringForGlob(x.value);\n      if (ext !== '') {\n        globExcludes.push('ext:' + ext.trim());\n      }\n    });\n\n    const fileNamesPos = this.excludeTableBody.querySelectorAll('select[name=\"wpstgFileNameExcludeRulePos[]\"]');\n    const fileNames = this.excludeTableBody.querySelectorAll('input[name=\"wpstgFileNameExcludeRulePath[]\"]');\n    for (const [key, fileInput] of Object.entries(fileNames)) {\n      const fileName = this.cleanStringForGlob(fileInput.value);\n      if (fileName !== '') {\n        globExcludes.push('file:' + fileNamesPos[key].value + ' ' + fileName.trim());\n      }\n    }\n\n    const dirNamesPos = this.excludeTableBody.querySelectorAll('select[name=\"wpstgDirNameExcludeRulePos[]\"]');\n    const dirNames = this.excludeTableBody.querySelectorAll('input[name=\"wpstgDirNameExcludeRulePath[]\"]');\n    for (const [key, dirInput] of Object.entries(dirNames)) {\n      const dirName = this.cleanStringForGlob(dirInput.value);\n      if (dirName !== '') {\n        globExcludes.push('dir:' + dirNamesPos[key].value + ' ' + dirName.trim());\n      }\n    }\n\n    return {\n      'sizes': sizeExcludes.filter(this.onlyUnique).join(','),\n      // return set of unique rules\n      'globs': globExcludes.filter(this.onlyUnique).join(','),\n    };\n  }\n\n  onlyUnique(value, index, self) {\n    return self.indexOf(value) === index;\n  }\n\n  /**\n   * Remove most of the comment glob characters from the string\n   * @param {String} value\n   * @return {String}\n   */\n  cleanStringForGlob(value) {\n    // will replace character like * ^ / \\ ! ? [ from the string\n    return value.replace(/[*^//!\\[?]/g, '');\n  }\n}\n","/**\n * Basic WP Staging Modal implemented with help of Sweetalerts\n */\nexport default class WpstgModal {\n  constructor(\n      confirmAction,\n      wpstgObject = wpstg,\n  ) {\n    this.confirmAction = confirmAction;\n    this.wpstgObject = wpstgObject;\n  }\n\n  show(swalOptions, additionalParams = {}, callback = null) {\n    wpstgSwal.fire(swalOptions).then((result) => {\n      if (result.value && this.error !== null) {\n        this.triggerConfirmAction(additionalParams, callback);\n      }\n    });\n  }\n\n  triggerConfirmAction(additionalParams = {}, callback = null) {\n    fetch(this.wpstgObject.ajaxUrl, {\n      method: 'POST',\n      credentials: 'same-origin',\n      body: new URLSearchParams(Object.assign({\n        action: this.confirmAction,\n        accessToken: this.wpstgObject.accessToken,\n        nonce: this.wpstgObject.nonce,\n      }, additionalParams)),\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n    }).then((response) => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      return Promise.reject(response);\n    }).then((response) => {\n      if (callback !== null) {\n        callback(response);\n      }\n    }).catch((error) => {\n      console.log(this.wpstgObject.i18n['somethingWentWrong'], error);\n    });\n  }\n}\n","\nimport * as dom from './wpstg-dom-utils.js';\nimport WpstgDirectoryNavigation from './wpstg-directory-navigation.js';\nimport WpstgTableSelection from './wpstg-table-selection';\nimport WpstgExcludeFilters from './wpstg-exclude-filters.js';\nimport WpstgModal from './wpstg-modal.js';\nimport WPStagingCommon from './../wpstg.js';\n\n/**\n * Manage RESET MODAL\n */\nexport default class WpstgResetModal {\n  constructor(\n      cloneID,\n      workflowSelector = '#wpstg-workflow',\n      fetchExcludeSettingsAction = 'wpstg_clone_excludes_settings',\n      modalErrorAction = 'wpstg_modal_error',\n      wpstgObject = wpstg,\n  ) {\n    this.cloneID = cloneID;\n    this.workflow = dom.qs(workflowSelector);\n    this.wpstgObject = wpstgObject;\n    this.fetchExcludeSettingsAction = fetchExcludeSettingsAction;\n    this.modalErrorAction = modalErrorAction;\n    this.resetButtonClass = 'wpstg-confirm-reset-clone';\n    this.resetModalContainerClass = 'wpstg-reset-confirmation';\n    this.resetTabSelector = '.wpstg-reset-exclude-tab';\n    this.directoryNavigator = null;\n    this.excludeFilters = null;\n    this.tableSelector = null;\n    this.isNetworkClone = false;\n  }\n\n  addEvents() {\n    const resetModalContainer = dom.qs('.' + this.resetModalContainerClass);\n    if (resetModalContainer === null) {\n      console.log('Exit');\n      return;\n    }\n\n    dom.addEvent(resetModalContainer, 'click', this.resetTabSelector, (target) => {\n      this.toggleContent(target);\n    });\n  }\n\n  init() {\n    this.addEvents();\n  }\n\n  setNetworkClone(isNetworkClone) {\n    this.isNetworkClone = isNetworkClone;\n  }\n\n  toggleContent(target) {\n    const resetModalContainer = dom.qs('.' + this.resetModalContainerClass);\n    const contentId = target.getAttribute('data-id');\n    const tabTriangle = target.querySelector('.wpstg-tab-triangle');\n    const isCollapsed = target.getAttribute('data-collapsed', 'true');\n    const content = dom.qs(contentId);\n    if (isCollapsed === 'true') {\n      if (resetModalContainer.classList.contains('has-collapsible-open')) {\n        resetModalContainer.classList.add('has-collapsible-open-2');\n      } else {\n        resetModalContainer.classList.add('has-collapsible-open');\n      }\n\n      dom.slideDown(content);\n      tabTriangle.style.transform = 'rotate(90deg)';\n      target.setAttribute('data-collapsed', 'false');\n    } else {\n      if (resetModalContainer.classList.contains('has-collapsible-open-2')) {\n        resetModalContainer.classList.remove('has-collapsible-open-2');\n      } else {\n        resetModalContainer.classList.remove('has-collapsible-open');\n      }\n\n      dom.slideUp(content);\n      tabTriangle.style.removeProperty('transform');\n      target.setAttribute('data-collapsed', 'true');\n    }\n  }\n\n  /**\n   * Show Swal alert with loader and send ajax request to fetch content of alert.\n   * @return Promise\n   */\n  showModal() {\n    const swalPromise = this.loadModal();\n    this.init();\n    this.fetchCloneExcludes();\n    return swalPromise;\n  }\n\n  loadModal() {\n    return WPStagingCommon.getSwalModal(false, {\n      confirmButton: this.resetButtonClass + ' wpstg-confirm-reset-clone wpstg--btn--confirm wpstg-blue-primary wpstg-button wpstg-link-btn',\n      container: this.resetModalContainerClass + ' wpstg-swal2-container wpstg-swal2-loading',\n    }).fire({\n      title: '',\n      icon: 'warning',\n      html: this.getAjaxLoader(),\n      width: '400px',\n      focusConfirm: false,\n      confirmButtonText: this.wpstgObject.i18n.resetClone,\n      showCancelButton: true,\n    });\n  }\n\n  fetchCloneExcludes() {\n    this.error = null;\n    // send ajax request and fetch preserved exclude settings\n    fetch(this.wpstgObject.ajaxUrl, {\n      method: 'POST',\n      credentials: 'same-origin',\n      body: new URLSearchParams({\n        action: this.fetchExcludeSettingsAction,\n        accessToken: this.wpstgObject.accessToken,\n        nonce: this.wpstgObject.nonce,\n        clone: this.cloneID,\n        job: 'resetting',\n      }),\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n    }).then((response) => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      return Promise.reject(response);\n    }).then((data) => {\n      if (!data.success) {\n        const errorModal = new WpstgModal(this.modalErrorAction, this.wpstgObject);\n        errorModal.show(Object.assign({\n          title: 'Error',\n          icon: 'error',\n          html: this.wpstgObject.i18n['somethingWentWrong'],\n          width: '500px',\n          confirmButtonText: 'Ok',\n          showCancelButton: false,\n          customClass: {\n            confirmButton: 'wpstg--btn--confirm wpstg-blue-primary wpstg-button wpstg-link-btn',\n            cancelButton: 'wpstg--btn--cancel wpstg-blue-primary wpstg-link-btn',\n            actions: 'wpstg--modal--actions',\n            popup: 'wpstg-swal-popup wpstg-centered-modal',\n          },\n          buttonsStyling: false,\n          reverseButtons: true,\n        }, data.swalOptions), {\n          type: data.type,\n        });\n\n        return;\n      }\n\n      const modal = dom.qs('.wpstg-reset-confirmation');\n      modal.classList.remove('wpstg-swal2-loading');\n      modal.querySelector('.wpstg--swal2-popup').style.width = '540px';\n      modal.querySelector('.wpstg--swal2-content').innerHTML = data.html;\n      this.directoryNavigator = new WpstgDirectoryNavigation('#wpstg-directories-listing', wpstg, null);\n      this.directoryNavigator.countSelectedFiles();\n      this.excludeFilters = new WpstgExcludeFilters();\n      this.tableSelector = new WpstgTableSelection('#wpstg-reset-excluded-tables', '.' + this.resetModalContainerClass);\n      this.tableSelector.setNetworkClone(this.isNetworkClone);\n      this.tableSelector.countSelectedTables();\n    }).catch((error) => {\n      this.renderError({\n        'html': this.wpstgObject.i18n['somethingWentWrong'] + ' ' + error,\n      });\n    });\n  }\n\n  getDirectoryNavigator() {\n    return this.directoryNavigator;\n  }\n\n  getExcludeFilters() {\n    return this.excludeFilters;\n  }\n\n  getTableSelector() {\n    return this.tableSelector;\n  }\n\n  getAjaxLoader() {\n    return '<div class=\"wpstg-swal2-ajax-loader\"><span class=\"wpstg-loader\"></span></div>';\n  }\n}\n","import * as dom from './wpstg-dom-utils.js';\n\n/**\n * Handle toggle of advance settings checkboxes\n */\nexport default class WpstgCloningAdvanceSettings {\n  constructor(\n      baseContainerSelector = '#wpstg-clonepage-wrapper',\n  ) {\n    this.baseContainer = dom.qs(baseContainerSelector);\n    this.checkBoxSettingTogglerSelector = '.wpstg-toggle-advance-settings-section';\n    this.init();\n  }\n\n  /**\n   * Add events\n   * @return {void}\n   */\n  addEvents() {\n    if (this.baseContainer === null) {\n      return;\n    }\n\n    dom.addEvent(this.baseContainer, 'change', this.checkBoxSettingTogglerSelector, (element) => {\n      this.toggleSettings(element);\n    });\n  }\n\n  /**\n   * @return {void}\n   */\n  init() {\n    this.addEvents();\n  }\n\n  /**\n   * Expand/Collapse checkbox content on change\n   * @return {void}\n   */\n  toggleSettings(element) {\n    const target = dom.qs('#' + element.getAttribute('data-id'));\n    if (element.checked) {\n      dom.slideDown(target);\n    } else {\n      dom.slideUp(target);\n    }\n  }\n}\n","import * as dom from './wpstg-dom-utils.js';\n\nexport default class WpstgMainMenu {\n  constructor() {\n    this.activeTabClass = 'wpstg--tab--active';\n    this.mainMenu();\n  }\n\n  mainMenu() {\n    const tabHeader = dom.qs('.wpstg--tab--header');\n    // Early bail if tab header is not available\n    if (tabHeader === null) {\n      return;\n    }\n\n    const workflowContainer = dom.qs('#wpstg-workflow');\n    if (workflowContainer !== null) {\n      dom.addEvent(workflowContainer, 'click', '.wpstg-navigate-button', (element) => {\n        const $this = element;\n        const target = $this.getAttribute('data-target');\n        if (target === '') {\n          return;\n        }\n\n        if ('#wpstg--tab--backup' === target) {\n          // trigger click for .wpsg--tab--header a[data-target=\"#wpstg--tab--backup\"]\n          dom.qs('.wpstg--tab--header a[data-target=\"#wpstg--tab--backup\"]').click();\n        }\n      });\n    }\n\n    dom.addEvent(dom.qs('.wpstg--tab--header'), 'click', '.wpstg-button', (element) => {\n      const $this = element;\n      const target = $this.getAttribute('data-target');\n      if (target === '') {\n        return;\n      }\n      const targetElements = dom.all(target);\n      const menuItems = dom.all('.wpstg--tab--header a[data-target]');\n      const contents = dom.all('.wpstg--tab--contents > .wpstg--tab--content');\n\n      contents.forEach((content) => {\n        // active tab class is without the css dot class prefix\n        if (content.matches('.' + this.activeTabClass + ':not(' + target + ')')) {\n          content.classList.remove(this.activeTabClass);\n        }\n      });\n\n      menuItems.forEach((menuItem) => {\n        if (menuItem !== $this) {\n          menuItem.classList.remove(this.activeTabClass);\n        }\n      });\n\n      $this.classList.add(this.activeTabClass);\n\n      targetElements.forEach((targetElement) => {\n        targetElement.classList.add(this.activeTabClass);\n      });\n\n      if ('#wpstg--tab--backup' === target) {\n        window.dispatchEvent(new Event('backups-tab'));\n      }\n    });\n  };\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; };\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) });\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: true });\n  defineProperty(\n    GeneratorFunctionPrototype,\n    \"constructor\",\n    { value: GeneratorFunction, configurable: true }\n  );\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    defineProperty(this, \"_invoke\", { value: enqueue });\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method;\n    var method = delegate.iterator[methodName];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method, or a missing .next mehtod, always terminate the\n      // yield* loop.\n      context.delegate = null;\n\n      // Note: [\"return\"] must be used for ES3 parsing compatibility.\n      if (methodName === \"throw\" && delegate.iterator[\"return\"]) {\n        // If the delegate iterator has a return method, give it a\n        // chance to clean up.\n        context.method = \"return\";\n        context.arg = undefined;\n        maybeInvokeDelegate(delegate, context);\n\n        if (context.method === \"throw\") {\n          // If maybeInvokeDelegate(context) changed context.method from\n          // \"return\" to \"throw\", let that override the TypeError below.\n          return ContinueSentinel;\n        }\n      }\n      if (methodName !== \"return\") {\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a '\" + methodName + \"' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(val) {\n    var object = Object(val);\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","import 'regenerator-runtime/runtime';\nimport * as dom from '../../modules/wpstg-dom-utils.js';\nimport wpstgAuthCheck from './wpstg-auth-check';\n\nclass WpstgReAuth {\n  constructor() {\n    this.wrap = '';\n    this.tempHidden = '';\n    this.tempHiddenTimeout = '';\n  }\n\n  /**\n   * @return {void}\n   */\n  shows() {\n    this.wrap = document.getElementById('wpstg-auth-check-wrap');\n    this.parentElement = document.getElementById('wpstg-auth-check');\n    this.formElement = document.getElementById('wpstg-auth-check-form');\n    this.wrapElement = document.getElementById('wpstg-auth-check-wrap');\n    this.noFrameElement = this.wrapElement.querySelector('.wpstg-auth-fallback-expired');\n    this.iframeElement = '';\n    this.isIframeLoaded = false;\n\n    if (this.formElement) {\n      this.addUnloadEvent();\n      this.iframeElement = this.createIframeElement();\n      this.formElement.appendChild(this.iframeElement);\n    }\n\n    this.openModal();\n\n    if (this.iframeElement) {\n      this.focusIframe();\n      this.setIframeLoadTimeout();\n    } else {\n      this.focusFallbackElement();\n    }\n  }\n\n  /**\n   * @return {void}\n   */\n  addUnloadEvent() {\n    window.addEventListener('beforeunload', (event) => {\n      event.returnValue = 'Your session has expired. You can log in again from this page or go to the login page.';\n    });\n  }\n\n  /**\n  * @return {void}\n  */\n  createIframeElement() {\n    this.iframeElement = document.createElement('iframe');\n    this.iframeElement.id = 'wpstg-auth-check-frame';\n    this.iframeElement.style.border = '0px';\n    this.iframeElement.title = this.noFrameElement.textContent;\n\n    this.iframeElement.onload = () => this.handleIframeLoad();\n\n    this.iframeElement.src = this.formElement.dataset.src;\n    return this.iframeElement;\n  }\n\n  /**\n   * @return {void}\n   */\n  handleIframeLoad() {\n    let height;\n    let body;\n\n    this.isIframeLoaded = true;\n    this.formElement.classList.remove('loading');\n\n    try {\n      body = this.iframeElement.contentDocument.querySelector('body');\n      height = body.offsetHeight;\n    } catch (er) {\n      this.handleIframeLoadError();\n      return;\n    }\n\n    if (!body || !height) {\n      this.handleIframeLoadError();\n      return;\n    }\n\n    if (!body.classList.contains('interim-login-success')) {\n      this.parentElement.style.maxHeight = height + 40 + 'px';\n      return;\n    }\n\n    this.hide();\n  }\n\n  /**\n   * @return {void}\n   */\n  handleIframeLoadError() {\n    this.wrapElement.classList.add('fallback');\n    this.parentElement.style.maxHeight = '';\n    this.formElement.remove();\n    this.noFrameElement.focus();\n  }\n\n  /**\n   * @return {void}\n   */\n  openModal() {\n    document.body.classList.add('modal-open');\n    this.wrapElement.classList.remove('hidden');\n  }\n\n  /**\n   * @return {void}\n   */\n  focusIframe() {\n    this.iframeElement.focus();\n  }\n\n  /**\n   * @return {void}\n   */\n  setIframeLoadTimeout() {\n    setTimeout(() => {\n      if (!this.isIframeLoaded) {\n        this.wrapElement.classList.add('fallback');\n        this.formElement.remove();\n        this.noFrameElement.focus();\n      }\n    }, 2000);\n  }\n\n  /**\n   * @return {void}\n   */\n  focusFallbackElement() {\n    this.noFrameElement.focus();\n  }\n\n  /**\n   * @return {void}\n   */\n  hide() {\n    window.removeEventListener('beforeunload', function(event) {\n      event.returnValue = null;\n    });\n\n    dom.fadeOut(this.wrap, 200, () => {\n      this.wrap.classList.add('hidden');\n      this.wrap.style.display = '';\n      document.getElementById('wpstg-auth-check-frame').remove();\n      document.body.classList.remove('modal-open');\n    });\n\n    wpstgAuthCheck.checkUserAuthentication();\n  }\n}\n\nconst wpstgReAuth = new WpstgReAuth();\nexport default wpstgReAuth;\n","import 'regenerator-runtime/runtime';\nimport wpstgReAuth from './wpstg-re-auth';\n\nclass WpstgAuthCheck {\n  constructor(wpstgObject = wpstg) {\n    this.wpstgObject = wpstgObject;\n    this.count = 0;\n    this.status = true;\n    this.isAuthenticated = true;\n  }\n\n  /**\n   * Start checking user authentication\n   *\n   * @return {void}\n   */\n  start() {\n    if (this.status) {\n      setTimeout(() => {\n        this.checkUserAuthentication();\n      }, 1000);\n    }\n  }\n\n  /**\n   * @return {void}\n   */\n  stop() {\n    this.resetCount();\n    this.status = false;\n  }\n\n  /**\n   * @return {void}\n   */\n  resetCount() {\n    this.count = 0;\n  }\n\n  /**\n  * @return {void}\n  */\n  async checkUserAuthentication() {\n    fetch(this.wpstgObject.ajaxUrl, {\n      method: 'POST',\n      credentials: 'same-origin',\n      body: new URLSearchParams({\n        action: 'wpstg_check_user_is_authenticated',\n        accessToken: this.wpstgObject.accessToken,\n        nonce: this.wpstgObject.nonce,\n      }),\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n    }).then((response) => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      return Promise.reject(response);\n    }).then((data) => {\n      if (data.wpAuthCheck === false) {\n        this.count++;\n      }\n\n      this.isAuthenticated = data.wpAuthCheck;\n      if (this.count === 2) {\n        this.stop();\n        this.createAuthCheckElements(data.redirectUrl);\n        return;\n      }\n\n      this.start();\n    }).catch((error) => {\n      console.error('Error:', error);\n    });\n  }\n\n  /**\n   * @param redirectUrl\n   * @return {void}\n   */\n  createAuthCheckElements(redirectUrl) {\n    const isAlreadyAppended = document.getElementById('wpstg-auth-check-wrap') !== null;\n\n    if (isAlreadyAppended) {\n      document.getElementById('wpstg-auth-check-wrap').remove();\n    }\n\n    const wpAuthCheckWrap = document.createElement('div');\n    wpAuthCheckWrap.id = 'wpstg-auth-check-wrap';\n    wpAuthCheckWrap.classList.add('hidden');\n\n    const wpAuthCheckBg = document.createElement('div');\n    wpAuthCheckBg.id = 'wpstg-auth-check-bg';\n\n    const wpAuthCheckDialog = document.createElement('div');\n    wpAuthCheckDialog.id = 'wpstg-auth-check';\n\n    const wpAuthCheckForm = document.createElement('div');\n    wpAuthCheckForm.id = 'wpstg-auth-check-form';\n    wpAuthCheckForm.classList.add('loading');\n    wpAuthCheckForm.dataset.src = redirectUrl + '?interim-login=1&wp_lang=en_US';\n\n    const wpAuthCheckFallback = document.createElement('div');\n    wpAuthCheckFallback.classList.add('wpstg-auth-fallback');\n\n    const wpAuthCheckExpired = document.createElement('p');\n    wpAuthCheckExpired.innerHTML = '<b class=\"wpstg-auth-fallback-expired\" tabindex=\"0\">Session expired</b>';\n\n    const wpAuthCheckLoginLink = document.createElement('p');\n    wpAuthCheckLoginLink.innerHTML = `<a href=\"${redirectUrl}\" target=\"_blank\">Please log in again.</a> The login page will open in a new tab. After logging in you can close it and return to this page.`;\n\n    const wpAuthCheckCloseButton = document.createElement('button');\n    wpAuthCheckCloseButton.type = 'button';\n    wpAuthCheckCloseButton.classList.add('wpstg-auth-check-close', 'button-link');\n    wpAuthCheckCloseButton.innerHTML = '<span class=\"screen-reader-text\">Close dialog</span>';\n    wpAuthCheckCloseButton.addEventListener('click', function() {\n      wpAuthCheckWrap.classList.add('hidden');\n    });\n\n    wpAuthCheckDialog.append(wpAuthCheckCloseButton, wpAuthCheckForm, wpAuthCheckFallback);\n    wpAuthCheckFallback.append(wpAuthCheckExpired, wpAuthCheckLoginLink);\n    wpAuthCheckWrap.append(wpAuthCheckBg, wpAuthCheckDialog);\n    document.body.appendChild(wpAuthCheckWrap);\n    wpstgReAuth.shows();\n  }\n}\n\nconst wpstgAuthCheck = new WpstgAuthCheck();\nexport default wpstgAuthCheck;\n\n","import WPStagingCommon from './../wpstg.js';\nimport * as dom from './wpstg-dom-utils.js';\nimport wpstgAuthCheck from '../backup/modules/wpstg-auth-check';\n\n/**\n * Represents a class for managing and displaying process and success modals in WPStaging.\n * This class provides methods to start, open, initialize, update, and stop process modals.\n *\n * @class\n */\nexport default class WpstgProcessModal {\n  constructor(wpstgObject = wpstg) {\n    this.wpstgObject = wpstgObject;\n    this.action = '';\n    this.isProcessCancelled = false;\n    this.isProcessFinished = false;\n    this.processTime = 0;\n    this.processInterval = '';\n    this.modal = null;\n    this.disableCancelButton = false;\n    this.title = '';\n    this.showCancelButton = false;\n    this.percentage = 0;\n    this.cloneId = '';\n    this.successModal = '';\n    this.showProcessLogs = true;\n    this.stagingSiteUrl = '';\n    this.modalType = 'clone';\n  }\n\n  /**\n   * Starts the process, initializes intervals, and modifies UI elements as needed.\n   *\n   * @return {void}\n   */\n  start() {\n    this.showCancelButton = true;\n    this.processInterval = setInterval(() => {\n      if (wpstgAuthCheck.isAuthenticated || this.action === 'wpstg_push_processing') {\n        this.processTime++;\n        this.updateElapsedTime();\n      }\n    }, 1000);\n    if (this.action === 'wpstg_delete_clone') {\n      dom.hide('.wpstg-' + this.modalType + '-process-logs-button');\n      this.showCancelButton = false;\n      const container = WPStagingCommon.getSwalContainer();\n      const processPercentageElement = container.querySelector('.wpstg-' + this.modalType + '-process-percent');\n      processPercentageElement.textContent = 100;\n    }\n\n    if (this.action === 'wpstg_cloning' || this.action === 'wpstg_push_processing') {\n      wpstgAuthCheck.status = true;\n      wpstgAuthCheck.start();\n    }\n\n    dom.hide('.wpstg-prev-step-link, #wpstg-start-updating, .wpstg-loader, #wpstg-cancel-cloning, .wpstg-log-details, .wpstg-progress-bar, #wpstg-processing-header');\n    dom.hide('.wpstg-processing-timer, #wpstg-cancel-pushing, .wpstg-progress-bar-wrapper, #wpstg-cancel-cloning-update, #wpstg-removing-clone');\n  }\n\n  /**\n   * Stops the ongoing process, resets values, and clears intervals.\n   *\n   * @return {void}\n   */\n  stop() {\n    this.processTime = 0;\n    this.modal = null;\n    this.percentage = '';\n    this.resetCancelChecks();\n\n    clearInterval(this.processInterval);\n    WPStagingCommon.closeSwalModal();\n    dom.showLoadingBar();\n\n    dom.hide('#wpstg-try-again, #wpstg-home-link, #wpstg-show-log-button, .wpstg-loader');\n    if (this.action === 'wpstg_cloning' || this.action === 'wpstg_push_processing') {\n      wpstgAuthCheck.stop();\n    }\n  }\n\n  resetCancelChecks() {\n    const element = document.getElementById('wpstg-new-clone');\n    if (element === null) {\n      setTimeout(() => {\n        this.resetCancelChecks();\n      }, 1000);\n      return;\n    }\n\n    setTimeout(() => {\n      this.isProcessCancelled = false;\n      WPStaging.isCancelled = false;\n    }, 2000);\n    dom.hideLoadingBar();\n  }\n\n  /**\n   * Cancels the ongoing process if confirmed by the user.\n   *\n   * @return {void}\n   */\n  cancelProcess() {\n    if (confirm('Are you sure you want to cancel cloning process?')) {\n      WPStaging.isCancelled = true;\n      this.isProcessCancelled = true;\n      if (this.action === 'wpstg_push_processing') {\n        const container = WPStagingCommon.getSwalContainer();\n        const processTitleElement = container.querySelector('.wpstg-' + this.modalType + '-process-title');\n        processTitleElement.textContent = 'Canceling Please wait....';\n        this.stop();\n        dom.show('#wpstg-workflow');\n        WPStaging.messages = [];\n      } else {\n        this.cancelCloneAction();\n      }\n    }\n  }\n\n  /**\n   * Sets the title and cancellation status based on the response job or status.\n   *\n   * @param {Object} response - The response object containing information about the process job and status.\n   * @return {void}\n   */\n  setTitle(response) {\n    this.title = response.job;\n    if (response.job === 'database' || response.job === 'jobCopyDatabaseTmp') {\n      this.title = 'Copying Database';\n      this.disableCancelButton = false;\n    } else if (response.job === 'SearchReplace') {\n      this.title = 'Processing Data';\n      this.disableCancelButton = false;\n    } else if (response.job === 'PreserveDataSecondStep' || response.job === 'PreserveDataFirstStep') {\n      this.title = 'Preserve Data';\n      this.disableCancelButton = false;\n    } else if (response.job === 'directories' || response.job === 'jobFileScanning') {\n      this.title = 'Scanning Files';\n      this.disableCancelButton = false;\n    } else if (response.job === 'files' || response.job === 'data' || response.job === 'jobCopy' || response.job === 'jobSearchReplace') {\n      this.title = 'Copying Files';\n      this.disableCancelButton = false;\n    } else if (response.job === 'Backup') {\n      this.title = 'Backup Files Scanning';\n      this.disableCancelButton = false;\n    } else if (response.job === 'finish' || response.status === 'finished') {\n      this.title = 'Process Finished';\n      this.disableCancelButton = false;\n    } else if (response.job === 'jobDatabaseRename') {\n      this.title = 'Renaming Database';\n      this.disableCancelButton = true;\n    } else if (response.job === 'jobData') {\n      this.title = 'Updating Database Data';\n      this.disableCancelButton = true;\n    }\n  }\n\n  /**\n   * Sets the stored percentage value if the provided parameter is not null.\n   *\n   * @param {Object} params - Parameters containing the percentage value.\n   * @return {void}\n   */\n  setPercentage(params) {\n    if (params.percentage !== null) {\n      this.percentage = params.percentage;\n    }\n  }\n\n  /**\n   * Initializes the process modal with specific behavior and appearance configurations.\n   *\n   * @return {void}\n   */\n  initializeProcessModal() {\n    const modal = document.getElementById('wpstg-' + this.modalType + '-process-modal');\n    const html = modal.innerHTML;\n    modal.parentNode.removeChild(modal);\n    this.modal = {\n      html: null,\n      cancelBtnTxt: null,\n      processTime: 0,\n      instance: WPStagingCommon.getSwalModal(true, {\n        content: 'wpstg--process--content',\n      }).fire({\n        html: html,\n        cancelButtonText: 'Cancel',\n        showCancelButton: this.showCancelButton,\n        showConfirmButton: false,\n        showCloseButton: false,\n        showLoaderOnConfirm: false,\n        allowEscapeKey: false,\n        allowOutsideClick: false,\n        onRender: () => {\n          const cancelButton = WPStagingCommon.getSwalContainer().getElementsByClassName('wpstg--swal2-cancel wpstg--btn--cancel')[0];\n          const btnCancel = cancelButton.cloneNode(true);\n          cancelButton.parentNode.replaceChild(btnCancel, cancelButton);\n          btnCancel.addEventListener('click', () => {\n            this.cancelProcess();\n          });\n\n          const showLogsButton = WPStagingCommon.getSwalContainer().getElementsByClassName('wpstg-' + this.modalType + '-process-logs-button')[0];\n          const showLogs = showLogsButton.cloneNode(true);\n          showLogsButton.parentNode.replaceChild(showLogs, showLogsButton);\n          showLogs.addEventListener('click', (e) => {\n            this.renderProcessLogs('process', e);\n          });\n        },\n      }),\n    };\n    this.start();\n  }\n\n  /**\n   * Sets the content of the process modal based on the stored title, percentage, and cancellation status.\n   *\n   * @return {void}\n   */\n  setProcessModal() {\n    const container = WPStagingCommon.getSwalContainer();\n    const cancelButton = container.getElementsByClassName('wpstg--swal2-cancel wpstg--btn--cancel')[0];\n    const processTitleElement = container.querySelector('.wpstg-' + this.modalType + '-process-title');\n    const processPercentageElement = container.querySelector('.wpstg-' + this.modalType + '-process-percent');\n    processTitleElement.textContent = this.title;\n    processPercentageElement.textContent = this.percentage;\n    cancelButton.disabled = this.disableCancelButton;\n  }\n\n  /**\n   * Opens and initializes a process modal with the provided data and parameters.\n   *\n   * @param {Object|undefined} data - Data related to the process.\n   * @param {Object} params - Parameters for configuring the process modal.\n   * @param {boolean} [showLogs=false] - Whether to display logs in the modal.\n   * @param {boolean} [showCancelButton=true] - Whether to show the cancel button in the modal.\n   * @return {void}\n   */\n  openProcessModal(data, params, showLogs = false, showCancelButton = true) {\n    if (!this.isProcessCancelled && !WPStaging.isCancelled) {\n      if (data !== undefined) {\n        this.action = data.action;\n        this.cloneId = data.cloneID;\n      }\n\n      this.showCancelButton = showCancelButton;\n      this.showLogs = showLogs;\n      if (!this.modal) {\n        WPStagingCommon.resetErrors();\n        this.initializeProcessModal();\n      } else {\n        if (params.job) {\n          this.setTitle(params);\n          this.setPercentage(params);\n          this.setProcessModal();\n          if (params.job === 'finish') {\n            this.stop();\n          }\n        } else {\n          if (params.status === 'finished') {\n            this.stop();\n          }\n        }\n      }\n    }\n  };\n\n  /**\n   * Formats the given time duration (in seconds) into a string representation (HH:mm:ss).\n   *\n   * @return {string} The formatted time duration string.\n   */\n  formatTimeDuration() {\n    return new Date(this.processTime * 1000).toISOString().slice(11, 19) + 's';\n  }\n\n  /**\n   * Updates the displayed elapsed time in the modal if a process interval is set.\n   *\n   * @return {void}\n   */\n  updateElapsedTime() {\n    if (this.processInterval !== null) {\n      const container = WPStagingCommon.getSwalContainer();\n      const elapsedTimeElement = container.querySelector('.wpstg-' + this.modalType + '-process-elapsed-time');\n      elapsedTimeElement.textContent = this.formatTimeDuration();\n    }\n  };\n\n  /**\n   * Determines the corresponding cancellation action name based on the current action.\n   *\n   * @return {string|undefined} The cancellation action name or undefined if no match is found.\n   */\n  getCancelCloneAction() {\n    const actions = [\n      {\n        name: 'wpstg_cloning',\n        cancel: 'wpstg_cancel_clone',\n      },\n      {\n        name: 'wpstg_reset',\n        cancel: 'wpstg_cancel_update',\n      },\n      {\n        name: 'wpstg_update',\n        cancel: 'wpstg_cancel_update',\n      },\n      {\n        name: 'wpstg_push_processing',\n        cancel: 'wpstg_cancel_push_processing',\n      },\n    ];\n    if (this.action !== '') {\n      const result = actions.find((action) => action.name === this.action);\n      return result.cancel;\n    }\n  }\n\n  /**\n   * Cancels the ongoing clone action if there is one, using a fetch request.\n   * If the cancellation is successful, it stops the action and optionally reloads the page.\n   * If there are further actions or the cancellation is not successful, it retries the cancellation process recursively.\n   *\n   * @return {void}\n   */\n  cancelCloneAction() {\n    if (this.action) {\n      fetch(this.wpstgObject.ajaxUrl, {\n        method: 'POST',\n        credentials: 'same-origin',\n        body: new URLSearchParams({\n          action: this.getCancelCloneAction(),\n          accessToken: this.wpstgObject.accessToken,\n          nonce: this.wpstgObject.nonce,\n          clone: this.cloneId,\n        }),\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n        },\n      }).then((response) => {\n        if (response.ok) {\n          return response.json();\n        }\n\n        return Promise.reject(response);\n      }).then((response) => {\n        if (response && 'undefined' !== typeof (response.delete) && response.delete === 'finished' || response === true) {\n          this.stop();\n          WPStaging.loadOverview();\n          WPStaging.messages = [];\n        }\n\n        if (response !== true) {\n          this.cancelCloneAction();\n        }\n      }).catch((error) => {\n        console.log(this.wpstgObject.i18n['somethingWentWrong'], error);\n      });\n    }\n  }\n\n  /**\n   * Initializes the success modal with the provided parameters and displays it.\n   *\n   * @param {Object} params - The parameters for configuring the success modal content.\n   * @return {void}\n   */\n  initializeSuccessModal(params) {\n    this.successModal = this.setSuccessModalContent(params);\n    WPStagingCommon.getSwalModal(true, {\n      confirmButton: 'wpstg--btn--confirm wpstg-green-button wpstg-button wpstg-link-btn wpstg-100-width',\n    }).fire({\n      'icon': 'success',\n      'html': this.successModal.innerHTML,\n      'confirmButtonText': 'Close',\n      'showCancelButton': false,\n      'showConfirmButton': true,\n      'allowOutsideClick': false,\n      'onRender': () => {\n        const showLogsButton = WPStagingCommon.getSwalContainer().getElementsByClassName('wpstg-' + this.modalType + '-success-logs-button')[0];\n        const showLogs = showLogsButton.cloneNode(true);\n        showLogsButton.parentNode.replaceChild(showLogs, showLogsButton);\n        showLogs.addEventListener('click', (e) => {\n          this.renderProcessLogs('success', e);\n        });\n      },\n    }).then((result) => {\n      if (result.value) {\n        WPStagingCommon.closeSwalModal();\n        dom.hide('.wpstg-loader');\n        WPStaging.messages = [];\n        if (this.action === 'wpstg_push_processing') {\n          location.reload();\n        }\n\n        this.action = '';\n      }\n    });\n    if (this.showProcessLogs) {\n      dom.show('.wpstg-' + this.modalType + '-success-logs-wrapper');\n    }\n\n    dom.hide('.wpstg-loader');\n    if (this.action !== 'wpstg_delete_clone') {\n      WPStaging.loadOverview();\n    }\n  }\n\n  /**\n   * Sets the content of the success modal based on the provided parameters.\n   *\n   * @param {Object} params - The parameters for configuring the modal content.\n   * @param {string|null} params.title - The title to be displayed in the modal.\n   * @param {string|null|undefined} params.body - The body content of the modal.\n   * @returns {HTMLElement} The modified modal element.\n   */\n\n  setSuccessModalContent(params) {\n    const modal = document.getElementById('wpstg-' + this.modalType + '-success-modal');\n    if (params.title !== null) {\n      modal.innerHTML = modal.innerHTML.replace('{title}', params.title);\n    }\n\n    if (this.showProcessLogs) {\n      modal.innerHTML = modal.innerHTML.replace('{btnTxtLog}', '<span style=\"text-decoration: underline\">Show Logs</span>');\n    }\n\n    if (params.body !== null && typeof params.body !== 'undefined') {\n      let messageBody = params.body;\n      if (this.stagingSiteUrl !== null) {\n        messageBody += '<br><strong><a href=\"' + this.stagingSiteUrl + '\" target=\"_blank\" id=\"wpstg-clone-url\">' + this.stagingSiteUrl + '</a></strong>';\n      }\n\n      if (this.action === 'wpstg_push_processing') {\n        messageBody += '<a href=\"https://wp-staging.com/refresh-and-clear-cache/\" target=\"_blank\">How to delete the cache.</a>';\n        const downloadModalTextElement = modal.querySelector('.wpstg-clone-success-modal-text');\n        if (downloadModalTextElement) {\n          downloadModalTextElement.classList.add('wpstg--red');\n        }\n      }\n\n      if (this.action === 'wpstg_cloning') {\n        const wpstgRateUsElement = modal.querySelector('.wpstg-rate-us');\n        if (wpstgRateUsElement) {\n          wpstgRateUsElement.classList.add('show');\n        }\n      }\n\n      modal.innerHTML = modal.innerHTML.replace('{text}', messageBody);\n    } else {\n      modal.innerHTML = modal.innerHTML.replace('{text}', '');\n    }\n    return modal;\n  }\n\n  /**\n   * Opens a success modal after successfully cloning process.\n   *\n   * @param {Object} params - The parameters for initializing the success modal.\n   * @param {boolean} [showLogs=false] - Whether to display process logs in the modal.\n   * @param {string|null} [siteUrl=null] - The URL of the staging site, if applicable.\n   * @return {void}\n   */\n  openSuccessModal(params, showLogs = false, siteUrl = null) {\n    this.stagingSiteUrl = siteUrl;\n    this.showProcessLogs = showLogs;\n    this.initializeSuccessModal(params);\n  }\n\n  /**\n   * @return {string}\n   */\n  getModalType() {\n    return this.modalType;\n  }\n\n  /**\n   * Display logs in a modal.\n   * and avoid mixing of different processes logs\n   * @return {void}\n   */\n  renderProcessLogs(processType = 'process', event) {\n    const container = WPStagingCommon.getSwalContainer();\n    if (window.WPStaging.messages.length !== 0) {\n      const logsContainer = container.querySelector('.wpstg-' + this.modalType + '-' + processType + '-logs');\n      logsContainer.innerHTML = '';\n      window.WPStaging.messages.forEach(function(message) {\n        const msgClass = `wpstg--modal--process--msg--${message.type.toLowerCase()}`;\n        const pElement = document.createElement('p');\n        pElement.className = msgClass;\n        pElement.textContent = `[${message.type}] - [${message.date}] - ${message.message}`;\n        logsContainer.appendChild(pElement);\n      });\n    }\n\n    const logs = container.querySelector('.wpstg-' + this.modalType + '-' + processType + '-logs');\n    const logBtn = event.target;\n    event.preventDefault();\n    if (logs.style.display === 'none' || logs.style.display === '') {\n      logs.style.display = 'block';\n      logBtn.textContent = wpstg.i18n.hideLogs;\n      container.childNodes[0].style.width = '97%';\n      container.style.zIndex = 9999;\n    } else {\n      logs.style.display = 'none';\n      logBtn.textContent = wpstg.i18n.showLogs;\n      container.childNodes[0].style.width = '600px';\n    }\n  }\n}\n","import * as dom from '../modules/wpstg-dom-utils.js';\n\nclass BackupPluginsNotice {\n  constructor(wpstgObject = wpstg) {\n    this.wpstgObject = wpstgObject;\n    this.wpstgBackupNoticeCloseButton = null;\n    this.wpstgBackupNoticeReminderButton = null;\n    this.init();\n  }\n\n  init() {\n    document.addEventListener('DOMContentLoaded', ()=>{\n      this.wpstgBackupNoticeCloseButton = document.getElementById('wpstg-backup-plugin-notice-close');\n      this.wpstgBackupNoticeReminderButton = document.getElementById('wpstg-backup-plugin-notice-remind-me');\n      this.addEvent();\n    });\n  }\n\n  addEvent() {\n    if (this.wpstgBackupNoticeCloseButton !== null) {\n      this.wpstgBackupNoticeCloseButton.addEventListener('click', ()=>{\n        this.closeBackupPluginNotice();\n      });\n    }\n\n    if (this.wpstgBackupNoticeReminderButton !== null) {\n      this.wpstgBackupNoticeReminderButton.addEventListener('click', ()=>{\n        this.closeBackupPluginNotice('wpstg_backup_plugin_notice_remind_me');\n      });\n    }\n  }\n\n  closeBackupPluginNotice(action = 'wpstg_backup_plugin_notice_close') {\n    fetch(this.wpstgObject.ajaxUrl, {\n      method: 'POST',\n      credentials: 'same-origin',\n      body: new URLSearchParams({\n        action: action,\n        nonce: this.wpstgObject.nonce,\n      }),\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n    }).then((response) => {\n      if (response.ok) {\n        return response.json();\n      }\n    }).then((data) => {\n      if (data.success) {\n        dom.qs('.wpstg-backup-plugin-notice-container').style.opacity = 0;\n        setTimeout(() => {\n          dom.hide('.wpstg-backup-plugin-notice-container');\n        }, 500);\n      }\n    }).catch((error) => {\n      dom.qs('.wpstg-backup-plugin-notice-container').style.opacity = 0;\n      setTimeout(() => {\n        dom.hide('.wpstg-backup-plugin-notice-container');\n      }, 500);\n    });\n  }\n}\n\nexport default new BackupPluginsNotice();\n","import * as dom from './wpstg-dom-utils.js';\nimport WPStagingCommon from '../wpstg';\n\nexport default class WpstgSystemInfo {\n  constructor(wpstgObject = wpstg) {\n    this.wpstgObject = wpstgObject;\n    this.wpstgPurgeBackupQueueButton = dom.qs('#wpstg-purge-backup-queue-btn');\n    this.init();\n  }\n\n  /**\n   * @return {void}\n   */\n  init() {\n    if (this.wpstgPurgeBackupQueueButton !== null) {\n      this.wpstgPurgeBackupQueueButton.addEventListener('click', () => {\n        this.confirmAndProceedPurge();\n      });\n    }\n  }\n\n  /**\n   * @return {void}\n   */\n  confirmAndProceedPurge() {\n    WPStagingCommon.getSwalModal(true, {\n      container: 'wpstg-swal-push-container',\n      confirmButton: 'wpstg--btn--confirm wpstg-blue-primary wpstg-button wpstg-link-btn',\n    }).fire({\n      title: 'Are You Sure?',\n      icon: 'warning',\n      html: '<p>This cleans up the database table <code>' + this.wpstgObject.tblprefix+ 'wpstg_queue</code>. Only use this function for debugging purposes, or if the scheduled backups do not work as expected.</p>',\n      width: '550px',\n      focusConfirm: false,\n      confirmButtonText: 'Clean Backup Queue',\n      showCancelButton: true,\n    }).then((result) => {\n      if (result.isConfirmed) {\n        this.ajaxPurgeQueueTable();\n      }\n    });\n  }\n\n  /**\n   * @return {void}\n   */\n  ajaxPurgeQueueTable() {\n    fetch(this.wpstgObject.ajaxUrl, {\n      method: 'POST',\n      credentials: 'same-origin',\n      body: new URLSearchParams({\n        action: 'wpstg_purge_queue_table',\n        accessToken: this.wpstgObject.accessToken,\n        nonce: this.wpstgObject.nonce,\n      }),\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n    }).then((response) => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      if (response.status === 404) {\n        dom.notify('error', this.wpstgObject.i18n['somethingWentWrong'] + ' can\\'t find ajax request URL! Please contact us at support@wp-staging.com');\n      }\n\n      if (response.status === 500) {\n        dom.notify('error', this.wpstgObject.i18n['somethingWentWrong'] + ' internal server error while processing the request! Please contact us at support@wp-staging.com');\n      }\n    }).then((response) => {\n      if (response.success && response.success === true) {\n        dom.notify('success', response.message);\n      }\n\n      if (response.success && response.success === false) {\n        dom.notify('error', response.message);\n      }\n    }).catch((error) => {\n      dom.notify('error', this.wpstgObject.i18n['somethingWentWrong'] + ' ' + error);\n      console.warn(this.wpstgObject.i18n['somethingWentWrong'], error);\n    });\n  }\n}\n","import * as dom from './wpstg-dom-utils.js';\nimport WpstgSystemInfo from './wpstg-system-info';\n\n/**\n * Enable side bar menu and set url on tab click\n */\nexport default class WpstgSidebarMenu {\n  constructor() {\n    this.init();\n  }\n\n  init() {\n    this.wpstdStagingTab = document.querySelector('#wpstg--tab--toggle--staging');\n    this.wpstdBackupTab = document.querySelector('#wpstg--tab--toggle--backup');\n    this.wpstdSidebarMenu = document.querySelector('#toplevel_page_wpstg_clone');\n    this.addEvents();\n\n    setTimeout(() => {\n      dom.loadingPlaceholder('hidden');\n    }, 5000);\n  }\n\n  addEvents() {\n    if (this.wpstdStagingTab !== null) {\n      this.wpstdStagingTab.addEventListener('click', () => {\n        dom.setLoadingPlaceholder();\n        this.setPageUrl('wpstg_clone');\n        this.setSidebarMenu('wpstg_clone');\n      });\n    }\n\n    if (this.wpstdBackupTab !== null) {\n      this.wpstdBackupTab.addEventListener('click', () => {\n        dom.setLoadingPlaceholder().then(() => dom.loadingPlaceholder());\n        this.setPageUrl('wpstg_backup');\n        this.setSidebarMenu('wpstg_backup');\n      });\n    }\n\n    if (dom.getActivePage() === 'wpstg-tools') {\n      new WpstgSystemInfo();\n    }\n  }\n\n  setPageUrl(page) {\n    window.history.pushState(null, null, window.location.pathname + '?page=' + page);\n  }\n\n  setSidebarMenu(page) {\n    const wpstgSidebarMenuElements = this.wpstdSidebarMenu.querySelector('ul').querySelectorAll('li');\n    if (wpstgSidebarMenuElements.length > 0) {\n      for (let i = 0; i < wpstgSidebarMenuElements.length; i++) {\n        wpstgSidebarMenuElements[i].classList.remove('current');\n        if (wpstgSidebarMenuElements[i].querySelector('a') !== null) {\n          if (wpstgSidebarMenuElements[i].querySelector('a').getAttribute('href') ==='admin.php?page=' + page) {\n            wpstgSidebarMenuElements[i].classList.add('current');\n          }\n        }\n      }\n    }\n  }\n}\n","import * as dom from './wpstg-dom-utils';\n\nclass DarkMode {\n  constructor(wpstgObject = wpstg) {\n    this.wpstgObject = wpstgObject;\n    document.addEventListener('DOMContentLoaded', async () => {\n      this.body = document.querySelector('body');\n      await this.init();\n      this.observeDOMChanges();\n    });\n  }\n\n  observeDOMChanges() {\n    this.observer = new MutationObserver((mutations) => {\n      mutations.forEach((mutation) => {\n        if (mutation.type === 'childList' && mutation.addedNodes.length > 0) {\n          this.triggerRenderEvent();\n        }\n      });\n    });\n\n    this.observerConfig = {\n      childList: true,\n      subtree: true,\n    };\n\n    this.observer.observe(document.documentElement, this.observerConfig);\n  }\n\n  triggerRenderEvent() {\n    const isDarkMode = this.body.classList.contains('wpstg-admin-dark-mode');\n    const dashicons = document.querySelectorAll('.wpstg--dashicons');\n    dashicons.forEach((dashicon)=> {\n      const wpstgIcon = dom.extractFileName(dashicon.src);\n      if (wpstgIcon !== '' && !dashicon.src.includes('vendor/dashicons/dark/') && isDarkMode) {\n        dashicon.src = this.wpstgObject.assetsUrl + 'svg/vendor/dashicons/dark/' + wpstgIcon;\n      }\n\n      if (wpstgIcon !== '' && dashicon.src.includes('vendor/dashicons/dark/') && !isDarkMode) {\n        dashicon.src = this.wpstgObject.assetsUrl + 'svg/vendor/dashicons/' + wpstgIcon;\n      }\n    });\n  }\n\n  setButtonAsActive(mode) {\n    const elements = ['dark', 'light', 'system'];\n    elements.forEach((item) => {\n      document.querySelector(`.wpstg-${item}-mode-container`).classList.remove('active');\n    });\n\n    document.querySelector(`.wpstg-${mode}-mode-container`).classList.add('active');\n\n    const borderColor = (mode === 'dark' || (mode === 'system' && this.defaultOsColorMode === 'dark')) ? '#E3DCFF' : '#e9e9e9';\n\n    document.querySelectorAll('.wpstg-color-mode-container > div').forEach((div) => {\n      div.style.border = `1px solid ${borderColor}`;\n    });\n  }\n\n  updateFooterLogo() {\n    const logoUrl = this.body.classList.contains('wpstg-admin-dark-mode') ? 'img/dark-logo.svg' : 'img/logo.svg';\n    const footerLogoAnchor = document.querySelector('.wpstg-footer-logo a');\n    if (footerLogoAnchor) {\n      const footerLogoImg = footerLogoAnchor.querySelector('img');\n      if (footerLogoImg) {\n        footerLogoImg.src = this.wpstgObject.assetsUrl + logoUrl;\n      }\n    }\n\n    this.triggerRenderEvent();\n  }\n\n  updateBodyClass(mode) {\n    if (mode === 'dark' || (mode === 'system' && this.defaultOsColorMode === 'dark')) {\n      this.body.classList.add('wpstg-admin-dark-mode');\n    } else {\n      this.body.classList.remove('wpstg-admin-dark-mode');\n    }\n\n    this.updateFooterLogo();\n  }\n\n  setButtonsEventListeners() {\n    this.systemModeButton = document.querySelector('#wpstg-system-mode-button');\n    this.lightModeButton = document.querySelector('#wpstg-light-mode-button');\n    this.darkModeButton = document.querySelector('#wpstg-dark-mode-button');\n\n    this.systemModeButton.addEventListener('click', async () => {\n      await this.setMode('system');\n      this.setButtonAsActive('system');\n    });\n\n    this.lightModeButton.addEventListener('click', async () => {\n      await this.setMode('light');\n      this.setButtonAsActive('light');\n    });\n\n    this.darkModeButton.addEventListener('click', async () => {\n      await this.setMode('dark');\n      this.setButtonAsActive('dark');\n    });\n  }\n\n  async init() {\n    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n    this.defaultOsColorMode = mediaQuery.matches ? 'dark' : 'light';\n\n    this.setButtonsEventListeners();\n    await this.setDefaultOsColorMode();\n\n    mediaQuery.addEventListener('change', async (event) => {\n      this.defaultOsColorMode = mediaQuery.matches ? 'dark' : 'light';\n      await this.setDefaultOsColorMode();\n    });\n  }\n\n  async setMode(mode) {\n    try {\n      const response = await fetch(this.wpstgObject.ajaxUrl, {\n        method: 'POST',\n        credentials: 'same-origin',\n        body: new URLSearchParams({\n          action: 'wpstg_set_dark_mode',\n          accessToken: this.wpstgObject.accessToken,\n          nonce: this.wpstgObject.nonce,\n          mode: mode,\n        }),\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n        },\n      });\n\n      if (!response.ok) {\n        dom.notify('error', this.wpstgObject.i18n['somethingWentWrong']);\n        return;\n      }\n\n      const responseData = await response.json();\n      if (responseData.success === false && responseData.data) {\n        dom.notify('error', responseData.data);\n        return;\n      }\n\n      this.updateBodyClass(mode);\n    } catch (error) {\n      console.warn(this.wpstgObject.i18n['somethingWentWrong'], error);\n    }\n  }\n\n\n  async setDefaultOsColorMode() {\n    try {\n      const response = await fetch(this.wpstgObject.ajaxUrl, {\n        method: 'POST',\n        credentials: 'same-origin',\n        body: new URLSearchParams({\n          action: 'wpstg_set_default_os_color_mode',\n          accessToken: this.wpstgObject.accessToken,\n          nonce: this.wpstgObject.nonce,\n          defaultOsColorMode: this.defaultOsColorMode,\n        }),\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n        },\n      });\n\n      if (!response.ok) {\n        dom.notify('error', this.wpstgObject.i18n['somethingWentWrong']);\n        return;\n      }\n\n      const responseData = await response.json();\n\n      if (responseData.data && responseData.data.defaultColorMode) {\n        this.setButtonAsActive(responseData.data.defaultColorMode);\n      }\n\n      if (responseData.success && responseData.data.defaultColorMode === 'dark') {\n        this.body.classList.add('wpstg-admin-dark-mode');\n        this.updateFooterLogo();\n        return;\n      }\n\n      if (responseData.success && this.defaultOsColorMode === 'dark' && responseData.data.defaultColorMode === 'system') {\n        this.body.classList.add('wpstg-admin-dark-mode');\n        this.updateFooterLogo();\n        return;\n      }\n\n      if (responseData.success && this.body.classList.contains('wpstg-admin-dark-mode')) {\n        this.body.classList.remove('wpstg-admin-dark-mode');\n        this.updateFooterLogo();\n      }\n    } catch (error) {\n      console.warn(this.wpstgObject.i18n['somethingWentWrong'], error);\n    }\n  }\n}\n\nnew DarkMode();\n","import WpstgCloneStaging from './modules/wpstg-clone-staging.js';\nimport WpstgDirectoryNavigation from './modules/wpstg-directory-navigation.js';\nimport WpstgTableSelection from './modules/wpstg-table-selection.js';\nimport WpstgExcludeFilters from './modules/wpstg-exclude-filters.js';\nimport WpstgResetModal from './modules/wpstg-reset-modal.js';\nimport WpstgModal from './modules/wpstg-modal.js';\nimport WpstgCloningAdvanceSettings from './modules/wpstg-cloning-advance-settings.js';\nimport WpstgMainMenu from './modules/wpstg-main-menu.js';\nimport WPStagingCommon from './wpstg.js';\nimport * as dom from './modules/wpstg-dom-utils';\nimport WpstgProcessModal from './modules/wpstg-process-modal.js';\nimport WpstgContactUs from './modules/wpstg-contact-us';\nimport BackupPluginsNotice from './notices/backup-plugins-notice';\nimport WpstgSidebarMenu from './modules/wpstg-sidebar-menu';\nimport DarkMode from './modules/wpstg-admin-dark.js';\n\nvar WPStaging = (function($) {\n  const that = {\n    isCancelled: false,\n    isFinished: false,\n    getLogs: false,\n    time: 1,\n    executionTime: false,\n    progressBar: 0,\n    cloneExcludeFilters: null,\n    directoryNavigator: null,\n    tableSelector: null,\n    notyf: null,\n    areAllTablesChecked: true,\n    handleDisplayDependencies: dom.handleDisplayDependencies,\n    handleToggleElement: dom.handleToggleElement,\n    handleCopyPaste: dom.handleCopyPaste,\n    handleCopyToClipboard: dom.handleCopyToClipboard,\n    messages: [],\n    requestType: '',\n    modal: {\n      instance: '',\n      processTime: 0,\n      processInterval: '',\n      currentJob: '',\n    },\n    processModalType: null,\n  };\n\n  that.wpstgProcessModal = new WpstgProcessModal();\n  const cache = {elements: []};\n  let timeout; let ajaxSpinner;\n\n  /**\n   * Get / Set Cache for Selector\n   * @param {String} selector\n   * @return {*}\n   */\n  cache.get = function(selector) {\n    // It is already cached!\n    if ($.inArray(selector, cache.elements) !== -1) {\n      return cache.elements[selector];\n    }\n\n    // Create cache and return\n    cache.elements[selector] = jQuery(selector);\n\n    return cache.elements[selector];\n  };\n\n  /**\n   * Refreshes given cache\n   * @param {String} selector\n   */\n  cache.refresh = function(selector) {\n    selector.elements[selector] = jQuery(selector);\n  };\n\n  const hideWpstgLoader = function() {\n    if (cache.get('.wpstg-loader').is(':visible')) {\n      cache.get('.wpstg-loader').css('visibility', 'hidden');\n    } else {\n      cache.get('.wpstg-loader').hide();\n    }\n  };\n\n  /**\n   * Show and Log Error Message\n   * @param {String} message\n   */\n  const showError = function(message) {\n    window.scrollTo(0, 0);\n\n    cache.get('#wpstg-try-again').css('display', 'inline-block');\n    cache.get('#wpstg-cancel-cloning').text('Reset');\n    cache.get('#wpstg-resume-cloning').show();\n    cache.get('#wpstg-error-wrapper').show();\n    cache.get('#wpstg-error-details').show().html(message);\n    cache.get('.wpstg-loading-bar-container').css('visibility', 'hidden');\n\n    hideWpstgLoader();\n\n    $('.wpstg--modal--process--generic-problem').show().html(message);\n\n    document.querySelectorAll('.wpstg-report-issue-button').forEach(function(button) {\n      button.addEventListener('click', function() {\n        setTimeout(function() {\n          document.querySelectorAll('.wpstg-report-show').forEach(function(elem) {\n            elem.style.zIndex = '9999999999';\n          });\n        }, 10);\n      });\n    });\n\n    // Error event information for Staging\n    $.ajax({\n      url: ajaxurl,\n      type: 'POST',\n      dataType: 'json',\n      data: {\n        'action': 'wpstg_staging_job_error',\n        'accessToken': wpstg.accessToken,\n        'nonce': wpstg.nonce,\n        'error_message': message,\n      },\n    });\n  };\n\n  /**\n   * Show warning during cloning or push process when closing tab or browser, or changing page\n   * @param {beforeunload} event\n   * @return {null}\n   */\n  that.warnIfClosingDuringProcess = function(event) {\n    // Only some browsers show the message below, most say something like \"Changes you made may not be saved\" (Chrome) or \"You have unsaved changes. Exit?\"\n    event.returnValue = 'You MUST leave this window open while cloning/pushing. Please wait...';\n    return null;\n  };\n\n  /**\n   * @param response the error object\n   * @param prependMessage Overwrite default error message at beginning\n   * @param appendMessage Overwrite default error message at end\n   * @return void\n   */\n  const showAjaxFatalError = function(response, prependMessage, appendMessage) {\n    prependMessage = prependMessage ? prependMessage + '<br/><br/>' : 'Something went wrong!<br/><br/>';\n    appendMessage = appendMessage ? appendMessage + '<br/><br/>' : '<br/><br/>Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>Small Server Settings</a> or submit an error report and contact us.';\n\n    if (response === false) {\n      showError(prependMessage + ' Error: No response.' + appendMessage);\n      window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n      return;\n    }\n\n    if (typeof response.error !== 'undefined' && response.error) {\n      console.error(response.message);\n      showError(prependMessage + ' Error: ' + response.message + appendMessage);\n      window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n      return;\n    }\n  };\n\n  /**\n   *\n   * @param response\n   * @return {{ok}|*}\n   */\n  const handleFetchErrors = function(response) {\n    if (!response.ok) {\n      showError('Error: ' + response.status + ' - ' + response.statusText + '. Please try again or contact support.');\n    }\n    return response;\n  };\n\n  /** Hide and reset previous thrown visible errors */\n  const resetErrors = function() {\n    cache.get('#wpstg-error-details').hide().html('');\n  };\n\n  /**\n   * Common Elements\n   */\n  const elements = function() {\n    const $workFlow = cache.get('#wpstg-workflow');\n    let urlSpinner = ajaxurl.replace('/admin-ajax.php', '') + '/images/spinner';\n    let timer;\n\n    if (2 < window.devicePixelRatio) {\n      urlSpinner += '-2x';\n    }\n\n    urlSpinner += '.gif';\n\n    ajaxSpinner = '<img src=\\'\\'' + urlSpinner + '\\' alt=\\'\\' class=\\'ajax-spinner general-spinner\\' />';\n\n    const getBaseValues = function() {\n      const path = $('#wpstg-use-target-dir').data('base-path');\n      const uri = $('#wpstg-use-target-hostname').data('base-uri');\n      return {\n        path,\n      };\n    };\n\n    $workFlow\n    // Check / Un-check All Database Tables New\n        .on('click', '.wpstg-button-unselect', function(e) {\n          e.preventDefault();\n\n          if (false === that.areAllTablesChecked) {\n            cache.get('#wpstg_select_tables_cloning .wpstg-db-table').prop('selected', 'selected');\n            cache.get('.wpstg-button-unselect').text('Unselect All');\n            cache.get('.wpstg-db-table-checkboxes').prop('checked', true);\n            that.areAllTablesChecked = true;\n          } else {\n            cache.get('#wpstg_select_tables_cloning .wpstg-db-table').prop('selected', false);\n            cache.get('.wpstg-button-unselect').text('Select All');\n            cache.get('.wpstg-db-table-checkboxes').prop('checked', false);\n            that.areAllTablesChecked = false;\n          }\n        })\n\n    // Check the max length of the clone name and if the clone name already exists\n        .on('keyup', '#wpstg-new-clone-id', function() {\n          // Hide previous errors\n          document.getElementById('wpstg-error-details').style.display = 'none';\n\n          // This request was already sent, clear it up!\n          if ('number' === typeof (timer)) {\n            clearInterval(timer);\n          }\n\n          // Early bail if site name is empty\n          if (this.value === undefined || this.value === '') {\n            cache.get('#wpstg-new-clone-id').removeClass('wpstg-error-input');\n            cache.get('#wpstg-start-cloning').removeAttr('disabled');\n            cache.get('#wpstg-clone-id-error').text('').hide();\n            return;\n          }\n\n          // Convert the site name to directory name (slugify the site name to create directory name)\n          const cloneDirectoryName = WPStagingCommon.slugify(this.value);\n\n          timer = setTimeout(\n              function() {\n                ajax(\n                    {\n                      action: 'wpstg_check_clone',\n                      accessToken: wpstg.accessToken,\n                      nonce: wpstg.nonce,\n                      directoryName: cloneDirectoryName,\n                    },\n                    function(response) {\n                      if (!response) {\n                        cache.get('#wpstg-new-clone-id').addClass('wpstg-error-input');\n                        cache.get('#wpstg-start-cloning').prop('disabled', true);\n                        dom.notify('error', 'Error: Please choose correct name for the staging site.');\n                        return;\n                      }\n\n                      if (response.status === 'success') {\n                        cache.get('#wpstg-new-clone-id').removeClass('wpstg-error-input');\n                        cache.get('#wpstg-start-cloning').removeAttr('disabled');\n                        cache.get('#wpstg-clone-id-error').text('').hide();\n                      } else {\n                        cache.get('#wpstg-new-clone-id').addClass('wpstg-error-input');\n                        cache.get('#wpstg-start-cloning').prop('disabled', true);\n                        cache.get('#wpstg-clone-id-error').text(response.message).show();\n                      }\n                    },\n                );\n              },\n              500,\n          );\n        })\n    // Restart cloning process\n        .on('click', '#wpstg-start-cloning', function() {\n          resetErrors();\n          that.isCancelled = false;\n          that.progressBar = 0;\n        })\n        .on('input', '#wpstg-new-clone-id', function() {\n          if ($('#wpstg-clone-directory').length < 1) {\n            return;\n          }\n\n          const slug = WPStagingCommon.slugify(this.value).substring(0, 16).trim();\n          const $targetDir = $('#wpstg-use-target-dir');\n          const $targetUri = $('#wpstg-use-target-hostname');\n          let path = $targetDir.data('base-path');\n          let uri = $targetUri.data('base-uri');\n\n          if (path && slug) {\n            path = dom.normalizeAndAppendSlug(path, slug);\n          }\n\n          if (uri) {\n            uri = uri.replace(/\\/+$/g, '') + '/' + slug;\n          }\n\n\n          $('.wpstg-use-target-dir--value').text(path);\n          $('.wpstg-use-target-hostname--value').text(uri);\n\n          $targetDir.attr('data-path', path);\n          $targetUri.attr('data-uri', uri);\n          $('#wpstg_clone_dir').attr('placeholder', path);\n          $('#wpstg_clone_hostname').attr('placeholder', uri);\n        })\n        .on('input', '#wpstg_clone_hostname', function() {\n          if ($(this).val() === '' || validateTargetHost()) {\n            $('#wpstg_clone_hostname_error').remove();\n            return;\n          }\n          if (!validateTargetHost() && !$('#wpstg_clone_hostname_error').length) {\n            $('#wpstg-clone-directory tr:last-of-type').after('<tr><td>&nbsp;</td><td><p id=\"wpstg_clone_hostname_error\" style=\"color: red;\">&nbsp;Invalid host name. Please provide it in a format like http://example.com</p></td></tr>');\n          }\n        })\n    ;\n\n    cloneActions();\n  };\n\n  /* @returns {boolean} */\n  var validateTargetHost = function() {\n    const the_domain = $('#wpstg_clone_hostname').val();\n\n    if (the_domain === '') {\n      return true;\n    }\n\n    const reg = /^http(s)?:\\/\\/.*$/;\n    if (reg.test(the_domain) === false) {\n      return false;\n    }\n    return true;\n  };\n\n  /**\n     * Clone actions\n     */\n  var cloneActions = function() {\n    const $workFlow = cache.get('#wpstg-workflow');\n\n    $workFlow\n    // Cancel cloning\n        .on('click', '#wpstg-cancel-cloning', function() {\n          if (!confirm('Are you sure you want to cancel cloning process?')) {\n            return false;\n          }\n\n          const $this = $(this);\n\n          $('#wpstg-try-again, #wpstg-home-link').hide();\n          $this.prop('disabled', true);\n\n          that.isCancelled = true;\n          that.progressBar = 0;\n\n          $('#wpstg-processing-status').text('Please wait...this can take up a while.');\n          $('.wpstg-loader, #wpstg-show-log-button').hide();\n\n          $this.parent().append(ajaxSpinner);\n\n          cancelCloning();\n        })\n    // Resume cloning\n        .on('click', '#wpstg-resume-cloning', function() {\n          resetErrors();\n          const $this = $(this);\n\n          $('#wpstg-try-again, #wpstg-home-link').hide();\n\n          that.isCancelled = false;\n\n          $('#wpstg-processing-status').text('Try to resume cloning process...');\n          $('#wpstg-error-details').hide();\n          $('.wpstg-loader').show();\n\n          $this.parent().append(ajaxSpinner);\n\n          that.startCloning();\n        })\n    // Cancel update cloning\n        .on('click', '#wpstg-cancel-cloning-update', function() {\n          resetErrors();\n\n          const $this = $(this);\n          $('#wpstg-try-again, #wpstg-home-link').hide();\n          $this.prop('disabled', true);\n\n          that.isCancelled = true;\n\n          $('#wpstg-cloning-result').text('Please wait...this can take up a while.');\n          $('.wpstg-loader, #wpstg-show-log-button').hide();\n\n          $this.parent().append(ajaxSpinner);\n\n          cancelCloningUpdate();\n        })\n    // Restart cloning\n        .on('click', '#wpstg-restart-cloning', function() {\n          resetErrors();\n\n          const $this = $(this);\n\n          $('#wpstg-try-again, #wpstg-home-link').hide();\n          $this.prop('disabled', true);\n\n          that.isCancelled = true;\n\n          $('#wpstg-cloning-result').text('Please wait...this can take up a while.');\n          $('.wpstg-loader, #wpstg-show-log-button').hide();\n\n          $this.parent().append(ajaxSpinner);\n\n          restart();\n        })\n    // Delete clone - confirmation\n        .on('click', '.wpstg-remove-clone[data-clone]', function(e) {\n          dom.setLoadingPlaceholder().then(() => dom.loadingPlaceholder());\n          resetErrors();\n          e.preventDefault();\n          $workFlow.removeClass('active');\n\n          cache.get('.wpstg-loader').show();\n          const cloneData = $(this).data('clone');\n          const stagingSiteName = $(this).data('name');\n\n          ajax(\n              {\n                action: 'wpstg_confirm_delete_clone',\n                accessToken: wpstg.accessToken,\n                nonce: wpstg.nonce,\n                clone: $(this).data('clone'),\n              },\n              function(response) {\n                WPStagingCommon.getSwalModal(true, {\n                  popup: 'wpstg-swal-popup wpstg-centered-modal wpstg-delete-staging-site-modal',\n                  content: 'wpstg--process--content',\n                }).fire({\n                  title: 'Delete staging site \"' + stagingSiteName + '\"',\n                  icon: 'error',\n                  html: response,\n                  width: '100%',\n                  focusConfirm: false,\n                  confirmButtonText: 'Delete',\n                  confirmButtonColor: '#e01e5a',\n                  showCancelButton: true,\n                  onRender: () => {\n                    const wpstgUnselectAllTables = document.getElementById('wpstg-unselect-all-tables');\n                    const wpstgUnselectAllTablesId = document.getElementById('wpstg-unselect-all-tables-id');\n\n                    if (wpstgUnselectAllTables !== null) {\n                      wpstgUnselectAllTables.addEventListener('click', function(e) {\n                        if (that.areAllTablesChecked === false) {\n                          cache.get('#wpstg_select_tables_cloning .wpstg-db-table').prop('selected', 'selected');\n                          cache.get('#wpstgUnselectAllTablesId').text('Unselect All');\n                          wpstgUnselectAllTablesId.textContent = 'Unselect All';\n                          cache.get('.wpstg-db-table-checkboxes').prop('checked', true);\n                          that.areAllTablesChecked = true;\n                        } else {\n                          cache.get('#wpstg_select_tables_cloning .wpstg-db-table').prop('selected', false);\n                          cache.get('#wpstgUnselectAllTablesId').text('Select All');\n                          wpstgUnselectAllTablesId.textContent = 'Select All';\n                          cache.get('.wpstg-db-table-checkboxes').prop('checked', false);\n                          that.areAllTablesChecked = false;\n                        }\n                      });\n                    }\n\n                    const swalContainer = document.querySelector('.wpstg--swal2-html-container');\n                    swalContainer.classList.remove('wpstg--swal2-html-container');\n                    const _deleteButton = document.querySelector('.wpstg--swal2-confirm');\n                    _deleteButton.style.background = '#e01e5a';\n                    document.querySelector('.wpstg--swal2-x-mark-line-left').style.background = '#e01e5a';\n                    document.querySelector('.wpstg--swal2-x-mark-line-right').style.background = '#e01e5a';\n                    document.querySelector('.wpstg--swal2-icon.wpstg--swal2-error').style.borderColor = '#e01e5a';\n\n                    const _btnCancel = WPStagingCommon.getSwalContainer().getElementsByClassName('wpstg--swal2-cancel wpstg--btn--cancel')[0];\n                    const btnCancel = _btnCancel.cloneNode(true);\n                    _btnCancel.parentNode.replaceChild(btnCancel, _btnCancel);\n                    btnCancel.addEventListener('click', function(e) {\n                      WPStagingCommon.closeSwalModal();\n                      that.modal.instance = null;\n                      cache.get('.wpstg-loader').removeClass('wpstg-finished');\n                      hideWpstgLoader();\n                      dom.loadingPlaceholder('hidden');\n                    });\n                  },\n                }).then(function(result) {\n                  if (result.value) {\n                    const deleteDirectory = document.querySelector('#deleteDirectory:checked');\n                    let deleteDir = '';\n                    const excludedTables = [];\n                    if (deleteDirectory !== null) {\n                      deleteDir = deleteDirectory.getAttribute('data-deletepath');\n                    }\n                    $('.wpstg-db-table input:not(:checked)').each(function() {\n                      excludedTables.push(this.name);\n                    });\n\n                    // WPStagingCommon.closeSwalModal();\n                    that.modal.instance = null;\n                    const params = {\n                      'job': 'delete',\n                    };\n                    that.wpstgProcessModal.openProcessModal({'action': 'wpstg_delete_clone', 'cloneID': cloneData}, params, false, false);\n                    deleteClone(cloneData, deleteDir, excludedTables);\n                  }\n                });\n              },\n              'HTML',\n          );\n        })\n    // Delete clone - confirmed\n        .on('click', '#wpstg-remove-clone', function(e) {\n          resetErrors();\n          e.preventDefault();\n\n          cache.get('.wpstg-loader').show();\n\n          deleteClone($(this).data('clone'));\n        })\n    // Cancel deleting clone\n        .on('click', '#wpstg-cancel-removing', function(e) {\n          e.preventDefault();\n          $('.wpstg-clone').removeClass('active');\n          cache.get('#wpstg-removing-clone').html('');\n        })\n    // Update\n        .on('click', '.wpstg-execute-clone', function(e) {\n          e.preventDefault();\n\n          const clone = $(this).data('clone');\n\n          that.cloneExcludeFilters = null;\n          ajax(\n              {\n                action: 'wpstg_scanning',\n                clone: clone,\n                accessToken: wpstg.accessToken,\n                nonce: wpstg.nonce,\n              },\n              function(response) {\n                if (response.length < 1) {\n                  showError(\n                      'Something went wrong! Error: No response. Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>Small Server Settings</a> or submit an error report and contact us.',\n                  );\n                }\n\n                const jsonResponse = tryParseJson(response);\n                if (jsonResponse !== false && jsonResponse.success === false) {\n                  showErrorModal(jsonResponse);\n\n                  return;\n                }\n\n                $workFlow.html(response);\n                // register check disk space function for clone update process.\n                checkDiskSpace();\n                that.directoryNavigator = new WpstgDirectoryNavigation('#wpstg-directories-listing', wpstg, that.notyf);\n                that.directoryNavigator.countSelectedFiles();\n                that.tableSelector = new WpstgTableSelection('#wpstg-scanning-db', '#wpstg-workflow', '#wpstg_network_clone', '#wpstg_select_tables_cloning', wpstg, that.notyf);\n                that.tableSelector.countSelectedTables();\n                that.cloneExcludeFilters = new WpstgExcludeFilters();\n                that.switchStep(2);\n              },\n              'HTML',\n          );\n        })\n        .on('click', '#wpstg-update-cloning-site-button', function(e) {\n          window.open(that.data.cloneHostname, '_blank');\n        })\n    // Reset Clone\n        .on('click', '.wpstg-reset-clone', function(e) {\n          e.preventDefault();\n          const clone = $(this).data('clone');\n          const resetModal = new WpstgResetModal(clone);\n          resetModal.setNetworkClone($(this).data('network') === 'yes');\n          const promise = resetModal.showModal();\n          that.areAllTablesChecked = true;\n\n          promise.then((result) => {\n            if (result.value) {\n              const dirNavigator = resetModal.getDirectoryNavigator();\n              const tableSelector = resetModal.getTableSelector();\n              const exclFilters = resetModal.getExcludeFilters().getExcludeFilters();\n\n              let includedTables = '';\n              let excludedTables = '';\n              let selectedTablesWithoutPrefix = '';\n              let allTablesExcluded = false;\n\n              if (tableSelector !== null) {\n                includedTables = tableSelector.getIncludedTables();\n                excludedTables = tableSelector.getExcludedTables();\n                selectedTablesWithoutPrefix = tableSelector.getSelectedTablesWithoutPrefix();\n              }\n\n              if (includedTables.length > excludedTables.length) {\n                includedTables = '';\n              } else if (excludedTables.length > includedTables.length) {\n                excludedTables = '';\n                allTablesExcluded = includedTables === '';\n              }\n\n              resetClone(clone, {\n                includedTables: includedTables,\n                excludedTables: excludedTables,\n                allTablesExcluded: allTablesExcluded,\n                selectedTablesWithoutPrefix: selectedTablesWithoutPrefix,\n                excludeSizeRules: encodeURIComponent(exclFilters.sizes),\n                excludeGlobRules: encodeURIComponent(exclFilters.globs),\n                excludedDirectories: dirNavigator.getExcludedDirectories(),\n                extraDirectories: dirNavigator.getExtraDirectoriesRootOnly(),\n              });\n            }\n          });\n\n          return;\n        });\n  };\n\n  /**\n   * Ajax Requests\n   * @param Object data\n   * @param Function callback\n   * @param string dataType\n   * @param bool showErrors\n   * @param int tryCount\n   * @param float incrementRatio\n   */\n  var ajax = function(data, callback, dataType, showErrors, tryCount, incrementRatio = null) {\n    if ('undefined' === typeof (dataType)) {\n      dataType = 'json';\n    }\n\n    if (false !== showErrors) {\n      showErrors = true;\n    }\n\n    tryCount = 'undefined' === typeof (tryCount) ? 0 : tryCount;\n\n    const retryLimit = 5;\n\n    let retryTimeout = 10000 * tryCount;\n\n    incrementRatio = parseInt(incrementRatio);\n    if (!isNaN(incrementRatio)) {\n      retryTimeout *= incrementRatio;\n    }\n\n    let errorMsgFooter = '<br/>Please use the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>Small Server Settings</a> and try again.';\n\n    const pushingErrorMsg = '<br/><br/>If this issue persists, you can use the <strong>Backup & Migration</strong> feature to move your staging site to live. '+\n                          '<a href=\\'https://wp-staging.com/docs/how-to-migrate-your-wordpress-site-to-a-new-host/\\' target=\\'_blank\\'>Read more.</a>';\n\n    const contactUsContent = '<br/><br/><button class=\"wpstg-btn wpstg-primary-btn wpstg-report-issue-button\" type=\"button\">CONTACT US</button> to analyze this issue further.';\n\n    $.ajax({\n      url: ajaxurl + '?action=wpstg_processing&_=' + (Date.now() / 1000),\n      type: 'POST',\n      dataType: dataType,\n      cache: false,\n      data: data,\n      error: async function(xhr, textStatus, errorThrown) {\n        if (WPStaging.requestType === 'wpstg_cloning') {\n          const result = await WPStagingCommon.checkMemoryExhaustion(WPStaging.requestType);\n\n          let helpContent = contactUsContent;\n          if (wpstg.isPro) {\n            helpContent = '<br/><br/>Read <a target=\"_blank\" href=\"' + WPStagingCommon.memoryExhaustArticleLink + '\">this article</a> for solving this issue.'+\n                          '<br/><br/>Please contact WP Staging support if you need further assistance.';\n          }\n\n          if (result !== false) {\n            window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n            WPStaging.requestType = '';\n            // Refetch staging sites and stop all processing\n            hideWpstgLoader();\n            loadOverview();\n            WPStagingCommon.showErrorModal(result.message + '.' + helpContent);\n            return;\n          }\n        }\n\n        if ( WPStaging.requestType === 'wpstg_cloning') {\n          errorMsgFooter += contactUsContent;\n        } else if ( data.action === 'wpstg_push_processing' ) {\n          errorMsgFooter += pushingErrorMsg + contactUsContent;\n        } else {\n          errorMsgFooter = contactUsContent;\n        }\n\n        // try again after 10 seconds\n        tryCount++;\n        if (tryCount <= retryLimit) {\n          console.log('RETRYING ' + tryCount + '/' + retryLimit);\n          setTimeout(function() {\n            ajax(data, callback, dataType, showErrors, tryCount, incrementRatio);\n            return;\n          }, retryTimeout);\n        } else {\n          WPStaging.requestType = '';\n          console.log('RETRYING LIMIT');\n          const errorCode = 'undefined' === typeof (xhr.status) ? 'Unknown' : xhr.status;\n          showError('Fatal Error:  ' + errorCode + ' ' + errorMsgFooter);\n        }\n      },\n      success: function(data) {\n        if ('function' === typeof (callback)) {\n          callback(data);\n        }\n      },\n      statusCode: {\n        0: function() {\n          if (tryCount >= retryLimit) {\n            showError('Error 0 - Connection error. Please check you network connection.');\n          }\n        },\n        404: function() {\n          if (tryCount >= retryLimit) {\n            showError('Error 404 - Can\\'t find ajax request URL.' + contactUsContent);\n          }\n        },\n        500: function() {\n          if (tryCount >= retryLimit) {\n            showError('Fatal Error 500 - Internal server error while processing the request! ' + errorMsgFooter);\n          }\n        },\n        504: function() {\n          if (tryCount > retryLimit) {\n            showError('Error 504 - It seems your server is rate limiting ajax requests. Please try to resume after a minute. ' + contactUsContent);\n          }\n        },\n        502: function() {\n          if (tryCount >= retryLimit) {\n            showError('Error 502 - It seems your server is rate limiting ajax requests. Please try to resume after a minute. ' + contactUsContent);\n          }\n        },\n        503: function() {\n          if (tryCount >= retryLimit) {\n            showError('Error 503 - It seem your server is rate limiting ajax requests. Please try to resume after a minute. ' + contactUsContent);\n          }\n        },\n        429: function() {\n          if (tryCount >= retryLimit) {\n            showError('Error 429 - It seems your server is rate limiting ajax requests. Please try to resume after a minute. ' + contactUsContent);\n          }\n        },\n        403: function() {\n          if (tryCount >= retryLimit) {\n            showError('Refresh page or login again! The process should be finished successfully.');\n          }\n        },\n        400: function() {\n          if (tryCount >= retryLimit) {\n            showError('Error 400: ' + '<strong>It looks like you have been logged out.</strong><br/><br/> <a href=\\'/wp-login.php\\' target=\\'_blank\\' id=\"wpstg-login-link\">Log in again and try again!</a>');\n          }\n        },\n      },\n    });\n  };\n\n  /**\n   * Next / Previous Step Clicks to Navigate Through Staging Job\n   */\n  const stepButtons = function() {\n    const $workFlow = cache.get('#wpstg-workflow');\n\n    $workFlow\n    // Next Button\n        .on('click', '.wpstg-next-step-link', function(e) {\n          e.preventDefault();\n\n          const $this = $(this);\n          const isScan = false;\n\n          if ($('#wpstg_clone_hostname').length && !validateTargetHost()) {\n            $('#wpstg_clone_hostname').focus();\n            return false;\n          }\n\n          if ($this.data('action') === 'wpstg_update' || $this.data('action') === 'wpstg_reset') {\n          // Update / Reset Clone - confirmed\n            if ($this.data('action') === 'wpstg_update') {\n              const selectedSite = $this;\n              const selectedSiteWorkFlow = $workFlow;\n              const selectedAction = $this.data('action');\n\n              WPStagingCommon.getSwalModal(false, {\n                popup: 'wpstg-update-staging-site-modal wpstg-swal-popup wpstg-centered-modal',\n                content: 'wpstg--process--content',\n              }).fire({\n                title: 'Do you want to update the staging site?',\n                icon: 'warning',\n                html: '<div class=\"wpstg-confirm-text-line-height wpstg-mt-10px\">This will overwrite the staging site with all the selected data from the live site.<br>Use this only if you want to clone the live site again.<br><br> ' +\n                    'Unselect all tables and folders that you do not want to overwrite.<br>Do not cancel the update process! This could destroy the staging site.<br>' +\n                    'If you are unsure, create a backup of the staging site before proceeding.<br>' +\n                    'There is no automatic merging of database data!</div>',\n                width: '610px',\n                focusConfirm: false,\n                confirmButtonText: 'Update',\n                showCancelButton: true,\n                onRender: () => {\n                  const swalContainer = document.querySelector('.wpstg--swal2-html-container');\n                  swalContainer.classList.remove('wpstg--swal2-html-container');\n                  const _btnCancel = WPStagingCommon.getSwalContainer().getElementsByClassName('wpstg--swal2-cancel wpstg--btn--cancel')[0];\n                  const btnCancel = _btnCancel.cloneNode(true);\n                  _btnCancel.parentNode.replaceChild(btnCancel, _btnCancel);\n                  btnCancel.addEventListener('click', function(e) {\n                    WPStagingCommon.closeSwalModal();\n                  });\n                },\n              }).then(function(result) {\n                if (result.value) {\n                  const selectedSiteDbCheck = document.querySelector('#wpstg-ext-db');\n                  if (selectedAction === 'wpstg_cloning') {\n                    if (selectedSiteDbCheck.checked) {\n                      verifyExternalDatabase(selectedSite, selectedSiteWorkFlow);\n                      return;\n                    }\n                  }\n                  WPStagingCommon.closeSwalModal();\n                  proceedCloning(selectedSite, selectedSiteWorkFlow);\n                }\n              });\n              return false;\n            }\n          }\n          if ($this.attr('disabled')) {\n            return false;\n          }\n\n          if ($this.data('action') === 'wpstg_cloning') {\n            // Verify External Database If Checked and Not Skipped\n            if ($('#wpstg-ext-db').is(':checked')) {\n              verifyExternalDatabase($this, $workFlow);\n              return;\n            }\n          }\n\n          proceedCloning($this, $workFlow);\n        })\n    // Previous Button\n        .on('click', '.wpstg-prev-step-link', function(e) {\n          e.preventDefault();\n          hideWpstgLoader();\n          cache.get('.wpstg-loader').removeClass('wpstg-finished');\n          loadOverview();\n        });\n  };\n\n  /**\n   * Get Included (Checked) Database Tables\n   * @return {Array}\n   */\n  const getIncludedTables = function() {\n    const includedTables = [];\n\n    $('#wpstg_select_tables_cloning option:selected').each(function() {\n      includedTables.push(this.value);\n    });\n\n    return includedTables;\n  };\n\n  /**\n   * Check if clone destination dir is writable\n   */\n  const isWritableCloneDestinationDir = function() {\n    return new Promise(function(resolve) {\n      ajax(\n          {\n            action: 'wpstg_is_writable_clone_destination_dir',\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n            cloneDir: $('#wpstg_clone_dir').val(),\n          },\n          function(response) {\n            if (response.success) {\n              hideWpstgLoader();\n              resolve(true);\n            } else {\n              showError(\n                  'Something went wrong! Error: ' + response.data?.message,\n              );\n              hideWpstgLoader();\n              document.getElementById('wpstg-error-wrapper').scrollIntoView();\n              resolve(false);\n            }\n          },\n          'json',\n          false,\n      );\n    });\n  };\n\n  /**\n   * Get Excluded (Unchecked) Database Tables\n   * Not used anymore!\n   * @return {Array}\n   */\n  const getExcludedTables = function() {\n    const excludedTables = [];\n    $('.wpstg-db-table input:not(:checked)').each(function() {\n      excludedTables.push(this.name);\n    });\n\n    return excludedTables;\n  };\n\n  /**\n   * Verify External Database for Cloning\n   */\n  var verifyExternalDatabase = function($this, workflow) {\n    cache.get('.wpstg-loader').show();\n    ajax(\n        {\n          action: 'wpstg_database_verification',\n          accessToken: wpstg.accessToken,\n          nonce: wpstg.nonce,\n          databaseUser: cache.get('#wpstg-db-user').val(),\n          databasePassword: cache.get('#wpstg-db-pass').val(),\n          databaseServer: cache.get('#wpstg-db-server').val(),\n          databaseDatabase: cache.get('#wpstg-db-database').val(),\n          databaseSsl: cache.get('#wpstg-db-ssl').is(':checked'),\n        },\n        function(response) {\n        // Undefined Error\n          if (false === response) {\n            showError(\n                'Something went wrong! Error: No response.' +\n            'Please try again. If that does not help, ' +\n            '<a href=\\'https://wp-staging.com/support/\\' target=\\'_blank\\'>open a support ticket</a> ',\n            );\n            hideWpstgLoader();\n            return;\n          }\n\n          // Throw Error\n          if ('undefined' === typeof (response.success)) {\n            showError(\n                'Something went wrong! Error: Invalid response.' +\n            'Please try again. If that does not help, ' +\n            '<a href=\\'https://wp-staging.com/support/\\' target=\\'_blank\\'>open a support ticket</a> ',\n            );\n            hideWpstgLoader();\n            return;\n          }\n\n          if (response.success) {\n            hideWpstgLoader();\n            proceedCloning($this, workflow);\n            return;\n          }\n\n          if (response.error_type === 'comparison') {\n            hideWpstgLoader();\n            let render = '<table class=\"wpstg-db-comparison-table\"><thead><tr><th>Property</th><th>Production DB</th><th>Staging DB</th><th>Status</th></tr></thead><tbody>';\n            response.checks.forEach((x) => {\n              let icon = '<span class=\"wpstg-css-tick\"></span>';\n              if (x.production !== x.staging) {\n                icon = '<span class=\"wpstg-css-cross\"></span>';\n              }\n              render += '<tr><td>' + x.name + '</td><td>' + x.production + '</td><td>' + x.staging + '</td><td>' + icon + '</td></tr>';\n            });\n            render += '</tbody></table><p>Note: Some MySQL/MariaDB properties do not match. You may proceed but the staging site may not work as expected.</p>';\n            WPStagingCommon.getSwalModal(true, {\n              popup: 'wpstg-swal-popup wpstg-db-comparison-modal wpstg-centered-modal',\n            }).fire({\n              title: 'Different Database Properties',\n              icon: 'warning',\n              html: render,\n              width: '650px',\n              focusConfirm: false,\n              confirmButtonText: 'Proceed',\n              showCancelButton: true,\n            }).then(function(result) {\n              if (result.value) {\n                proceedCloning($this, workflow);\n              }\n            });\n            return;\n          }\n\n          WPStagingCommon.getSwalModal(true).fire({\n            title: 'Different Database Properties',\n            icon: 'error',\n            html: response.message,\n            focusConfirm: true,\n            confirmButtonText: 'Ok',\n            showCancelButton: false,\n          });\n          hideWpstgLoader();\n        },\n        'json',\n        false,\n    );\n  };\n\n  /**\n   * Get Cloning Step Data\n   */\n  const getCloningData = function() {\n    if ('wpstg_cloning' !== that.data.action && 'wpstg_update' !== that.data.action && 'wpstg_reset' !== that.data.action) {\n      return;\n    }\n\n    that.data.cloneID = new Date().getTime().toString();\n    if ('wpstg_update' === that.data.action) {\n      that.data.cloneID = $('#wpstg-new-clone-id').data('clone');\n    }\n\n    that.data.cloneName = WPStagingCommon.sanitizeEventAttribute($('#wpstg-new-clone-id').val()) || that.data.cloneID;\n\n    if (that.directoryNavigator !== null) {\n      that.data.excludedDirectories = encodeURIComponent(that.directoryNavigator.getExcludedDirectories());\n      that.data.extraDirectories = encodeURIComponent(that.directoryNavigator.getExtraDirectoriesRootOnly());\n    }\n\n    that.data.excludeGlobRules = '';\n    that.data.excludeSizeRules = '';\n    if (that.cloneExcludeFilters instanceof WpstgExcludeFilters) {\n      const rules = that.cloneExcludeFilters.getExcludeFilters();\n      that.data.excludeGlobRules = encodeURIComponent(rules.globs);\n      that.data.excludeSizeRules = encodeURIComponent(rules.sizes);\n    }\n\n    that.data.includedTables = '';\n    that.data.excludedTables = '';\n    that.data.allTablesExcluded = false;\n\n    if (that.tableSelector !== null) {\n      that.data.includedTables = that.tableSelector.getIncludedTables();\n      that.data.excludedTables = that.tableSelector.getExcludedTables();\n      that.data.selectedTablesWithoutPrefix = that.tableSelector.getSelectedTablesWithoutPrefix();\n    }\n\n    if (that.data.includedTables.length > that.data.excludedTables.length) {\n      that.data.includedTables = '';\n    } else if (that.data.excludedTables.length > that.data.includedTables.length) {\n      that.data.excludedTables = '';\n      that.data.allTablesExcluded = that.data.includedTables === '';\n    }\n\n    if (typeof wpstgPro === 'undefined') {\n      return;\n    }\n\n    if (typeof wpstgPro.getAdvancedCloningOptions === 'function') {\n      that.data = wpstgPro.getAdvancedCloningOptions(that.data);\n    }\n  };\n\n  var proceedCloning = function($this, workflow) {\n    if ($this.data('action') === 'wpstg_cloning') {\n      isCloneDestinationPathSameAsRoot().then((result) => {\n        if (result && wpstg.isPro) {\n          return;\n        }\n\n        return isWritableCloneDestinationDir();\n      }).then((result) => {\n        if (!result) {\n          return;\n        }\n\n        runCloningSteps($this, workflow);\n      }).catch((error) => {\n        dom.notify('error', error);\n      });\n    } else {\n      runCloningSteps($this, workflow);\n    }\n  };\n\n  const runCloningSteps = function($this, workflow) {\n    const animatedLoader = cache.get('.wpstg-loading-bar-container');\n\n    animatedLoader.css('visibility', 'visible');\n\n    // Prepare data\n    that.data = {\n      action: $this.data('action'),\n      accessToken: wpstg.accessToken,\n      nonce: wpstg.nonce,\n    };\n\n    // Cloning data\n    getCloningData();\n\n    sendCloningAjax(workflow);\n  };\n\n  var sendCloningAjax = function(workflow) {\n    const animatedLoader = cache.get('.wpstg-loading-bar-container');\n\n    // Send ajax request\n    ajax(\n        that.data,\n        function(response) {\n        // Undefined Error\n          if (false === response) {\n            showError(\n                'Something went wrong!<br/><br/> Go to WP Staging > Settings and lower \\'File Copy Limit\\' and \\'DB Query Limit\\'. Also set \\'CPU Load Priority to low \\'' +\n            'and try again. If that does not help, ' +\n            '<a href=\\'https://wp-staging.com/support/\\' target=\\'_blank\\'>open a support ticket</a> ',\n            );\n          }\n\n\n          if (response.length < 1) {\n            animatedLoader.css('visibility', 'hidden');\n            showError(\n                'Something went wrong! No response.  Go to WP Staging > Settings and lower \\'File Copy Limit\\' and \\'DB Query Limit\\'. Also set \\'CPU Load Priority to low \\'' +\n            'and try again. If that does not help, ' +\n            '<a href=\\'https://wp-staging.com/support/\\' target=\\'_blank\\'>open a support ticket</a> ',\n            );\n          }\n\n          const jsonResponse = tryParseJson(response);\n          if (jsonResponse !== false && jsonResponse.success === false) {\n            animatedLoader.css('visibility', 'hidden');\n            showErrorModal(jsonResponse);\n\n            return;\n          }\n\n          animatedLoader.css('visibility', 'hidden');\n\n          workflow.html(response);\n\n          that.cloneExcludeFilters = null;\n          if (that.data.action === 'wpstg_scanning') {\n            that.areAllTablesChecked = true;\n            that.directoryNavigator = new WpstgDirectoryNavigation('#wpstg-directories-listing', wpstg, that.notyf);\n            that.tableSelector = new WpstgTableSelection('#wpstg-scanning-db', '#wpstg-workflow', '#wpstg_network_clone', '#wpstg_select_tables_cloning', wpstg);\n            that.switchStep(2);\n            that.cloneExcludeFilters = new WpstgExcludeFilters();\n            that.directoryNavigator.countSelectedFiles();\n            that.tableSelector.countSelectedTables();\n          } else if (that.data.action === 'wpstg_cloning' || that.data.action === 'wpstg_update' || that.data.action === 'wpstg_reset') {\n            that.switchStep(3);\n          }\n\n          // Start cloning\n          that.startCloning();\n        },\n        'HTML',\n    );\n  };\n\n  var showErrorModal = function(response) {\n    const errorModal = new WpstgModal('wpstg_modal_error', wpstg);\n    errorModal.show(Object.assign({\n      title: 'Error',\n      icon: 'error',\n      html: wpstg.i18n['somethingWentWrong'] + (response.message !== undefined ? ('<br/>' + response.message) : ''),\n      width: '500px',\n      confirmButtonText: 'Ok',\n      showCancelButton: false,\n      customClass: {\n        confirmButton: 'wpstg--btn--confirm wpstg-blue-primary wpstg-button wpstg-link-btn',\n        cancelButton: 'wpstg--btn--cancel wpstg-blue-primary wpstg-link-btn',\n        actions: 'wpstg--modal--actions',\n        popup: 'wpstg-swal-popup wpstg-centered-modal',\n      },\n      buttonsStyling: false,\n      reverseButtons: true,\n    }, response.swalOptions), {\n      type: response.type,\n    });\n  };\n\n  const tryParseJson = function(json) {\n    // early bail if not string\n    if (!json) {\n      return false;\n    }\n\n    try {\n      const object = JSON.parse(json);\n      if (object && typeof object === 'object') {\n        return object;\n      }\n    } catch (e) {\n      // do nothing on catch\n    }\n\n    return false;\n  };\n\n  var resetClone = function(clone, excludeOptions) {\n    that.data = {\n      action: 'wpstg_reset',\n      accessToken: wpstg.accessToken,\n      nonce: wpstg.nonce,\n      cloneID: clone,\n    };\n\n    that.data = {...that.data, ...excludeOptions};\n\n    const $workFlow = cache.get('#wpstg-workflow');\n    sendCloningAjax($workFlow);\n  };\n\n  /**\n   * Loads Overview (first step) of Staging Job\n   */\n  var loadOverview = function() {\n    const $workFlow = cache.get('#wpstg-workflow');\n    if (dom.getActivePage() === 'wpstg_clone') {\n      dom.showLoadingBar();\n    }\n\n    ajax(\n        {\n          action: 'wpstg_overview',\n          accessToken: wpstg.accessToken,\n          nonce: wpstg.nonce,\n        },\n        function(response) {\n          if (response.length < 1) {\n            showError(\n                'Something went wrong! No response. Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>Small Server Settings</a> or submit an error report.',\n            );\n          }\n\n          const $currentStep = cache.get('.wpstg-current-step');\n\n          $workFlow.html(response);\n          if (dom.getActivePage() !== 'wpstg_backup') {\n            dom.loadingPlaceholder('hidden');\n          }\n        },\n        'HTML',\n    );\n\n    that.switchStep(1);\n    cache.get('.wpstg-step3-cloning').show();\n    cache.get('.wpstg-step3-pushing').hide();\n  };\n\n  /**\n   * Load Tabs\n   */\n  const tabs = function() {\n    cache.get('#wpstg-workflow').on('click', '.wpstg-tab-header', function(e) {\n      e.preventDefault();\n\n      const $this = $(this);\n      const $section = cache.get($this.data('id'));\n\n      $this.toggleClass('expand');\n\n      $section.slideToggle();\n\n      const tabTriangle = $this.find('.wpstg-tab-triangle');\n\n      if ($this.hasClass('expand')) {\n        tabTriangle.removeClass('wpstg-no-icon');\n        tabTriangle.text('');\n        tabTriangle.addClass('wpstg-rotate-90');\n      } else {\n        tabTriangle.removeClass('wpstg-rotate-90');\n      }\n    });\n  };\n\n  /**\n   * Delete Clone\n   * @param {String} clone\n   * @param {String} deleteDir\n   * @param {array} excludedTables\n   */\n  var deleteClone = function(clone, deleteDir, excludedTables) {\n    ajax(\n        {\n          action: 'wpstg_delete_clone',\n          clone: clone,\n          accessToken: wpstg.accessToken,\n          nonce: wpstg.nonce,\n          excludedTables: excludedTables,\n          deleteDir: deleteDir,\n        },\n        function(response) {\n          if (response) {\n            showAjaxFatalError(response);\n\n            // Finished\n            if ('undefined' !== typeof response.delete && (response.delete === 'finished' || response.delete === 'unfinished')) {\n              if (response.delete === 'finished' && response.error === undefined) {\n                $('.wpstg-clone[data-clone-id=\"' + clone + '\"]').remove();\n              }\n\n              // No staging site message is also of type/class .wpstg-class but hidden\n              // We have just excluded that from search when counting no of clones\n              if ($('#wpstg-existing-clones .wpstg-clone').length < 1) {\n                cache.get('#wpstg-existing-clones').find('h3').text('');\n                cache.get('#wpstg-no-staging-site-results').show();\n              }\n\n              hideWpstgLoader();\n              dom.loadingPlaceholder('hidden');\n              // finish modal popup\n              if (wpstg.i18n.wpstg_delete_clone !== null && response.delete === 'finished') {\n                const params = {\n                  'status': 'finished',\n                };\n                that.wpstgProcessModal.openProcessModal({'action': 'wpstg_delete_clone', 'cloneID': clone}, params, false, false);\n                WPStagingCommon.getSwalModal(true, {\n                  confirmButton: 'wpstg--btn--confirm wpstg-green-button wpstg-button wpstg-link-btn wpstg-100-width',\n                }).fire({\n                  'icon': 'success',\n                  'html': '<div style=\"display:block\"><h2 style=\"color: #565656;\">' + wpstg.i18n.wpstg_delete_clone.title + '</h2></div>',\n                  'confirmButtonText': 'Close',\n                  'showCancelButton': false,\n                  'showConfirmButton': true,\n                }).then(function(result) {\n                  if (result.value) {\n                    WPStagingCommon.closeSwalModal();\n                    dom.loadingPlaceholder('hidden');\n                  }\n                },\n                );\n              }\n              return;\n            }\n          }\n          // continue\n          if (true !== response) {\n            deleteClone(clone, deleteDir, excludedTables);\n            return;\n          }\n        },\n    );\n  };\n\n  /**\n   * Cancel Cloning Process\n   */\n  var cancelCloning = function() {\n    that.timer('stop');\n\n\n    if (true === that.isFinished) {\n      return true;\n    }\n\n    ajax(\n        {\n          action: 'wpstg_cancel_clone',\n          clone: that.data.cloneID,\n          accessToken: wpstg.accessToken,\n          nonce: wpstg.nonce,\n        },\n        function(response) {\n          if (response && 'undefined' !== typeof (response.delete) && response.delete === 'finished') {\n            hideWpstgLoader();\n            // Load overview\n            loadOverview();\n            return;\n          }\n\n          if (true !== response) {\n          // continue\n            cancelCloning();\n            return;\n          }\n\n          // Load overview\n          loadOverview();\n        },\n    );\n  };\n\n  /**\n   * Cancel Cloning Process\n   */\n  var cancelCloningUpdate = function() {\n    if (true === that.isFinished) {\n      return true;\n    }\n\n    ajax(\n        {\n          action: 'wpstg_cancel_update',\n          clone: that.data.cloneID,\n          accessToken: wpstg.accessToken,\n          nonce: wpstg.nonce,\n        },\n        function(response) {\n          if (response && 'undefined' !== typeof (response.delete) && response.delete === 'finished') {\n          // Load overview\n            loadOverview();\n            return;\n          }\n\n          if (true !== response) {\n          // continue\n            cancelCloningUpdate();\n            return;\n          }\n\n          // Load overview\n          loadOverview();\n        },\n    );\n  };\n\n  /**\n   * Cancel Cloning Process\n   */\n  var restart = function() {\n    if (true === that.isFinished) {\n      return true;\n    }\n\n    ajax(\n        {\n          action: 'wpstg_restart',\n          // clone: that.data.cloneID,\n          accessToken: wpstg.accessToken,\n          nonce: wpstg.nonce,\n        },\n        function(response) {\n          if (response && 'undefined' !== typeof (response.delete) && response.delete === 'finished') {\n          // Load overview\n            loadOverview();\n            return;\n          }\n\n          if (true !== response) {\n          // continue\n            cancelCloningUpdate();\n            return;\n          }\n\n          // Load overview\n          loadOverview();\n        },\n    );\n  };\n\n  /**\n   * Append the log to the logging window\n   * @param string log\n   * @return void\n   */\n  const getLogs = function(log) {\n    if (that.processModalType === null) {\n      that.processModalType = that.wpstgProcessModal.getModalType();\n    }\n\n    const $container = $(WPStagingCommon.getSwalContainer());\n    if (Array.isArray(log)) {\n      log.forEach((logMessage) => {\n        if (logMessage !== null) {\n          if (!that.messages.find(({message}) => message === logMessage.message)) {\n            that.messages.push(logMessage);\n            if ($container === null) {\n              return;\n            }\n\n            const $logsContainer = $container.find('.wpstg-' + that.processModalType + '-process-logs');\n            const msgClass = `wpstg--modal--process--msg--${logMessage.type.toLowerCase() || 'info'}`;\n            $logsContainer.append(`<p class=\"${msgClass}\">[${logMessage.type || 'info'}] - [${logMessage.date}] - ${logMessage.message}</p>`);\n          }\n        }\n      });\n    } else {\n      if (!that.messages.find(({message}) => message === log.message)) {\n        that.messages.push(log);\n        if ($container === null) {\n          return;\n        }\n\n        const $logsContainer = $container.find('.wpstg-' + that.processModalType + '-process-logs');\n        const msgClass = `wpstg--modal--process--msg--${log.type.toLowerCase() || 'info'}`;\n        $logsContainer.append(`<p class=\"${msgClass}\">[${log.type || 'info'}] - [${log.date}] - ${log.message}</p>`);\n      }\n    }\n    document.querySelectorAll('.wpstg-' + that.processModalType + '-process-logs').forEach((element) => {\n      element.scrollTop = element.scrollHeight;\n    });\n  };\n\n\n  /**\n   * Check disk space\n   * @return string json\n   */\n  var checkDiskSpace = function() {\n    cache.get('#wpstg-check-space').on('click', function(e) {\n      cache.get('.wpstg-loader').show();\n      dom.showLoadingBar();\n      const excludedDirectories = encodeURIComponent(that.directoryNavigator.getExcludedDirectories());\n      const extraDirectories = encodeURIComponent(that.directoryNavigator.getExtraDirectoriesRootOnly());\n      const isUploadsSymlinked = document.getElementById('wpstg_symlink_upload').checked;\n\n      ajax(\n          {\n            action: 'wpstg_check_disk_space',\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n            excludedDirectories: excludedDirectories,\n            extraDirectories: extraDirectories,\n            isUploadsSymlinked: isUploadsSymlinked,\n          },\n          function(response) {\n            hideWpstgLoader();\n            dom.hideLoadingBar();\n            if (false === response) {\n              cache.get('#wpstg-clone-id-error').text('Can not detect required disk space').show();\n              return;\n            }\n\n            // Show required disk space\n            cache.get('#wpstg-clone-id-error').html(\n                '<strong>Estimated necessary disk space: ' + response.requiredSpace + '</strong>' +\n              (response.errorMessage !== null ? ('<br>' + response.errorMessage) : '') +\n              '<br><span style=\"color:#444;\">Before proceeding, make sure that your server has enough free disk space to clone the website. You can check the available disk space in your hosting customer account (e.g. cPanel).</span>').show();\n          },\n          'json',\n          false,\n      );\n    });\n  };\n\n  /**\n   * Show or hide animated loading icon\n   * @param bool isLoading\n   */\n  const isLoading = function(isLoading) {\n    if (!isLoading || isLoading === false) {\n      hideWpstgLoader();\n    } else {\n      cache.get('.wpstg-loader').show();\n    }\n  };\n\n  /**\n   * Count up processing execution time\n   * @param string status\n   * @return html\n   */\n  that.timer = function(status) {\n    if (status === 'stop') {\n      const time = that.time;\n      that.time = 1;\n      clearInterval(that.executionTime);\n      return that.convertSeconds(time);\n    }\n\n    that.executionTime = setInterval(function() {\n      if (null !== document.getElementById('wpstg-processing-timer')) {\n        document.getElementById('wpstg-processing-timer').innerHTML = 'Elapsed Time: ' + that.convertSeconds(that.time);\n      }\n      that.time++;\n      if (status === 'stop') {\n        that.time = 1;\n        clearInterval(that.executionTime);\n      }\n    }, 1000);\n  };\n\n  /**\n   * Convert seconds to hourly format\n   * @param int seconds\n   * @return string\n   */\n  that.convertSeconds = function(seconds) {\n    const date = new Date(null);\n    date.setSeconds(seconds); // specify value for SECONDS here\n    return date.toISOString().substr(11, 8);\n  };\n\n  /**\n   * Start Cloning Process\n   * @type {Function}\n   */\n  that.startCloning = (function() {\n    resetErrors();\n\n    // Register function for checking disk space\n    checkDiskSpace();\n\n    if ('wpstg_cloning' !== that.data.action && 'wpstg_update' !== that.data.action && 'wpstg_reset' !== that.data.action) {\n      return;\n    }\n\n    that.isCancelled = false;\n\n    // Start the process\n    start();\n\n    // Functions\n    // Start\n    function start() {\n      cache.get('.wpstg-loader').show();\n      cache.get('#wpstg-cancel-cloning').text('Cancel');\n      cache.get('#wpstg-resume-cloning').hide();\n      cache.get('#wpstg-error-details').hide();\n\n\n      // Clone Database\n      setTimeout(function() {\n        // cloneDatabase();\n        window.addEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n        processing();\n      }, wpstg.delayReq);\n    }\n\n\n    /**\n     * Start ajax processing\n     * @return string\n     */\n    var processing = function() {\n      if (true === that.isCancelled) {\n        window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n        return false;\n      }\n\n      isLoading(true);\n\n      let excludedDirectories = '';\n      let extraDirectories = '';\n      if (that.directoryNavigator !== null) {\n        excludedDirectories = that.directoryNavigator.getExcludedDirectories();\n        extraDirectories = that.directoryNavigator.getExtraDirectoriesRootOnly();\n      }\n\n      // Show logging window\n\n      WPStaging.requestType = 'wpstg_cloning';\n\n      WPStaging.ajax(\n          {\n            action: 'wpstg_processing',\n            accessToken: wpstg.accessToken,\n            nonce: wpstg.nonce,\n            excludedTables: getExcludedTables(),\n            excludedDirectories: encodeURIComponent(excludedDirectories),\n            extraDirectories: encodeURIComponent(extraDirectories),\n          },\n          function(response) {\n            showAjaxFatalError(response);\n\n            // Add Log messages\n            if ('undefined' !== typeof (response.last_msg) && response.last_msg) {\n              getLogs(response.last_msg);\n            }\n            // Continue processing\n            if (false === response.status) {\n              progressBar(response);\n\n              setTimeout(function() {\n                processing();\n              }, wpstg.delayReq);\n            } else if (true === response.status && 'finished' !== response.status) {\n              cache.get('#wpstg-error-details').hide();\n              cache.get('#wpstg-error-wrapper').hide();\n              progressBar(response, true);\n              processing();\n            } else if ('finished' === response.status || ('undefined' !== typeof (response.job_done) && response.job_done)) {\n              window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n              WPStaging.requestType = '';\n              finish(response);\n            }\n          },\n          'json',\n          false,\n      );\n    };\n\n    // Finish\n    function finish(response) {\n      if (true === that.getLogs) {\n        getLogs();\n      }\n\n      progressBar(response);\n\n      // Add Log\n      if ('undefined' !== typeof (response.last_msg)) {\n        getLogs(response.last_msg);\n      }\n      if (wpstg.i18n[that.data.action] !== null) {\n        that.wpstgProcessModal.openSuccessModal(wpstg.i18n[that.data.action], true, response.url);\n      }\n    }\n\n    /**\n     * Add percentage progress bar\n     * @param object response\n     * @return {Boolean}\n     */\n    var progressBar = function(response, restart) {\n      if (response !== null) {\n        that.wpstgProcessModal.openProcessModal(that.data, response, true);\n      }\n    };\n  });\n\n  /**\n   * @return {Promise<boolean>}\n   */\n  const isCloneDestinationPathSameAsRoot = function() {\n    return new Promise(function(resolve) {\n      const rootPath = dom.qs('#wpstg-use-target-dir')?.dataset.basePath || '';\n      const destinationPath = dom.qs('#wpstg_clone_dir')?.value || '';\n\n      if (rootPath !== destinationPath) {\n        resolve(false);\n      } else {\n        dom.qs('#wpstg_clone_dir').style.borderColor = 'red';\n        dom.notify('error', 'The target path must be different from the root path of the production website.');\n        resolve(true);\n      }\n    });\n  };\n\n  that.switchStep = function(step) {\n    cache.get('.wpstg-current-step')\n        .removeClass('wpstg-current-step');\n    cache.get('.wpstg-step' + step)\n        .addClass('wpstg-current-step');\n  };\n\n  that.checkUserDbPermissions = function checkUserDbPermissions(operationType) {\n    return new Promise(function(resolve) {\n      WPStaging.ajax({\n        action: 'wpstg_check_user_permissions',\n        accessToken: wpstg.accessToken,\n        nonce: wpstg.nonce,\n        type: operationType,\n      }, function(response) {\n        if (response.success) {\n          resolve(true);\n        } else {\n          WPStagingCommon.getSwalModal(true, {\n            container: 'wpstg-swal-push-container',\n          }).fire({\n            title: '',\n            icon: 'warning',\n            html: response.data.message,\n            width: '750px',\n            focusConfirm: false,\n            confirmButtonText: 'Proceed',\n            showCancelButton: true,\n          }).then(function(result) {\n            if (result.isConfirmed) {\n              resolve(true);\n            }\n          });\n\n          $('#wpstg-db-permission-show-full-message').click(function() {\n            $('#wpstg-permission-info-output').html($('#wpstg-permission-info-data').html());\n          });\n        }\n      }, 'json', false);\n    });\n  };\n\n  /**\n   * Initiation\n   * @type {Function}\n   */\n  that.init = (function() {\n    loadOverview();\n    elements();\n    stepButtons();\n    tabs();\n    WPStagingCommon.listenTooltip();\n    new WpstgMainMenu();\n    new WpstgCloneStaging();\n    new WpstgCloningAdvanceSettings();\n    new WpstgProcessModal();\n    new WpstgSidebarMenu();\n    that.notyf = new Notyf({\n      duration: 10000,\n      position: {\n        x: 'center',\n        y: 'bottom',\n      },\n      dismissible: true,\n      types: [\n        {\n          type: 'warning',\n          background: 'orange',\n          icon: false,\n        },\n      ],\n    });\n  });\n  /**\n   * Ajax call\n   * @type {ajax}\n   */\n  that.ajax = ajax;\n  that.showError = showError;\n  that.getLogs = getLogs;\n  that.loadOverview = loadOverview;\n\n  return that;\n})(jQuery);\n\njQuery(document).ready(function() {\n  WPStaging.init();\n  // This is necessary to make WPStaging var accessible in WP Staging PRO js script\n  window.WPStaging = WPStaging;\n});\n\n/**\n * Report Issue modal\n */\njQuery(document).ready(function($) {\n  $('body').on('click', '.wpstg-report-issue-button', function(e) {\n    e.preventDefault();\n    const contactUsModal = document.querySelector('#wpstg-contact-us-modal');\n    if (contactUsModal != null && typeof contactUsModal !== 'undefined') {\n      dom.show('#wpstg-contact-us-modal');\n      new WpstgContactUs();\n    }\n    $('.wpstg-report-issue-form').toggleClass('wpstg-report-show');\n  });\n\n  $('body').on('click', '.wpstg-backups-report-issue-button', function(e) {\n    e.preventDefault();\n    $('.wpstg-report-issue-form').toggleClass('wpstg-report-show');\n  });\n\n  $('body').on('click', '#wpstg-report-cancel', function(e) {\n    e.preventDefault();\n    $('.wpstg-report-issue-form').removeClass('wpstg-report-show');\n  });\n\n  $('body').on('click', '#wpstg-report-submit', function(e) {\n    e.preventDefault();\n    const self = $(this);\n    sendIssueReport(self, 'false');\n  });\n\n  /*\n   * Close Success Modal\n   */\n  $('body').on('click', '#wpstg-success-button', function(e) {\n    e.preventDefault();\n    $('.wpstg-report-issue-form').removeClass('wpstg-report-show');\n  });\n\n  function sendIssueReport(button, forceSend = 'false') {\n    const spinner = button.next();\n    const email = $('.wpstg--tab--header .wpstg-report-email').val();\n    const hosting_provider = $('.wpstg--tab--header .wpstg-report-hosting-provider').val();\n    const message = $('.wpstg--tab--header .wpstg-report-description').val();\n    const syslog = $('.wpstg--tab--header .wpstg-report-syslog').is(':checked');\n    const terms = $('.wpstg--tab--header .wpstg-report-terms').is(':checked');\n\n    button.attr('disabled', true);\n    spinner.css('visibility', 'visible');\n\n    $.ajax({\n      url: ajaxurl,\n      type: 'POST',\n      dataType: 'json',\n      async: true,\n      data: {\n        'action': 'wpstg_send_report',\n        'accessToken': wpstg.accessToken,\n        'nonce': wpstg.nonce,\n        'wpstg_email': email,\n        'wpstg_provider': hosting_provider,\n        'wpstg_message': message,\n        'wpstg_syslog': +syslog,\n        'wpstg_terms': +terms,\n        'wpstg_force_send': forceSend,\n      },\n    }).done(function(data) {\n      button.attr('disabled', false);\n      spinner.css('visibility', 'hidden');\n\n      if (data.errors.length > 0) {\n        $('.wpstg-report-issue-form .wpstg-message').remove();\n\n        let errorMessage = $('<div />').addClass('wpstg-message wpstg-error-message');\n        $.each(data.errors, function(key, value) {\n          if (value.status === 'already_submitted') {\n            errorMessage = '';\n            // TODO: remove default custom classes\n            WPStagingCommon.getSwalModal(true, {\n              container: 'wpstg-issue-resubmit-confirmation',\n            }).fire({\n              title: '',\n              icon: 'warning',\n              html: value.message,\n              showCancelButton: true,\n              focusConfirm: false,\n              confirmButtonText: 'Yes',\n              cancelButtonText: 'No',\n            }).then((result) => {\n              if (result.isConfirmed) {\n                sendIssueReport(button, 'true');\n              }\n            });\n          } else {\n            errorMessage.append('<p>' + value + '</p>');\n          }\n        });\n\n        $('.wpstg-report-issue-form').prepend(errorMessage);\n      } else {\n        const successMessage = $('<div />').addClass('wpstg-message wpstg-success-message');\n        successMessage.append('<p>Thanks for submitting your request! You should receive an auto reply mail with your ticket ID immediately for confirmation!<br><br>If you do not get that mail please contact us directly at <strong>support@wp-staging.com</strong></p>');\n\n        $('.wpstg--tab--header .wpstg-report-issue-form').html(successMessage);\n        if (document.getElementById('wpstg-modal-close') === null || document.getElementById('wpstg-modal-close') === undefined) {\n          $('.wpstg--tab--header .wpstg-success-message').append('<div class=\"wpstg-mt-10px wpstg-float-right\"><a id=\"wpstg-success-button\" href=\"#\" class=\"wpstg--red\"><span class=\"wpstg-ml-8px\">Close</span></a></div>');\n        }\n\n        // Hide message\n        setTimeout(function() {\n          $('.wpstg--tab--header .wpstg-report-issue-form').removeClass('wpstg-report-active');\n        }, 2000);\n      }\n    });\n  }\n\n  // Open/close actions drop down menu\n  $(document).on('click', '.wpstg-dropdown>.wpstg-dropdown-toggler', function(e) {\n    e.preventDefault();\n    $(e.target).next('.wpstg-dropdown-menu').toggleClass('shown');\n\n    $(e.target).find('.wpstg-caret').toggleClass('wpstg-caret-up');\n  });\n\n  $(document).on('click', '.wpstg-caret', function(e) {\n    e.preventDefault();\n\n    const toggler = $(e.target).closest('.wpstg-dropdown-toggler');\n\n    if (toggler) {\n      toggler.trigger('click');\n    }\n  });\n\n  // Close action drop down menu if clicked anywhere outside\n  document.addEventListener('click', function(event) {\n    const isClickInside = event.target.closest('.wpstg-dropdown-toggler');\n    if (!isClickInside) {\n      const dropDown = document.getElementsByClassName('wpstg-dropdown-menu');\n      for (let i = 0; i < dropDown.length; i++) {\n        dropDown[i].classList.remove('shown');\n      }\n      $('.wpstg-caret').removeClass('wpstg-caret-up');\n    }\n  });\n\n  // \"Event info\" for backup errors\n  window.addEventListener('finishedProcessWithError', function(customEvent) {\n    $.ajax({\n      url: ajaxurl,\n      type: 'POST',\n      dataType: 'json',\n      data: {\n        'action': 'wpstg_job_error',\n        'accessToken': wpstg.accessToken,\n        'nonce': wpstg.nonce,\n        'error_message': customEvent.detail.error,\n        'job_id': WPStagingCommon.getJobId(),\n      },\n    });\n  });\n\n  document.addEventListener('click', function(event) {\n    if (event.target.id !== 'wpstg-login-link') {\n      return;\n    }\n\n    event.preventDefault();\n    window.open('/wp-login.php', '_blank');\n    if (window.WPStaging && window.WPStaging.wpstgProcessModal) {\n      window.WPStaging.wpstgProcessModal.stop();\n      window.WPStaging.loadOverview();\n    }\n  });\n});\n"],"names":["closest","Element","prototype","matches","msMatchesSelector","webkitMatchesSelector","s","el","this","call","parentElement","parentNode","nodeType","element","selector","wpstgHoverIntent","parent","onOver","onOut","x","y","pX","pY","mouseOver","focused","h","state","timer","options","sensitivity","interval","timeout","handleFocus","tracker","e","clientX","clientY","compare","clearTimeout","Math","abs","undefined","setTimeout","dispatchOver","removeEventListener","addEventListener","onMouseOver","event","target","dispatchOut","delay","onMouseOut","onFocus","onBlur","removeFocus","opt","focusOptionChanged","Object","assign","remove","WpstgDetectMemoryExhaust","wpstgObject","wpstg","sendRequest","_sendRequest","_asyncToGenerator","_regeneratorRuntime","mark","_callee","requestType","response","data","wrap","_context","prev","next","fetch","ajaxUrl","method","credentials","body","URLSearchParams","action","accessToken","nonce","headers","sent","json","status","error","abrupt","console","warn","message","t0","i18n","stop","_x","apply","arguments","WPStagingCommon","$","continueErrorHandle","retry","currentDelay","count","max","maxFailedRetries","retryOnErrors","performingRequest","incrementRetry","incrementRatio","canRetry","reset","memoryExhaustArticleLink","cache","elements","get","inArray","refresh","setJobId","jobId","localStorage","setItem","getJobId","getItem","checkMemoryExhaustion","detectMemoryExhaust","listenTooltip","document","querySelector","style","visibility","getSwalModal","isContentCentered","customClasses","defaultCustomClasses","confirmButton","cancelButton","actions","popup","customClass","buttonsStyling","reverseButtons","showClass","wpstgSwal","mixin","showSuccessModal","htmlContent","fire","showConfirmButton","showCancelButton","cancelButtonText","icon","title","html","showWarningModal","showErrorModal","getSwalContainer","getContainer","closeSwalModal","close","getDataFromWordPressResponse","Error","hasOwnProperty","success","Array","length","shift","isLoading","show","hide","slugify","url","toString","toLowerCase","normalize","replace","sanitizeEventAttribute","string","htmlEntityQuotesDecode","showAjaxFatalError","prependMessage","appendMessage","showError","window","WPStaging","warnIfClosingDuringProcess","handleFetchErrors","ok","statusText","css","text","removeClass","resetErrors","ajax","callback","dataType","showErrors","tryCount","errorCallback","retryLimit","retryTimeout","parseInt","isNaN","ajaxurl","Date","now","type","xhr","textStatus","errorThrown","log","errorCode","statusCode","jQuery","qs","all","querySelectorAll","addEvent","evt","handler","slideDown","duration","display","overflow","height","offsetHeight","transitionProperty","transitionDuration","removeProperty","slideUp","getPreviousSibling","sibling","previousElementSibling","handleDisplayDependencies","id","hiddenClass","getAttribute","container","showIfChecked","showIfUnchecked","checked","_step","_iterator","_createForOfIteratorHelperLoose","done","value","classList","add","_step2","_iterator2","handleToggleElement","_step4","_iterator4","toggle","handleCopyPaste","navigator","clipboard","writeText","_step5","_iterator5","handleCopyToClipboard","forEach","notify","Notyf","position","dismissible","types","background","open","showLoadingBar","loadingPlaceholder","loader","hideLoadingBar","getActivePage","location","search","match","setLoadingPlaceholder","_setLoadingPlaceholder","loadingPlaceholderContainer","loadingWrapper","_loadingWrapper$query","_loadingWrapper$query2","_loadingWrapper$first","_loadingWrapper$lastE","line","insertAdjacentHTML","Promise","resolve","firstElementChild","lastElementChild","WpstgContactUs","modalType","characters","currentDate","init","_proto","contactUsModal","askInTheForumForm","contactUsSuccessPopup","contactUsLoader","contactUsSupport","contactUsButton","contactUsButtonBackupTab","reportIssueButton","successForm","contactUsReportIssueBtn","contactUsCloseButton","contactUsSuccessPopupClose","debugCodeCopyButton","contactUsResponse","contactUsDebugCodeField","isDebugWindowOpened","addEvents","notyf","_this","key","dom","sendDebugInfo","copyDebugCode","select","setSelectionRange","generateDebugCode","result","i","charAt","floor","random","getHours","getMinutes","getSeconds","_this2","disabled","debugCode","then","WpstgCloneStaging","pageWrapperId","pageWrapper","enableButtonId","enableAction","reject","reload","WpstgDirectoryNavigation","directoryListingSelector","directoryListingContainer","dirCheckboxSelector","dirExpandSelector","unselectAllDirsSelector","selectDefaultDirsSelector","fetchChildrenAction","currentCheckboxElement","currentParentDiv","currentLoader","existingExcludes","excludedDirectories","isDefaultSelected","preventDefault","toggleDirExpand","unselectAll","selectDefault","toggleDirectoryNavigation","updateDirectorySelection","parseExcludes","checkboxWrapper","changed","path","prefix","dirPath","isChecked","forceDefault","setAttribute","dirContainer","createElement","innerHTML","JSON","parse","directoryListing","appendChild","alert","getExcludedDirectories","_this$wpstgObject$set","_this3","isParentExcluded","push","exclude","isScanned","join","settings","directorySeparator","isParentAlreadyExcluded","dir","startsWith","getExtraDirectoriesRootOnly","extraDirectories","_this$wpstgObject$set2","extraDirectoriesTextArea","extraCustomDirectories","split","concat","countSelectedFiles","map","substr","slice","scanned","cbElement","subDirectories","nextElementSibling","parElem","children","textContent","themesCount","pluginsCount","filesCountElement","WpstgTableSelection","databaseTableSectionSelector","workflowSelector","networkCloneSelector","inputSelector","databaseTableSection","workflow","networkCloneCheckbox","isAllTablesChecked","isMultisite","isNetworkClone","input","setNetworkClone","selectDefaultTables","countSelectedTables","toggleTableSelection","unselectWPSTGTables","getRegexPattern","pattern","tblprefix","isNetwork","regexPattern","option","selected","name","getSelectedTablesWithoutPrefix","selectedTablesWithoutPrefix","getIncludedTables","includedTables","getExcludedTables","excludedTables","tablesCount","tablesCountElement","WpstgExcludeFilters","excludeFilterContainerSelector","excludeContainer","excludeTableBody","addFileSizeExclude","addFileExtExclude","addFileNameExclude","addDirNameExclude","clearExcludes","removeExclude","addExcludeRuleRow","templateName","excludeRowTemplate","excludeRow","content","cloneNode","removeChild","trim","getExcludeFilters","globExcludes","sizeExcludes","sizeCompares","sizeSizes","sizeByte","_i","_Object$entries","entries","_Object$entries$_i","sizeInput","ext","cleanStringForGlob","fileNamesPos","fileNames","_i2","_Object$entries2","_Object$entries2$_i","fileInput","fileName","dirNamesPos","dirNames","_i3","_Object$entries3","_Object$entries3$_i","dirInput","dirName","sizes","filter","onlyUnique","globs","index","self","indexOf","WpstgModal","confirmAction","swalOptions","additionalParams","triggerConfirmAction","WpstgResetModal","cloneID","fetchExcludeSettingsAction","modalErrorAction","resetButtonClass","resetModalContainerClass","resetTabSelector","directoryNavigator","excludeFilters","tableSelector","resetModalContainer","toggleContent","contentId","tabTriangle","isCollapsed","contains","transform","showModal","swalPromise","loadModal","fetchCloneExcludes","getAjaxLoader","width","focusConfirm","confirmButtonText","resetClone","clone","job","modal","renderError","getDirectoryNavigator","getTableSelector","WpstgCloningAdvanceSettings","baseContainerSelector","baseContainer","checkBoxSettingTogglerSelector","toggleSettings","WpstgMainMenu","activeTabClass","mainMenu","workflowContainer","click","$this","targetElements","menuItems","menuItem","targetElement","dispatchEvent","Event","runtime","exports","Op","hasOwn","defineProperty","obj","desc","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","err","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","_invoke","AsyncIterator","PromiseImpl","invoke","record","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","doneResult","delegate","delegateResult","maybeInvokeDelegate","_sent","dispatchException","methodName","TypeError","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","displayName","isGeneratorFunction","genFun","ctor","constructor","setPrototypeOf","__proto__","awrap","async","iter","keys","val","object","reverse","pop","skipTempReset","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","module","regeneratorRuntime","accidentalStrictMode","globalThis","Function","wpstgReAuth","WpstgReAuth","tempHidden","tempHiddenTimeout","shows","getElementById","formElement","wrapElement","noFrameElement","iframeElement","isIframeLoaded","addUnloadEvent","createIframeElement","openModal","focusIframe","setIframeLoadTimeout","focusFallbackElement","returnValue","border","onload","handleIframeLoad","src","dataset","contentDocument","er","handleIframeLoadError","maxHeight","focus","opacity","wpstgAuthCheck","checkUserAuthentication","WpstgAuthCheck","isAuthenticated","start","resetCount","_checkUserAuthentication","wpAuthCheck","createAuthCheckElements","redirectUrl","wpAuthCheckWrap","wpAuthCheckBg","wpAuthCheckDialog","wpAuthCheckForm","wpAuthCheckFallback","wpAuthCheckExpired","wpAuthCheckLoginLink","wpAuthCheckCloseButton","append","WpstgProcessModal","isProcessCancelled","isProcessFinished","processTime","processInterval","disableCancelButton","percentage","cloneId","successModal","showProcessLogs","stagingSiteUrl","setInterval","updateElapsedTime","resetCancelChecks","clearInterval","isCancelled","cancelProcess","confirm","messages","cancelCloneAction","setTitle","setPercentage","params","initializeProcessModal","cancelBtnTxt","instance","showCloseButton","showLoaderOnConfirm","allowEscapeKey","allowOutsideClick","onRender","getElementsByClassName","btnCancel","replaceChild","showLogsButton","showLogs","renderProcessLogs","setProcessModal","processTitleElement","processPercentageElement","openProcessModal","formatTimeDuration","toISOString","getCancelCloneAction","_this4","cancel","find","_this5","loadOverview","initializeSuccessModal","_this6","setSuccessModalContent","messageBody","downloadModalTextElement","wpstgRateUsElement","openSuccessModal","siteUrl","getModalType","processType","logsContainer","msgClass","pElement","className","date","logs","logBtn","hideLogs","childNodes","zIndex","BackupPluginsNotice","wpstgBackupNoticeCloseButton","wpstgBackupNoticeReminderButton","closeBackupPluginNotice","WpstgSystemInfo","wpstgPurgeBackupQueueButton","confirmAndProceedPurge","isConfirmed","ajaxPurgeQueueTable","WpstgSidebarMenu","wpstdStagingTab","wpstdBackupTab","wpstdSidebarMenu","setPageUrl","setSidebarMenu","page","history","pushState","pathname","wpstgSidebarMenuElements","DarkMode","observeDOMChanges","observer","MutationObserver","mutations","mutation","addedNodes","triggerRenderEvent","observerConfig","childList","subtree","observe","documentElement","isDarkMode","dashicon","filePath","wpstgIcon","includes","assetsUrl","setButtonAsActive","mode","item","borderColor","defaultOsColorMode","div","updateFooterLogo","logoUrl","footerLogoAnchor","footerLogoImg","updateBodyClass","setButtonsEventListeners","systemModeButton","lightModeButton","darkModeButton","_callee2","_context2","setMode","_callee3","_context3","_callee4","_context4","_init","_callee6","mediaQuery","_context6","matchMedia","setDefaultOsColorMode","_ref5","_callee5","_context5","_setMode","_callee7","responseData","_context7","_x2","_setDefaultOsColorMode","_callee8","_context8","defaultColorMode","that","isFinished","getLogs","time","executionTime","progressBar","cloneExcludeFilters","areAllTablesChecked","currentJob","processModalType","wpstgProcessModal","ajaxSpinner","hideWpstgLoader","is","scrollTo","button","elem","error_message","validateTargetHost","the_domain","test","cloneActions","$workFlow","on","prop","cancelCloning","startCloning","cancelCloningUpdate","restart","cloneData","stagingSiteName","confirmButtonColor","wpstgUnselectAllTables","wpstgUnselectAllTablesId","_btnCancel","deleteDirectory","deleteDir","each","deleteClone","jsonResponse","tryParseJson","checkDiskSpace","switchStep","cloneHostname","resetModal","promise","dirNavigator","exclFilters","allTablesExcluded","excludeSizeRules","encodeURIComponent","excludeGlobRules","_error","errorMsgFooter","contactUsContent","helpContent","isPro","_x3","verifyExternalDatabase","databaseUser","databasePassword","databaseServer","databaseDatabase","databaseSsl","proceedCloning","error_type","render","checks","production","staging","isCloneDestinationPathSameAsRoot","cloneDir","_response$data","scrollIntoView","runCloningSteps","getTime","cloneName","rules","wpstgPro","getAdvancedCloningOptions","getCloningData","sendCloningAjax","animatedLoader","excludeOptions","_extends","wpstg_delete_clone","$container","isArray","logMessage","_ref","$logsContainer","_ref2","scrollTop","scrollHeight","isUploadsSymlinked","requiredSpace","errorMessage","convertSeconds","seconds","setSeconds","processing","delayReq","last_msg","job_done","_dom$qs","_dom$qs2","basePath","step","addClass","checkUserDbPermissions","operationType","urlSpinner","devicePixelRatio","removeAttr","cloneDirectoryName","directoryName","slug","substring","$targetDir","$targetUri","uri","normalizedPath","attr","after","selectedSite","selectedSiteWorkFlow","selectedAction","selectedSiteDbCheck","stepButtons","$section","toggleClass","slideToggle","hasClass","ready","sendIssueReport","forceSend","spinner","email","hosting_provider","syslog","terms","wpstg_email","wpstg_provider","wpstg_message","wpstg_syslog","wpstg_terms","wpstg_force_send","errors","prepend","successMessage","toggler","trigger","dropDown","customEvent","detail","job_id"],"mappings":"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"}