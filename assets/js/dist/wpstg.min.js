var version=function(){"use strict";function t(t,e,r,n){var s,o,a,i,c=!1,l=!1,u={},g=0,p=0,w={sensitivity:7,interval:100,timeout:0,handleFocus:!1};function m(t){s=t.clientX,o=t.clientY}function f(t,e){if(p&&(p=clearTimeout(p)),Math.abs(a-s)+Math.abs(i-o)<w.sensitivity)return g=1,l?void 0:r(t,e);a=s,i=o,p=setTimeout((function(){f(t,e)}),w.interval)}function h(t,e){return c=!0,p&&(p=clearTimeout(p)),t.removeEventListener("mousemove",m,!1),1!==g&&(a=e.clientX,i=e.clientY,t.addEventListener("mousemove",m,!1),p=setTimeout((function(){f(t,e)}),w.interval)),this}function d(t){t.target.matches(e+", "+e+" *")&&h(t.target.closest(e),t)}function v(t,e){return c=!1,p&&(p=clearTimeout(p)),t.removeEventListener("mousemove",m,!1),1===g&&(p=setTimeout((function(){!function(t,e){p&&(p=clearTimeout(p)),g=0,l||n(t,e)}(t,e)}),w.timeout)),this}function y(t){t.target.matches(e+", "+e+" *")&&v(t.target.closest(e),t)}function E(t){var n,s;t.target.matches(e+", "+e+" *")&&(n=t.target.closest(e),s=t,c||(l=!0,r(n,s)))}function S(t){var r,s;t.target.matches(e+", "+e+" *")&&(r=t.target.closest(e),s=t,!c&&l&&(l=!1,n(r,s)))}function b(){t.removeEventListener("focus",E,!1),t.removeEventListener("blur",S,!1)}return u.options=function(e){var r=e.handleFocus!==w.handleFocus;return w=Object.assign({},w,e),r&&(w.handleFocus?(t.addEventListener("focus",E,!1),t.addEventListener("blur",S,!1)):b()),u},u.remove=function(){t&&(t.removeEventListener("mouseover",d,!1),t.removeEventListener("mouseout",y,!1),b())},t&&(t.addEventListener("mouseover",d,!1),t.addEventListener("mouseout",y,!1)),u}var e,r;return e=jQuery,r={continueErrorHandle:!0,retry:{currentDelay:0,count:0,max:10,retryOnErrors:[401,403,404,429,502,503,504],performingRequest:!1,incrementRetry:function(t){void 0===t&&(t=1.25),r.retry.performingRequest=!0,0===r.retry.currentDelay&&(r.retry.currentDelay=1e3,r.retry.count=1),r.retry.currentDelay+=500*r.retry.count*t,r.retry.count++},canRetry:function(){return r.retry.count<r.retry.max},reset:function(){r.retry.currentDelay=0,r.retry.count=0,r.retry.performingRequest=!1}},cache:{elements:[],get:function(t){return-1!==e.inArray(t,this.elements)||(this.elements[t]=e(t)),this.elements[t]},refresh:function(t){t.elements[t]=e(t)}},setJobId:function(t){localStorage.setItem("jobIdBeingProcessed",t)},getJobId:function(){return localStorage.getItem("jobIdBeingProcessed")},listenTooltip:function(){t(document,".wpstg--tooltip",(function(t,e){t.querySelector(".wpstg--tooltiptext").style.visibility="visible"}),(function(t,e){t.querySelector(".wpstg--tooltiptext").style.visibility="hidden"}))},isEmpty:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},getSwalModal:function(t,e){void 0===t&&(t=!1),void 0===e&&(e={});var r={confirmButton:"wpstg--btn--confirm wpstg-blue-primary wpstg-button wpstg-link-btn wpstg-100-width",cancelButton:"wpstg--btn--cancel wpstg-blue-primary wpstg-link-btn wpstg-100-width",actions:"wpstg--modal--actions",popup:t?"wpstg-swal-popup centered-modal":"wpstg-swal-popup"},n={customClass:Object.assign(r,e),buttonsStyling:!1,reverseButtons:!0,showClass:{popup:"wpstg--swal2-show wpstg-swal-show"}};return wpstgSwal.mixin(n)},showSuccessModal:function(t){this.getSwalModal().fire({showConfirmButton:!1,showCancelButton:!0,cancelButtonText:"OK",icon:"success",title:"Success!",html:'<div class="wpstg--grey" style="text-align: left; margin-top: 8px;">'+t+"</div>"})},showWarningModal:function(t){this.getSwalModal().fire({showConfirmButton:!1,showCancelButton:!0,cancelButtonText:"OK",icon:"warning",title:"",html:'<div class="wpstg--grey" style="text-align: left; margin-top: 8px;">'+t+"</div>"})},showErrorModal:function(t){this.getSwalModal().fire({showConfirmButton:!1,showCancelButton:!0,cancelButtonText:"OK",icon:"error",title:"Error!",html:'<div class="wpstg--grey" style="text-align: left; margin-top: 8px;">'+t+"</div>"})},getSwalContainer:function(){return wpstgSwal.getContainer()},closeSwalModal:function(){wpstgSwal.close()},getDataFromWordPressResponse:function(t){if("object"!=typeof t)throw new Error("Unexpected response (ERR 1341)");if(!t.hasOwnProperty("success"))throw new Error("Unexpected response (ERR 1342)");if(!t.hasOwnProperty("data"))throw new Error("Unexpected response (ERR 1343)");if(!1===t.success)throw t.data instanceof Array&&t.data.length>0?new Error(t.data.shift()):new Error("Response was not successful");return t.data},isLoading:function(t){t&&!1!==t?r.cache.get(".wpstg-loader").show():r.cache.get(".wpstg-loader").hide()},slugify:function(t){return t.toString().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g,"-").replace(/&/g,"-and-").replace(/[^a-z0-9\-]/g,"").replace(/-+/g,"-").replace(/^-*/,"").replace(/-*$/,"")},showAjaxFatalError:function(t,e,n){return e=e?e+"<br/><br/>":"Something went wrong! <br/><br/>",n=n?n+"<br/><br/>":"<br/><br/>Please try the <a href='https://wp-staging.com/docs/wp-staging-settings-for-small-servers/' target='_blank'>WP Staging Small Server Settings</a> or submit an error report and contact us.",!1===t?(r.showError(e+" Error: No response."+n),void window.removeEventListener("beforeunload",WPStaging.warnIfClosingDuringProcess)):void 0!==t.error&&t.error?(r.showError(e+" Error: "+t.message+n),void window.removeEventListener("beforeunload",WPStaging.warnIfClosingDuringProcess)):void 0},handleFetchErrors:function(t){return t.ok||r.showError("Error: "+t.status+" - "+t.statusText+". Please try again or contact support."),t},showError:function(t){r.retry.performingRequest||(r.cache.get("#wpstg-try-again").css("display","inline-block"),r.cache.get("#wpstg-cancel-cloning").text("Reset"),r.cache.get("#wpstg-resume-cloning").show(),r.cache.get("#wpstg-error-wrapper").show(),r.cache.get("#wpstg-error-details").show().html(t),r.cache.get("#wpstg-removing-clone").removeClass("loading"),r.cache.get(".wpstg-loader").hide(),e(".wpstg--modal--process--generic-problem").show().html(t))},resetErrors:function(){r.cache.get("#wpstg-error-details").hide().html("")},ajax:function(t,n,s,o,a,i,c){void 0===i&&(i=null),void 0===c&&(c=null),void 0===s&&(s="json"),!1!==o&&(o=!0);var l=10,u=1e4*(a=void 0===a?0:a);i=parseInt(i),isNaN(i)||(u*=i),e.ajax({url:ajaxurl+"?action=wpstg_processing&_="+Date.now()/1e3,type:"POST",dataType:s,cache:!1,data:t,error:function(e,g,p){if(console.log(e.status+" "+e.statusText+"---"+g),"function"!=typeof c||(c(e,g,p),r.continueErrorHandle))if(++a<=l)setTimeout((function(){r.ajax(t,n,s,o,a,i)}),u);else{var w=void 0===e.status?"Unknown":e.status;r.showError("Fatal Error:  "+w+" Please try the <a href='https://wp-staging.com/docs/wp-staging-settings-for-small-servers/' target='_blank'>WP Staging Small Server Settings</a> or submit an error report and contact us.")}else r.continueErrorHandle=!0},success:function(t){"function"==typeof n&&n(t)},statusCode:{404:function(){a>=l&&r.showError("Error 404 - Can't find ajax request URL! Please try the <a href='https://wp-staging.com/docs/wp-staging-settings-for-small-servers/' target='_blank'>WP Staging Small Server Settings</a> or submit an error report and contact us.")},500:function(){a>=l&&r.showError("Fatal Error 500 - Internal server error while processing the request! Please try the <a href='https://wp-staging.com/docs/wp-staging-settings-for-small-servers/' target='_blank'>WP Staging Small Server Settings</a> or submit an error report and contact us.")},504:function(){a>l&&r.showError("Error 504 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href='https://wp-staging.com/docs/wp-staging-settings-for-small-servers/' target='_blank'>WP Staging Small Server Settings</a> or submit an error report and contact us.\n ")},502:function(){a>=l&&r.showError("Error 502 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href='https://wp-staging.com/docs/wp-staging-settings-for-small-servers/' target='_blank'>WP Staging Small Server Settings</a> or submit an error report and contact us.\n ")},503:function(){a>=l&&r.showError("Error 503 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href='https://wp-staging.com/docs/wp-staging-settings-for-small-servers/' target='_blank'>WP Staging Small Server Settings</a> or submit an error report and contact us.\n ")},429:function(){a>=l&&r.showError("Error 429 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href='https://wp-staging.com/docs/wp-staging-settings-for-small-servers/' target='_blank'>WP Staging Small Server Settings</a> or submit an error report and contact us.\n ")},403:function(){a>=l&&r.showError("Refresh page or login again! The process should be finished successfully. \n ")}}})}}}();
//# sourceMappingURL=wpstg.min.js.map
