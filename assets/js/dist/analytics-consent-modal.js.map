{"version":3,"file":"analytics-consent-modal.js","sources":["../src/analytics-consent-modal.js"],"sourcesContent":["export default class AnalyticsConsentModal {\n  constructor(wpstgObject = wpstg) {\n    this.wpstgObject = wpstgObject;\n    this.isLearnMoreLink = false;\n    this.init();\n  }\n\n  init() {\n    this.consentModalWrapper = document.querySelector('.wpstg-consent-modal-main-wrapper');\n    this.consentModalLearnMoreLink = document.querySelector('#wpstg-admin-notice-learn-more');\n    this.consentModalPermissionList = document.querySelector('#wpstg-consent-modal-permission-list');\n    this.consentModalSkipLink = document.querySelector('#wpstg-skip-activate-notice');\n    this.consentModalGiveConsentButton = document.querySelector('#wpstg-consent-modal-btn-success');\n    this.addEvents();\n  }\n  addEvents() {\n    document.addEventListener('keydown', (event) => {\n      if (event.key === 'Escape') {\n        this.hide(this.consentModalWrapper);\n        this.hide(this.consentModalPermissionList);\n      }\n    });\n    this.consentModalSkipLink.addEventListener('click', () => {\n      this.hide(this.consentModalWrapper);\n      this.hide(this.consentModalPermissionList);\n      location.href = this.wpstgObject.analyticsConsentDeny;\n    });\n    this.consentModalLearnMoreLink.addEventListener('click', () => {\n      this.isLearnMoreLink = !this.isLearnMoreLink;\n      if (this.isLearnMoreLink) {\n        this.consentModalLearnMoreLink.innerHTML = 'Read Less';\n        this.show(this.consentModalPermissionList);\n        return false;\n      }\n      this.consentModalLearnMoreLink.innerHTML = 'Read More';\n      this.hide(this.consentModalPermissionList);\n    });\n    this.consentModalGiveConsentButton.addEventListener('click', () => {\n      this.hide(this.consentModalWrapper);\n      this.hide(this.consentModalPermissionList);\n      location.href = this.wpstgObject.analyticsConsentAllow;\n    });\n  }\n\n  show(element) {\n    element.style.display = 'block';\n  }\n\n  hide(element) {\n    element.style.display = 'none';\n  }\n}\nnew AnalyticsConsentModal();\n"],"names":["AnalyticsConsentModal","wpstgObject","wpstg","isLearnMoreLink","init","_proto","prototype","consentModalWrapper","document","querySelector","consentModalLearnMoreLink","consentModalPermissionList","consentModalSkipLink","consentModalGiveConsentButton","addEvents","_this","addEventListener","event","key","hide","location","href","analyticsConsentDeny","innerHTML","show","analyticsConsentAllow","element","style","display"],"mappings":";;;MAAqBA,qBAAqB,gBAAA,YAAA;IACxC,SAAAA,qBAAAA,CAAYC,WAAW,EAAU;EAAA,IAAA,IAArBA,WAAW,KAAA,KAAA,CAAA,EAAA;EAAXA,MAAAA,WAAW,GAAGC,KAAK,CAAA;EAAA,KAAA;MAC7B,IAAI,CAACD,WAAW,GAAGA,WAAW,CAAA;MAC9B,IAAI,CAACE,eAAe,GAAG,KAAK,CAAA;MAC5B,IAAI,CAACC,IAAI,EAAE,CAAA;EACb,GAAA;EAAC,EAAA,IAAAC,MAAA,GAAAL,qBAAA,CAAAM,SAAA,CAAA;EAAAD,EAAAA,MAAA,CAEDD,IAAI,GAAJ,SAAAA,OAAO;MACL,IAAI,CAACG,mBAAmB,GAAGC,QAAQ,CAACC,aAAa,CAAC,mCAAmC,CAAC,CAAA;MACtF,IAAI,CAACC,yBAAyB,GAAGF,QAAQ,CAACC,aAAa,CAAC,gCAAgC,CAAC,CAAA;MACzF,IAAI,CAACE,0BAA0B,GAAGH,QAAQ,CAACC,aAAa,CAAC,sCAAsC,CAAC,CAAA;MAChG,IAAI,CAACG,oBAAoB,GAAGJ,QAAQ,CAACC,aAAa,CAAC,6BAA6B,CAAC,CAAA;MACjF,IAAI,CAACI,6BAA6B,GAAGL,QAAQ,CAACC,aAAa,CAAC,kCAAkC,CAAC,CAAA;MAC/F,IAAI,CAACK,SAAS,EAAE,CAAA;KACjB,CAAA;EAAAT,EAAAA,MAAA,CACDS,SAAS,GAAT,SAAAA,YAAY;EAAA,IAAA,IAAAC,KAAA,GAAA,IAAA,CAAA;EACVP,IAAAA,QAAQ,CAACQ,gBAAgB,CAAC,SAAS,EAAE,UAACC,KAAK,EAAK;EAC9C,MAAA,IAAIA,KAAK,CAACC,GAAG,KAAK,QAAQ,EAAE;EAC1BH,QAAAA,KAAI,CAACI,IAAI,CAACJ,KAAI,CAACR,mBAAmB,CAAC,CAAA;EACnCQ,QAAAA,KAAI,CAACI,IAAI,CAACJ,KAAI,CAACJ,0BAA0B,CAAC,CAAA;EAC5C,OAAA;EACF,KAAC,CAAC,CAAA;EACF,IAAA,IAAI,CAACC,oBAAoB,CAACI,gBAAgB,CAAC,OAAO,EAAE,YAAM;EACxDD,MAAAA,KAAI,CAACI,IAAI,CAACJ,KAAI,CAACR,mBAAmB,CAAC,CAAA;EACnCQ,MAAAA,KAAI,CAACI,IAAI,CAACJ,KAAI,CAACJ,0BAA0B,CAAC,CAAA;EAC1CS,MAAAA,QAAQ,CAACC,IAAI,GAAGN,KAAI,CAACd,WAAW,CAACqB,oBAAoB,CAAA;EACvD,KAAC,CAAC,CAAA;EACF,IAAA,IAAI,CAACZ,yBAAyB,CAACM,gBAAgB,CAAC,OAAO,EAAE,YAAM;EAC7DD,MAAAA,KAAI,CAACZ,eAAe,GAAG,CAACY,KAAI,CAACZ,eAAe,CAAA;QAC5C,IAAIY,KAAI,CAACZ,eAAe,EAAE;EACxBY,QAAAA,KAAI,CAACL,yBAAyB,CAACa,SAAS,GAAG,WAAW,CAAA;EACtDR,QAAAA,KAAI,CAACS,IAAI,CAACT,KAAI,CAACJ,0BAA0B,CAAC,CAAA;EAC1C,QAAA,OAAO,KAAK,CAAA;EACd,OAAA;EACAI,MAAAA,KAAI,CAACL,yBAAyB,CAACa,SAAS,GAAG,WAAW,CAAA;EACtDR,MAAAA,KAAI,CAACI,IAAI,CAACJ,KAAI,CAACJ,0BAA0B,CAAC,CAAA;EAC5C,KAAC,CAAC,CAAA;EACF,IAAA,IAAI,CAACE,6BAA6B,CAACG,gBAAgB,CAAC,OAAO,EAAE,YAAM;EACjED,MAAAA,KAAI,CAACI,IAAI,CAACJ,KAAI,CAACR,mBAAmB,CAAC,CAAA;EACnCQ,MAAAA,KAAI,CAACI,IAAI,CAACJ,KAAI,CAACJ,0BAA0B,CAAC,CAAA;EAC1CS,MAAAA,QAAQ,CAACC,IAAI,GAAGN,KAAI,CAACd,WAAW,CAACwB,qBAAqB,CAAA;EACxD,KAAC,CAAC,CAAA;KACH,CAAA;EAAApB,EAAAA,MAAA,CAEDmB,IAAI,GAAJ,SAAAA,IAAAA,CAAKE,OAAO,EAAE;EACZA,IAAAA,OAAO,CAACC,KAAK,CAACC,OAAO,GAAG,OAAO,CAAA;KAChC,CAAA;EAAAvB,EAAAA,MAAA,CAEDc,IAAI,GAAJ,SAAAA,IAAAA,CAAKO,OAAO,EAAE;EACZA,IAAAA,OAAO,CAACC,KAAK,CAACC,OAAO,GAAG,MAAM,CAAA;KAC/B,CAAA;EAAA,EAAA,OAAA5B,qBAAA,CAAA;EAAA,CAAA,GAAA;EAEH,IAAIA,qBAAqB,EAAE;;;;;;;;"}