{"version":3,"file":"wpstg.js","sources":["../src/modules/wpstg-hover-intent.js","../src/wpstg.js"],"sourcesContent":["'use strict';\n\n/**\n * This is a namespaced port of https://github.com/tristen/hoverintent,\n * with slight modification to accept selector with dynamically added element in dom,\n * instead of just already present element.\n *\n * @param {HTMLElement} parent\n * @param {string} selector\n * @param {CallableFunction} onOver\n * @param {CallableFunction} onOut\n *\n * @return {object}\n */\nexport default function(parent, selector, onOver, onOut) {\n  let x; let y; let pX; let pY;\n  let mouseOver = false;\n  let focused = false;\n  const h = {};\n  let state = 0;\n  let timer = 0;\n\n  let options = {\n    sensitivity: 7,\n    interval: 100,\n    timeout: 0,\n    handleFocus: false,\n  };\n\n  function delay(el, e) {\n    if (timer) {\n      timer = clearTimeout(timer);\n    }\n\n    state = 0;\n    return focused ? undefined : onOut(el, e);\n  }\n\n  function tracker(e) {\n    x = e.clientX;\n    y = e.clientY;\n  }\n\n  function compare(el, e) {\n    if (timer) timer = clearTimeout(timer);\n    if ((Math.abs(pX - x) + Math.abs(pY - y)) < options.sensitivity) {\n      state = 1;\n      return focused ? undefined : onOver(el, e);\n    } else {\n      pX = x;\n      pY = y;\n      timer = setTimeout(function() {\n        compare(el, e);\n      }, options.interval);\n    }\n  }\n\n  // Public methods\n  h.options = function(opt) {\n    const focusOptionChanged = opt.handleFocus !== options.handleFocus;\n    options = Object.assign({}, options, opt);\n    if (focusOptionChanged) {\n            options.handleFocus ? addFocus() : removeFocus();\n    }\n\n    return h;\n  };\n\n  function dispatchOver(el, e) {\n    mouseOver = true;\n    if (timer) {\n      timer = clearTimeout(timer);\n    }\n\n    el.removeEventListener('mousemove', tracker, false);\n\n    if (state !== 1) {\n      pX = e.clientX;\n      pY = e.clientY;\n\n      el.addEventListener('mousemove', tracker, false);\n\n      timer = setTimeout(function() {\n        compare(el, e);\n      }, options.interval);\n    }\n\n    return this;\n  }\n\n  /**\n   * Newly added method,\n   * A wrapper around dispatchOver to support dynamically added elements to dom\n   */\n  function onMouseOver(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      dispatchOver(event.target.closest(selector), event);\n    }\n  };\n\n  function dispatchOut(el, e) {\n    mouseOver = false;\n    if (timer) {\n      timer = clearTimeout(timer);\n    }\n\n    el.removeEventListener('mousemove', tracker, false);\n\n    if (state === 1) {\n      timer = setTimeout(function() {\n        delay(el, e);\n      }, options.timeout);\n    }\n\n    return this;\n  }\n\n  /**\n   * Newly added method,\n   * A wrapper around dispatchOut to support dynamically added elements to dom\n   */\n  function onMouseOut(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      dispatchOut(event.target.closest(selector), event);\n    }\n  };\n\n  function dispatchFocus(el, e) {\n    if (!mouseOver) {\n      focused = true;\n      onOver(el, e);\n    }\n  }\n\n  /**\n   * Newly added method,\n   * A wrapper around dispatchFocus to support dynamically added elements to dom\n   */\n  function onFocus(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      dispatchFocus(event.target.closest(selector), event);\n    }\n  };\n\n  function dispatchBlur(el, e) {\n    if (!mouseOver && focused) {\n      focused = false;\n      onOut(el, e);\n    }\n  }\n\n  /**\n   * Newly added method,\n   * A wrapper around dispatchBlur to support dynamically added elements to dom\n   */\n  function onBlur(event) {\n    if (event.target.matches(selector + ', ' + selector + ' *')) {\n      dispatchBlur(event.target.closest(selector), event);\n    }\n  };\n\n  /**\n   * Modified to support dynamically added element\n   */\n  function addFocus() {\n    parent.addEventListener('focus', onFocus, false);\n    parent.addEventListener('blur', onBlur, false);\n  }\n\n  /**\n   * Modified to support dynamically added element\n   */\n  function removeFocus() {\n    parent.removeEventListener('focus', onFocus, false);\n    parent.removeEventListener('blur', onBlur, false);\n  }\n\n  /**\n   * Modified to support dynamically added element\n   */\n  h.remove = function() {\n    if (!parent) {\n      return;\n    }\n\n    parent.removeEventListener('mouseover', onMouseOver, false);\n    parent.removeEventListener('mouseout', onMouseOut, false);\n    removeFocus();\n  };\n\n  /**\n   * Modified to support dynamically added element\n   */\n  if (parent) {\n    parent.addEventListener('mouseover', onMouseOver, false);\n    parent.addEventListener('mouseout', onMouseOut, false);\n  }\n\n  return h;\n};\n","import wpstgHoverIntent from './modules/wpstg-hover-intent';\n\nexport default (function($) {\n  const WPStagingCommon = {\n    continueErrorHandle: true,\n    retry: {\n      currentDelay: 0,\n      count: 0,\n      max: 10,\n      retryOnErrors: [401, 403, 404, 429, 502, 503, 504],\n      performingRequest: false,\n      incrementRetry: function(incrementRatio = 1.25) {\n        WPStagingCommon.retry.performingRequest = true;\n        if (WPStagingCommon.retry.currentDelay === 0) {\n          // start with a delay of 1sec\n          WPStagingCommon.retry.currentDelay = 1000;\n          WPStagingCommon.retry.count = 1;\n        }\n\n        WPStagingCommon.retry.currentDelay += (500 * WPStagingCommon.retry.count * incrementRatio);\n        WPStagingCommon.retry.count++;\n      },\n      canRetry: function() {\n        return WPStagingCommon.retry.count < WPStagingCommon.retry.max;\n      },\n      reset: function() {\n        WPStagingCommon.retry.currentDelay = 0;\n        WPStagingCommon.retry.count = 0;\n        WPStagingCommon.retry.performingRequest = false;\n      },\n    },\n    cache: {\n      elements: [],\n      get: function(selector) {\n        // It is already cached!\n        if ($.inArray(selector, this.elements) !== -1) {\n          return this.elements[selector];\n        }\n\n        // Create cache and return\n        this.elements[selector] = $(selector);\n\n        return this.elements[selector];\n      },\n      refresh: function(selector) {\n        selector.elements[selector] = $(selector);\n      },\n    },\n    setJobId: function(jobId) {\n      localStorage.setItem('jobIdBeingProcessed', jobId);\n    },\n    getJobId: function() {\n      return localStorage.getItem('jobIdBeingProcessed');\n    },\n    listenTooltip: function() {\n      wpstgHoverIntent(document, '.wpstg--tooltip', function(target, event) {\n        target.querySelector('.wpstg--tooltiptext').style.visibility = 'visible';\n      }, function(target, event) {\n        target.querySelector('.wpstg--tooltiptext').style.visibility = 'hidden';\n      });\n    },\n    isEmpty: function(obj) {\n      for (const prop in obj) {\n        if (obj.hasOwnProperty(prop)) {\n          return false;\n        }\n      }\n\n      return true;\n    },\n    // Get the custom themed Swal Modal for WP Staging\n    // Easy to maintain now in one place now\n    getSwalModal: function(isContentCentered = false, customClasses = {}) {\n      // common style for all swal modal used in WP Staging\n      const defaultCustomClasses = {\n        confirmButton: 'wpstg--btn--confirm wpstg-blue-primary wpstg-button wpstg-link-btn wpstg-100-width',\n        cancelButton: 'wpstg--btn--cancel wpstg-blue-primary wpstg-link-btn wpstg-100-width',\n        actions: 'wpstg--modal--actions',\n        popup: isContentCentered ? 'wpstg-swal-popup centered-modal' : 'wpstg-swal-popup',\n      };\n\n      // If a attribute exists in both default and additional attributes,\n      // The class(es) of the additional attribute will overrite the default one.\n      const options = {\n        customClass: Object.assign(defaultCustomClasses, customClasses),\n        buttonsStyling: false,\n        reverseButtons: true,\n        showClass: {\n          popup: 'wpstg--swal2-show wpstg-swal-show',\n        },\n      };\n\n      return wpstgSwal.mixin(options);\n    },\n    showSuccessModal: function(htmlContent) {\n      this.getSwalModal().fire({\n        showConfirmButton: false,\n        showCancelButton: true,\n        cancelButtonText: 'OK',\n        icon: 'success',\n        title: 'Success!',\n        html: '<div class=\"wpstg--grey\" style=\"text-align: left; margin-top: 8px;\">' + htmlContent + '</div>',\n      });\n    },\n    showWarningModal: function(htmlContent) {\n      this.getSwalModal().fire({\n        showConfirmButton: false,\n        showCancelButton: true,\n        cancelButtonText: 'OK',\n        icon: 'warning',\n        title: '',\n        html: '<div class=\"wpstg--grey\" style=\"text-align: left; margin-top: 8px;\">' + htmlContent + '</div>',\n      });\n    },\n    showErrorModal: function(htmlContent) {\n      this.getSwalModal().fire({\n        showConfirmButton: false,\n        showCancelButton: true,\n        cancelButtonText: 'OK',\n        icon: 'error',\n        title: 'Error!',\n        html: '<div class=\"wpstg--grey\" style=\"text-align: left; margin-top: 8px;\">' + htmlContent + '</div>',\n      });\n    },\n    getSwalContainer: function() {\n      return wpstgSwal.getContainer();\n    },\n    closeSwalModal: function() {\n      wpstgSwal.close();\n    },\n    /**\n     * Treats a default response object generated by WordPress's\n     * wp_send_json_success() or wp_send_json_error() functions in\n     * PHP, parses it in JavaScript, and either throws if it's an error,\n     * or returns the data if the response is successful.\n     *\n     * @param {object} response\n     * @return {*}\n     */\n    getDataFromWordPressResponse(response) {\n      if (typeof response !== 'object') {\n        throw new Error('Unexpected response (ERR 1341)');\n      }\n\n      if (!response.hasOwnProperty('success')) {\n        throw new Error('Unexpected response (ERR 1342)');\n      }\n\n      if (!response.hasOwnProperty('data')) {\n        throw new Error('Unexpected response (ERR 1343)');\n      }\n\n      if (response.success === false) {\n        if (response.data instanceof Array && response.data.length > 0) {\n          throw new Error(response.data.shift());\n        } else {\n          throw new Error('Response was not successful');\n        }\n      } else {\n        // Successful response. Return the data.\n        return response.data;\n      }\n    },\n    isLoading: function(isLoading) {\n      if (!isLoading || isLoading === false) {\n        WPStagingCommon.cache.get('.wpstg-loader').hide();\n      } else {\n        WPStagingCommon.cache.get('.wpstg-loader').show();\n      }\n    },\n    /**\n     * Convert the given url to make it slug compatible\n     * @param {string} url\n     * @return {string}\n     */\n    slugify: function(url) {\n      return url.toString()\n          .toLowerCase()\n          .normalize('NFD')\n          .replace(/[\\u0300-\\u036f]/g, '')\n          .replace(/\\s+/g, '-')\n          .replace(/&/g, '-and-')\n          .replace(/[^a-z0-9\\-]/g, '')\n          .replace(/-+/g, '-')\n          .replace(/^-*/, '')\n          .replace(/-*$/, '')\n      ;\n    },\n    showAjaxFatalError: function(response, prependMessage, appendMessage) {\n      prependMessage = prependMessage ? prependMessage + '<br/><br/>' : 'Something went wrong! <br/><br/>';\n      appendMessage = appendMessage ? appendMessage + '<br/><br/>' : '<br/><br/>Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.';\n\n      if (response === false) {\n        WPStagingCommon.showError(prependMessage + ' Error: No response.' + appendMessage);\n        window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n        return;\n      }\n\n      if (typeof response.error !== 'undefined' && response.error) {\n        WPStagingCommon.showError(prependMessage + ' Error: ' + response.message + appendMessage);\n        window.removeEventListener('beforeunload', WPStaging.warnIfClosingDuringProcess);\n        return;\n      }\n    },\n    handleFetchErrors: function(response) {\n      if (!response.ok) {\n        WPStagingCommon.showError('Error: ' + response.status + ' - ' + response.statusText + '. Please try again or contact support.');\n      }\n      return response;\n    },\n    showError: function(message) {\n      // If retry request no need to show Error;\n      if (WPStagingCommon.retry.performingRequest) {\n        return;\n      }\n\n      WPStagingCommon.cache.get('#wpstg-try-again').css('display', 'inline-block');\n      WPStagingCommon.cache.get('#wpstg-cancel-cloning').text('Reset');\n      WPStagingCommon.cache.get('#wpstg-resume-cloning').show();\n      WPStagingCommon.cache.get('#wpstg-error-wrapper').show();\n      WPStagingCommon.cache.get('#wpstg-error-details').show().html(message);\n      WPStagingCommon.cache.get('#wpstg-removing-clone').removeClass('loading');\n      WPStagingCommon.cache.get('.wpstg-loader').hide();\n      $('.wpstg--modal--process--generic-problem').show().html(message);\n    },\n    resetErrors: function() {\n      WPStagingCommon.cache.get('#wpstg-error-details').hide().html('');\n    },\n    /**\n     * Ajax Requests\n     * @param {Object} data\n     * @param {Function} callback\n     * @param {string} dataType\n     * @param {bool} showErrors\n     * @param {int} tryCount\n     * @param {float} incrementRatio\n     * @param {function} errorCallback\n     */\n    ajax: function(data, callback, dataType, showErrors, tryCount, incrementRatio = null, errorCallback = null) {\n      if ('undefined' === typeof (dataType)) {\n        dataType = 'json';\n      }\n\n      if (false !== showErrors) {\n        showErrors = true;\n      }\n\n      tryCount = 'undefined' === typeof (tryCount) ? 0 : tryCount;\n\n      const retryLimit = 10;\n\n      let retryTimeout = 10000 * tryCount;\n\n      incrementRatio = parseInt(incrementRatio);\n      if (!isNaN(incrementRatio)) {\n        retryTimeout *= incrementRatio;\n      }\n\n      $.ajax({\n        url: ajaxurl + '?action=wpstg_processing&_=' + (Date.now() / 1000),\n        type: 'POST',\n        dataType: dataType,\n        cache: false,\n        data: data,\n        error: function(xhr, textStatus, errorThrown) {\n          console.log(xhr.status + ' ' + xhr.statusText + '---' + textStatus);\n\n          if (typeof (errorCallback) === 'function') {\n            // Custom error handler\n            errorCallback(xhr, textStatus, errorThrown);\n\n            if (!WPStagingCommon.continueErrorHandle) {\n              // Reset state\n              WPStagingCommon.continueErrorHandle = true;\n\n              return;\n            }\n          }\n\n          // Default error handler\n          tryCount++;\n          if (tryCount <= retryLimit) {\n            setTimeout(function() {\n              WPStagingCommon.ajax(data, callback, dataType, showErrors, tryCount, incrementRatio);\n              return;\n            }, retryTimeout);\n          } else {\n            const errorCode = 'undefined' === typeof (xhr.status) ? 'Unknown' : xhr.status;\n            WPStagingCommon.showError(\n                'Fatal Error:  ' + errorCode + ' Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.',\n            );\n          }\n        },\n        success: function(data) {\n          if ('function' === typeof (callback)) {\n            callback(data);\n          }\n        },\n        statusCode: {\n          404: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Error 404 - Can\\'t find ajax request URL! Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.');\n            }\n          },\n          500: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Fatal Error 500 - Internal server error while processing the request! Please try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.');\n            }\n          },\n          504: function() {\n            if (tryCount > retryLimit) {\n              WPStagingCommon.showError('Error 504 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.\\n\\ ');\n            }\n          },\n          502: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Error 502 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.\\n\\ ');\n            }\n          },\n          503: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Error 503 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.\\n\\ ');\n            }\n          },\n          429: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Error 429 - It looks like your server is rate limiting ajax requests. Please try to resume after a minute. If this still not works try the <a href=\\'https://wp-staging.com/docs/wp-staging-settings-for-small-servers/\\' target=\\'_blank\\'>WP Staging Small Server Settings</a> or submit an error report and contact us.\\n\\ ');\n            }\n          },\n          403: function() {\n            if (tryCount >= retryLimit) {\n              WPStagingCommon.showError('Refresh page or login again! The process should be finished successfully. \\n\\ ');\n            }\n          },\n        },\n      });\n    },\n  };\n\n  return WPStagingCommon;\n})(jQuery);\n"],"names":["parent","selector","onOver","onOut","x","y","pX","pY","mouseOver","focused","h","state","timer","options","sensitivity","interval","timeout","handleFocus","delay","el","e","clearTimeout","undefined","tracker","clientX","clientY","compare","Math","abs","setTimeout","opt","focusOptionChanged","Object","assign","addFocus","removeFocus","dispatchOver","removeEventListener","addEventListener","onMouseOver","event","target","matches","closest","dispatchOut","onMouseOut","dispatchFocus","onFocus","dispatchBlur","onBlur","remove","$","WPStagingCommon","continueErrorHandle","retry","currentDelay","count","max","retryOnErrors","performingRequest","incrementRetry","incrementRatio","canRetry","reset","cache","elements","get","inArray","refresh","setJobId","jobId","localStorage","setItem","getJobId","getItem","listenTooltip","wpstgHoverIntent","document","querySelector","style","visibility","isEmpty","obj","prop","hasOwnProperty","getSwalModal","isContentCentered","customClasses","defaultCustomClasses","confirmButton","cancelButton","actions","popup","customClass","buttonsStyling","reverseButtons","showClass","wpstgSwal","mixin","showSuccessModal","htmlContent","fire","showConfirmButton","showCancelButton","cancelButtonText","icon","title","html","showWarningModal","showErrorModal","getSwalContainer","getContainer","closeSwalModal","close","getDataFromWordPressResponse","response","Error","success","data","Array","length","shift","isLoading","hide","show","slugify","url","toString","toLowerCase","normalize","replace","showAjaxFatalError","prependMessage","appendMessage","showError","window","WPStaging","warnIfClosingDuringProcess","error","message","handleFetchErrors","ok","status","statusText","css","text","removeClass","resetErrors","ajax","callback","dataType","showErrors","tryCount","errorCallback","retryLimit","retryTimeout","parseInt","isNaN","ajaxurl","Date","now","type","xhr","textStatus","errorThrown","console","log","errorCode","statusCode","jQuery"],"mappings":"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"}