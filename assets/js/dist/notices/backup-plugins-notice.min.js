!function(){"use strict";function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _toPropertyKey(t){var i=function(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}function qs(selector){return document.querySelector(selector)}function hide(selector){document.querySelectorAll(selector).forEach((function(element){element.style.display="none"}))}Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(s){var el=this;do{if(Element.prototype.matches.call(el,s))return el;el=el.parentElement||el.parentNode}while(null!==el&&1===el.nodeType);return null});var BackupPluginsNotice=function(){return e=function BackupPluginsNotice(){var wpstgObject=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wpstg;!function(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}(this,BackupPluginsNotice),this.wpstgObject=wpstgObject,this.wpstgBackupNoticeCloseButton=null,this.wpstgBackupNoticeReminderButton=null,this.init()},r=[{key:"init",value:function(){var _this=this;document.addEventListener("DOMContentLoaded",(function(){_this.wpstgBackupNoticeCloseButton=document.getElementById("wpstg-backup-plugin-notice-close"),_this.wpstgBackupNoticeReminderButton=document.getElementById("wpstg-backup-plugin-notice-remind-me"),_this.addEvent()}))}},{key:"addEvent",value:function(){var _this2=this;null!==this.wpstgBackupNoticeCloseButton&&this.wpstgBackupNoticeCloseButton.addEventListener("click",(function(){_this2.closeBackupPluginNotice()})),null!==this.wpstgBackupNoticeReminderButton&&this.wpstgBackupNoticeReminderButton.addEventListener("click",(function(){_this2.closeBackupPluginNotice("wpstg_backup_plugin_notice_remind_me")}))}},{key:"closeBackupPluginNotice",value:function(){var action=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wpstg_backup_plugin_notice_close";fetch(this.wpstgObject.ajaxUrl,{method:"POST",credentials:"same-origin",body:new URLSearchParams({action:action,nonce:this.wpstgObject.nonce}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(response){if(response.ok)return response.json()})).then((function(data){data.success&&(qs(".wpstg-backup-plugin-notice-container").style.opacity=0,setTimeout((function(){hide(".wpstg-backup-plugin-notice-container")}),500))})).catch((function(error){qs(".wpstg-backup-plugin-notice-container").style.opacity=0,setTimeout((function(){hide(".wpstg-backup-plugin-notice-container")}),500)}))}}],r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,t}();new BackupPluginsNotice}();
